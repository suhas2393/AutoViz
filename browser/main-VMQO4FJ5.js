var Pk=Object.create;var kg=Object.defineProperty,_k=Object.defineProperties,kk=Object.getOwnPropertyDescriptor,Lk=Object.getOwnPropertyDescriptors,Ok=Object.getOwnPropertyNames,s0=Object.getOwnPropertySymbols,Nk=Object.getPrototypeOf,r0=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable;var n0=(e,t,i)=>t in e?kg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,U=(e,t)=>{for(var i in t||={})r0.call(t,i)&&n0(e,i,t[i]);if(s0)for(var i of s0(t))Bk.call(t,i)&&n0(e,i,t[i]);return e},be=(e,t)=>_k(e,Lk(t));var Gk=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Vk=(e,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ok(t))!r0.call(e,n)&&n!==i&&kg(e,n,{get:()=>t[n],enumerable:!(s=kk(t,n))||s.enumerable});return e};var Hk=(e,t,i)=>(i=e!=null?Pk(Nk(e)):{},Vk(t||!e||!e.__esModule?kg(i,"default",{value:e,enumerable:!0}):i,e));var Do=(e,t,i)=>new Promise((s,n)=>{var r=h=>{try{d(i.next(h))}catch(v){n(v)}},a=h=>{try{d(i.throw(h))}catch(v){n(v)}},d=h=>h.done?s(h.value):Promise.resolve(h.value).then(r,a);d((i=i.apply(e,t)).next())});var w1=Gk((Cc,kb)=>{"use strict";(function(e,t){typeof Cc=="object"&&typeof kb=="object"?(e._Highcharts=t(),kb.exports=e._Highcharts):typeof define=="function"&&define.amd?define("highcharts/highcharts",[],t):typeof Cc=="object"?(e._Highcharts=t(),Cc.highcharts=e._Highcharts):(e.Highcharts&&e.Highcharts.error(16,!0),e.Highcharts=t())})(typeof window>"u"?Cc:window,()=>(()=>{"use strict";let e,t;var i,s,n,r,a,d,h,v,b,D,R,A,k,L,H,$,Z,Q={};Q.d=(C,o)=>{for(var l in o)Q.o(o,l)&&!Q.o(C,l)&&Object.defineProperty(C,l,{enumerable:!0,get:o[l]})},Q.o=(C,o)=>Object.prototype.hasOwnProperty.call(C,o);var se={};Q.d(se,{default:()=>Fk}),function(C){C.SVG_NS="http://www.w3.org/2000/svg",C.product="Highcharts",C.version="12.1.2",C.win=typeof window<"u"?window:{},C.doc=C.win.document,C.svg=C.doc&&C.doc.createElementNS&&!!C.doc.createElementNS(C.SVG_NS,"svg").createSVGRect,C.pageLang=C.doc?.documentElement?.closest("[lang]")?.lang,C.userAgent=C.win.navigator&&C.win.navigator.userAgent||"",C.isChrome=C.win.chrome,C.isFirefox=C.userAgent.indexOf("Firefox")!==-1,C.isMS=/(edge|msie|trident)/i.test(C.userAgent)&&!C.win.opera,C.isSafari=!C.isChrome&&C.userAgent.indexOf("Safari")!==-1,C.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(C.userAgent),C.isWebKit=C.userAgent.indexOf("AppleWebKit")!==-1,C.deg2rad=2*Math.PI/360,C.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],C.noop=function(){},C.supportsPassiveEvents=function(){let o=!1;if(!C.isMS){let l=Object.defineProperty({},"passive",{get:function(){o=!0}});C.win.addEventListener&&C.win.removeEventListener&&(C.win.addEventListener("testPassive",C.noop,l),C.win.removeEventListener("testPassive",C.noop,l))}return o}(),C.charts=[],C.composed=[],C.dateFormats={},C.seriesTypes={},C.symbolSizes={},C.chartCount=0}(i||(i={}));let W=i,{charts:le,doc:me,win:Fe}=W;function ye(C,o,l,c){let u=o?"Highcharts error":"Highcharts warning";C===32&&(C=`${u}: Deprecated member`);let p=Pa(C),g=p?`${u} #${C}: www.highcharts.com/errors/${C}/`:C.toString();if(c!==void 0){let f="";p&&(g+="?"),ur(c,function(m,y){f+=`
 - ${y}: ${m}`,p&&(g+=encodeURI(y)+"="+encodeURI(m))}),g+=f}Nb(W,"displayError",{chart:l,code:C,message:g,params:c},function(){if(o)throw Error(g);Fe.console&&ye.messages.indexOf(g)===-1&&console.warn(g)}),ye.messages.push(g)}function tt(C,o){return parseInt(C,o||10)}function ct(C){return typeof C=="string"}function ti(C){let o=Object.prototype.toString.call(C);return o==="[object Array]"||o==="[object Array Iterator]"}function ii(C,o){return!!C&&typeof C=="object"&&(!o||!ti(C))}function $t(C){return ii(C)&&typeof C.nodeType=="number"}function dr(C){let o=C&&C.constructor;return!!(ii(C,!0)&&!$t(C)&&o&&o.name&&o.name!=="Object")}function Pa(C){return typeof C=="number"&&!isNaN(C)&&C<1/0&&C>-1/0}function en(C){return C!=null}function _a(C,o,l){let c,u=ct(o)&&!en(l),p=(g,f)=>{en(g)?C.setAttribute(f,g):u?(c=C.getAttribute(f))||f!=="class"||(c=C.getAttribute(f+"Name")):C.removeAttribute(f)};return ct(o)?p(l,o):ur(o,p),c}function Kt(C){return ti(C)?C:[C]}function zi(C,o){let l;for(l in C||(C={}),o)C[l]=o[l];return C}function tn(){let C=arguments,o=C.length;for(let l=0;l<o;l++){let c=C[l];if(c!=null)return c}}function Is(C,o){zi(C.style,o)}function ka(C){return Math.pow(10,Math.floor(Math.log(C)/Math.LN10))}function Lb(C,o){return C>1e14?C:parseFloat(C.toPrecision(o||14))}(ye||(ye={})).messages=[],Math.easeInOutSine=function(C){return-.5*(Math.cos(Math.PI*C)-1)};let S1=Array.prototype.find?function(C,o){return C.find(o)}:function(C,o){let l,c=C.length;for(l=0;l<c;l++)if(o(C[l],l))return C[l]};function ur(C,o,l){for(let c in C)Object.hasOwnProperty.call(C,c)&&o.call(l||C[c],C[c],c,C)}function Ob(C,o,l){function c(g,f){let m=C.removeEventListener;m&&m.call(C,g,f,!1)}function u(g){let f,m;C.nodeName&&(o?(f={})[o]=!0:f=g,ur(f,function(y,S){if(g[S])for(m=g[S].length;m--;)c(S,g[S][m].fn)}))}let p=typeof C=="function"&&C.prototype||C;if(Object.hasOwnProperty.call(p,"hcEvents")){let g=p.hcEvents;if(o){let f=g[o]||[];l?(g[o]=f.filter(function(m){return l!==m.fn}),c(o,l)):(u(g),g[o]=[])}else u(g),delete p.hcEvents}}function Nb(C,o,l,c){if(l=l||{},me.createEvent&&(C.dispatchEvent||C.fireEvent&&C!==W)){let u=me.createEvent("Events");u.initEvent(o,!0,!0),l=zi(u,l),C.dispatchEvent?C.dispatchEvent(l):C.fireEvent(o,l)}else if(C.hcEvents){l.target||zi(l,{preventDefault:function(){l.defaultPrevented=!0},target:C,type:o});let u=[],p=C,g=!1;for(;p.hcEvents;)Object.hasOwnProperty.call(p,"hcEvents")&&p.hcEvents[o]&&(u.length&&(g=!0),u.unshift.apply(u,p.hcEvents[o])),p=Object.getPrototypeOf(p);g&&u.sort((f,m)=>f.order-m.order),u.forEach(f=>{f.fn.call(C,l)===!1&&l.preventDefault()})}c&&!l.defaultPrevented&&c.call(C,l)}let x1=function(){let C=Math.random().toString(36).substring(2,9)+"-",o=0;return function(){return"highcharts-"+(e?"":C)+o++}}();Fe.jQuery&&(Fe.jQuery.fn.highcharts=function(){let C=[].slice.call(arguments);if(this[0])return C[0]?(new W[ct(C[0])?C.shift():"Chart"](this[0],C[0],C[1]),this):le[_a(this[0],"data-highcharts-chart")]});let he={addEvent:function(C,o,l,c={}){let u=typeof C=="function"&&C.prototype||C;Object.hasOwnProperty.call(u,"hcEvents")||(u.hcEvents={});let p=u.hcEvents;W.Point&&C instanceof W.Point&&C.series&&C.series.chart&&(C.series.chart.runTrackerClick=!0);let g=C.addEventListener;g&&g.call(C,o,l,!!W.supportsPassiveEvents&&{passive:c.passive===void 0?o.indexOf("touch")!==-1:c.passive,capture:!1}),p[o]||(p[o]=[]);let f={fn:l,order:typeof c.order=="number"?c.order:1/0};return p[o].push(f),p[o].sort((m,y)=>m.order-y.order),function(){Ob(C,o,l)}},arrayMax:function(C){let o=C.length,l=C[0];for(;o--;)C[o]>l&&(l=C[o]);return l},arrayMin:function(C){let o=C.length,l=C[0];for(;o--;)C[o]<l&&(l=C[o]);return l},attr:_a,clamp:function(C,o,l){return C>o?C<l?C:l:o},clearTimeout:function(C){en(C)&&clearTimeout(C)},correctFloat:Lb,createElement:function(C,o,l,c,u){let p=me.createElement(C);return o&&zi(p,o),u&&Is(p,{padding:"0",border:"none",margin:"0"}),l&&Is(p,l),c&&c.appendChild(p),p},crisp:function(C,o=0,l){let c=o%2/2,u=l?-1:1;return(Math.round(C*u-c)+c)*u},css:Is,defined:en,destroyObjectProperties:function(C,o,l){ur(C,function(c,u){c!==o&&c?.destroy&&c.destroy(),(c?.destroy||!l)&&delete C[u]})},diffObjects:function(C,o,l,c){let u={};return function p(g,f,m,y){let S=l?f:g;ur(g,function(w,x){if(!y&&c&&c.indexOf(x)>-1&&f[x]){w=Kt(w),m[x]=[];for(let E=0;E<Math.max(w.length,f[x].length);E++)f[x][E]&&(w[E]===void 0?m[x][E]=f[x][E]:(m[x][E]={},p(w[E],f[x][E],m[x][E],y+1)))}else ii(w,!0)&&!w.nodeType?(m[x]=ti(w)?[]:{},p(w,f[x]||{},m[x],y+1),Object.keys(m[x]).length!==0||x==="colorAxis"&&y===0||delete m[x]):(g[x]!==f[x]||x in g&&!(x in f))&&x!=="__proto__"&&x!=="constructor"&&(m[x]=S[x])})}(C,o,u,0),u},discardElement:function(C){C&&C.parentElement&&C.parentElement.removeChild(C)},erase:function(C,o){let l=C.length;for(;l--;)if(C[l]===o){C.splice(l,1);break}},error:ye,extend:zi,extendClass:function(C,o){let l=function(){};return l.prototype=new C,zi(l.prototype,o),l},find:S1,fireEvent:Nb,getAlignFactor:(C="")=>({center:.5,right:1,middle:.5,bottom:1})[C]||0,getClosestDistance:function(C,o){let l,c,u,p,g=!o;return C.forEach(f=>{if(f.length>1)for(p=c=f.length-1;p>0;p--)(u=f[p]-f[p-1])<0&&!g?(o?.(),o=void 0):u&&(l===void 0||u<l)&&(l=u)}),l},getMagnitude:ka,getNestedProperty:function(C,o){let l=C.split(".");for(;l.length&&en(o);){let c=l.shift();if(c===void 0||c==="__proto__")return;if(c==="this"){let p;return ii(o)&&(p=o["@this"]),p??o}let u=o[c.replace(/[\\'"]/g,"")];if(!en(u)||typeof u=="function"||typeof u.nodeType=="number"||u===Fe)return;o=u}return o},getStyle:function C(o,l,c){let u;if(l==="width"){let g=Math.min(o.offsetWidth,o.scrollWidth),f=o.getBoundingClientRect&&o.getBoundingClientRect().width;return f<g&&f>=g-1&&(g=Math.floor(f)),Math.max(0,g-(C(o,"padding-left",!0)||0)-(C(o,"padding-right",!0)||0))}if(l==="height")return Math.max(0,Math.min(o.offsetHeight,o.scrollHeight)-(C(o,"padding-top",!0)||0)-(C(o,"padding-bottom",!0)||0));let p=Fe.getComputedStyle(o,void 0);return p&&(u=p.getPropertyValue(l),tn(c,l!=="opacity")&&(u=tt(u))),u},insertItem:function(C,o){let l,c=C.options.index,u=o.length;for(l=C.options.isInternal?u:0;l<u+1;l++)if(!o[l]||Pa(c)&&c<tn(o[l].options.index,o[l]._i)||o[l].options.isInternal){o.splice(l,0,C);break}return l},isArray:ti,isClass:dr,isDOMElement:$t,isFunction:function(C){return typeof C=="function"},isNumber:Pa,isObject:ii,isString:ct,merge:function(C,...o){let l,c=[C,...o],u={},p=function(f,m){return typeof f!="object"&&(f={}),ur(m,function(y,S){S!=="__proto__"&&S!=="constructor"&&(!ii(y,!0)||dr(y)||$t(y)?f[S]=m[S]:f[S]=p(f[S]||{},y))}),f};C===!0&&(u=c[1],c=Array.prototype.slice.call(c,2));let g=c.length;for(l=0;l<g;l++)u=p(u,c[l]);return u},normalizeTickInterval:function(C,o,l,c,u){let p,g=C;l=tn(l,ka(C));let f=C/l;for(!o&&(o=u?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],c===!1&&(l===1?o=o.filter(function(m){return m%1==0}):l<=.1&&(o=[1/l]))),p=0;p<o.length&&(g=o[p],(!u||!(g*l>=C))&&(u||!(f<=(o[p]+(o[p+1]||o[p]))/2)));p++);return Lb(g*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ur,offset:function(C){let o=me.documentElement,l=C.parentElement||C.parentNode?C.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:l.top+(Fe.pageYOffset||o.scrollTop)-(o.clientTop||0),left:l.left+(Fe.pageXOffset||o.scrollLeft)-(o.clientLeft||0),width:l.width,height:l.height}},pad:function(C,o,l){return Array((o||2)+1-String(C).replace("-","").length).join(l||"0")+C},pick:tn,pInt:tt,pushUnique:function(C,o){return 0>C.indexOf(o)&&!!C.push(o)},relativeLength:function(C,o,l){return/%$/.test(C)?o*parseFloat(C)/100+(l||0):parseFloat(C)},removeEvent:Ob,replaceNested:function(C,...o){let l,c;do for(c of(l=C,o))C=C.replace(c[0],c[1]);while(C!==l);return C},splat:Kt,stableSort:function(C,o){let l,c,u=C.length;for(c=0;c<u;c++)C[c].safeI=c;for(C.sort(function(p,g){return(l=o(p,g))===0?p.safeI-g.safeI:l}),c=0;c<u;c++)delete C[c].safeI},syncTimeout:function(C,o,l){return o>0?setTimeout(C,o,l):(C.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(C){return ct(C)?C.substring(0,1).toUpperCase()+C.substring(1):String(C)},uniqueKey:x1,useSerialIds:function(C){return e=tn(C,e)},wrap:function(C,o,l){let c=C[o];C[o]=function(){let u=arguments,p=this;return l.apply(this,[function(){return c.apply(p,arguments.length?arguments:u)}].concat([].slice.call(arguments)))}}},{pageLang:D1,win:bc}=W,{defined:yc,error:Bb,extend:wc,isNumber:Gb,isObject:Sp,isString:La,merge:E1,objectEach:M1,pad:Pn,splat:R1,timeUnits:Ct,ucfirst:T1}=he,I1=W.isSafari&&bc.Intl&&!bc.Intl.DateTimeFormat.prototype.formatRange,A1=C=>C.main===void 0,Vb=C=>["D","L","M","X","J","V","S"].indexOf(C),xp=class{constructor(C){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=bc.Date,this.update(C)}update(C={}){this.dTLCache={},this.options=C=E1(!0,this.options,C);let{timezoneOffset:o,useUTC:l}=C;this.Date=C.Date||bc.Date||Date;let c=C.timezone;yc(l)&&(c=l?"UTC":void 0),o&&o%60==0&&(c="Etc/GMT"+(o>0?"+":"")+o/60),this.variableTimezone=c!=="UTC"&&c?.indexOf("Etc/GMT")!==0,this.timezone=c,["months","shortMonths","weekdays","shortWeekdays"].forEach(u=>{let p=/months/i.test(u),g=/short/.test(u),f={timeZone:"UTC"};f[p?"month":"weekday"]=g?"short":"long",this[u]=(p?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(m=>this.dateFormat(f,(p?31:1)*24*36e5*m))})}toParts(C){let[o,l,c,u,p,g,f]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},C,"es").split(/(?:, |\/|:)/g);return[u,+c-1,l,p,g,f,Math.floor(Number(C)||0)%1e3,Vb(o)].map(Number)}dateTimeFormat(C,o,l=this.options.locale||D1){let c=JSON.stringify(C)+l;La(C)&&(C=this.str2dtf(C));let u=this.dTLCache[c];if(!u){C.timeZone??(C.timeZone=this.timezone);try{u=new Intl.DateTimeFormat(l,C)}catch(p){/Invalid time zone/i.test(p.message)?(Bb(34),C.timeZone="UTC",u=new Intl.DateTimeFormat(l,C)):Bb(p.message,!1)}}return this.dTLCache[c]=u,u?.format(o)||""}str2dtf(C,o={}){let l={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(l).forEach(c=>{C.indexOf(c)!==-1&&wc(o,l[c])}),o}makeTime(C,o,l=1,c=0,u,p,g){let f=this.Date.UTC(C,o,l,c,u||0,p||0,g||0);if(this.timezone!=="UTC"){let m=this.getTimezoneOffset(f);if(f+=m,[2,3,8,9,10,11].indexOf(o)!==-1&&(c<5||c>20)){let y=this.getTimezoneOffset(f);m!==y?f+=y-m:m-36e5!==this.getTimezoneOffset(f-36e5)||I1||(f-=36e5)}}return f}parse(C){if(!La(C))return C??void 0;let o=(C=C.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(C),l=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(C);o||l||(C+="Z");let c=Date.parse(C);if(Gb(c))return c+(!o||l?this.getTimezoneOffset(c):0)}getTimezoneOffset(C){if(this.timezone!=="UTC"){let[o,l,c,u,p=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},C,"en").split(/(GMT|:)/).map(Number),g=-(36e5*(c+p/60));if(Gb(g))return g}return 0}dateFormat(C,o,l){let c=W.defaultOptions?.lang;if(!yc(o)||isNaN(o))return c?.invalidDate||"";if(La(C=C??"%Y-%m-%d %H:%M:%S")){let u,p=/%\[([a-zA-Z]+)\]/g;for(;u=p.exec(C);)C=C.replace(u[0],this.dateTimeFormat(u[1],o))}if(La(C)&&C.indexOf("%")!==-1){let u=this,[p,g,f,m,y,S,w,x]=this.toParts(o),E=c?.weekdays||this.weekdays,M=c?.shortWeekdays||this.shortWeekdays,I=c?.months||this.months,F=c?.shortMonths||this.shortMonths;M1(wc({a:M?M[x]:E[x].substr(0,3),A:E[x],d:Pn(f),e:Pn(f,2," "),w:x,b:F[g],B:I[g],m:Pn(g+1),o:g+1,y:p.toString().substr(2,2),Y:p,H:Pn(m),k:m,I:Pn(m%12||12),l:m%12||12,M:Pn(y),p:m<12?"AM":"PM",P:m<12?"am":"pm",S:Pn(S),L:Pn(w,3)},W.dateFormats),function(T,P){if(La(C))for(;C.indexOf("%"+P)!==-1;)C=C.replace("%"+P,typeof T=="function"?T.call(u,o):T)})}else if(Sp(C)){let u=(this.getTimezoneOffset(o)||0)/36e5,p=this.timezone||"Etc/GMT"+(u>=0?"+":"")+u,{prefix:g="",suffix:f=""}=C;C=g+this.dateTimeFormat(wc({timeZone:p},C),o)+f}return l?T1(C):C}resolveDTLFormat(C){return Sp(C,!0)?Sp(C,!0)&&A1(C)?{main:C}:C:{main:(C=R1(C))[0],from:C[1],to:C[2]}}getTimeTicks(C,o,l,c){let u=this,p=[],g={},{count:f=1,unitRange:m}=C,[y,S,w,x,E,M]=u.toParts(o),I=(o||0)%1e3,F;if(c??(c=1),yc(o)){if(I=m>=Ct.second?0:f*Math.floor(I/f),m>=Ct.second&&(M=m>=Ct.minute?0:f*Math.floor(M/f)),m>=Ct.minute&&(E=m>=Ct.hour?0:f*Math.floor(E/f)),m>=Ct.hour&&(x=m>=Ct.day?0:f*Math.floor(x/f)),m>=Ct.day&&(w=m>=Ct.month?1:Math.max(1,f*Math.floor(w/f))),m>=Ct.month&&(S=m>=Ct.year?0:f*Math.floor(S/f)),m>=Ct.year&&(y-=y%f),m===Ct.week){f&&(o=u.makeTime(y,S,w,x,E,M,I));let _=Vb(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},o,"es"));w+=-_+c+(_<c?-7:0)}o=u.makeTime(y,S,w,x,E,M,I),u.variableTimezone&&yc(l)&&(F=l-o>4*Ct.month||u.getTimezoneOffset(o)!==u.getTimezoneOffset(l));let T=o,P=1;for(;T<l;)p.push(T),m===Ct.year?T=u.makeTime(y+P*f,0):m===Ct.month?T=u.makeTime(y,S+P*f):F&&(m===Ct.day||m===Ct.week)?T=u.makeTime(y,S,w+P*f*(m===Ct.day?1:7)):F&&m===Ct.hour&&f>1?T=u.makeTime(y,S,w,x+P*f):T+=m*f,P++;p.push(T),m<=Ct.hour&&p.length<1e4&&p.forEach(_=>{_%18e5==0&&u.dateFormat("%H%M%S%L",_)==="000000000"&&(g[_]="day")})}return p.info=wc(C,{higherRanks:g,totalRange:m*f}),p}getDateFormat(C,o,l,c){let u=this.dateFormat("%m-%d %H:%M:%S.%L",o),p="01-01 00:00:00.000",g={millisecond:15,second:12,minute:9,hour:6,day:3},f="millisecond",m=f;for(f in Ct){if(C===Ct.week&&+this.dateFormat("%w",o)===l&&u.substr(6)===p.substr(6)){f="week";break}if(Ct[f]>C){f=m;break}if(g[f]&&u.substr(g[f])!==p.substr(g[f]))break;f!=="week"&&(m=f)}return this.resolveDTLFormat(c[f]).main}},{isTouchDevice:F1}=W,{fireEvent:P1,merge:_1}=he,lo={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:C=>Math.sqrt(1-Math.pow(C-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:F1?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},Dp=new xp(lo.time),Wi={defaultOptions:lo,defaultTime:Dp,getOptions:function(){return lo},setOptions:function(C){return P1(W,"setOptions",{options:C}),_1(!0,lo,C),C.time&&Dp.update(lo.time),C.lang&&"locale"in C.lang&&Dp.update({locale:C.lang.locale}),lo}},{isNumber:Sc,merge:k1,pInt:Ci,defined:Hb}=he;class kt{static parse(o){return o?new kt(o):kt.None}constructor(o){let l,c,u,p;this.rgba=[NaN,NaN,NaN,NaN],this.input=o;let g=W.Color;if(g&&g!==kt)return new g(o);if(typeof o=="object"&&o.stops!==void 0)this.stops=o.stops.map(f=>new kt(f[1]));else if(typeof o=="string")for(this.input=o=kt.names[o.toLowerCase()]||o,u=kt.parsers.length;u--&&!c;)(l=(p=kt.parsers[u]).regex.exec(o))&&(c=p.parse(l));c&&(this.rgba=c)}get(o){let l=this.input,c=this.rgba;if(typeof l=="object"&&this.stops!==void 0){let u=k1(l);return u.stops=[].slice.call(u.stops),this.stops.forEach((p,g)=>{u.stops[g]=[u.stops[g][0],p.get(o)]}),u}return c&&Sc(c[0])?o!=="rgb"&&(o||c[3]!==1)?o==="a"?`${c[3]}`:"rgba("+c.join(",")+")":"rgb("+c[0]+","+c[1]+","+c[2]+")":l}brighten(o){let l=this.rgba;if(this.stops)this.stops.forEach(function(c){c.brighten(o)});else if(Sc(o)&&o!==0)for(let c=0;c<3;c++)l[c]+=Ci(255*o),l[c]<0&&(l[c]=0),l[c]>255&&(l[c]=255);return this}setOpacity(o){return this.rgba[3]=o,this}tweenTo(o,l){let c=this.rgba,u=o.rgba;if(!Sc(c[0])||!Sc(u[0]))return o.input||"none";let p=u[3]!==1||c[3]!==1,g=(m,y)=>m+(c[y]-m)*(1-l),f=u.slice(0,3).map(g).map(Math.round);return p&&f.push(g(u[3],3)),(p?"rgba(":"rgb(")+f.join(",")+")"}}kt.names={white:"#ffffff",black:"#000000"},kt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(C){return[Ci(C[1]),Ci(C[2]),Ci(C[3]),parseFloat(C[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(C){return[Ci(C[1]),Ci(C[2]),Ci(C[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(C){return[Ci(C[1]+C[1],16),Ci(C[2]+C[2],16),Ci(C[3]+C[3],16),Hb(C[4])?Ci(C[4]+C[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(C){return[Ci(C[1],16),Ci(C[2],16),Ci(C[3],16),Hb(C[4])?Ci(C[4],16)/255:1]}}],kt.None=new kt("");let{parse:zb}=kt,{win:L1}=W,{isNumber:Ep,objectEach:O1}=he,hr=(()=>{class C{constructor(l,c,u){this.pos=NaN,this.options=c,this.elem=l,this.prop=u}dSetter(){let l=this.paths,c=l&&l[0],u=l&&l[1],p=this.now||0,g=[];if(p!==1&&c&&u)if(c.length===u.length&&p<1)for(let f=0;f<u.length;f++){let m=c[f],y=u[f],S=[];for(let w=0;w<y.length;w++){let x=m[w],E=y[w];Ep(x)&&Ep(E)&&!(y[0]==="A"&&(w===4||w===5))?S[w]=x+p*(E-x):S[w]=E}g.push(S)}else g=u;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)}update(){let l=this.elem,c=this.prop,u=this.now,p=this.options.step;this[c+"Setter"]?this[c+"Setter"]():l.attr?l.element&&l.attr(c,u,null,!0):l.style[c]=u+this.unit,p&&p.call(l,u,this)}run(l,c,u){let p=this,g=p.options,f=function(S){return!f.stopped&&p.step(S)},m=L1.requestAnimationFrame||function(S){setTimeout(S,13)},y=function(){for(let S=0;S<C.timers.length;S++)C.timers[S]()||C.timers.splice(S--,1);C.timers.length&&m(y)};l!==c||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=l,this.end=c,this.unit=u,this.now=this.start,this.pos=0,f.elem=this.elem,f.prop=this.prop,f()&&C.timers.push(f)===1&&m(y)):(delete g.curAnim[this.prop],g.complete&&Object.keys(g.curAnim).length===0&&g.complete.call(this.elem))}step(l){let c,u,p=+new Date,g=this.options,f=this.elem,m=g.complete,y=g.duration,S=g.curAnim;return f.attr&&!f.element?c=!1:l||p>=y+this.startTime?(this.now=this.end,this.pos=1,this.update(),S[this.prop]=!0,u=!0,O1(S,function(w){w!==!0&&(u=!1)}),u&&m&&m.call(f),c=!1):(this.pos=g.easing((p-this.startTime)/y),this.now=this.start+(this.end-this.start)*this.pos,this.update(),c=!0),c}initPath(l,c,u){let p=l.startX,g=l.endX,f=u.slice(),m=l.isArea,y=m?2:1,S=c&&u.length>c.length&&u.hasStackedCliffs,w,x,E,M,I=c&&c.slice();if(!I||S)return[f,f];function F(P,_){for(;P.length<x;){let B=P[0],z=_[x-P.length];if(z&&B[0]==="M"&&(z[0]==="C"?P[0]=["C",B[1],B[2],B[1],B[2],B[1],B[2]]:P[0]=["L",B[1],B[2]]),P.unshift(B),m){let G=P.pop();P.push(P[P.length-1],G)}}}function T(P){for(;P.length<x;){let _=P[Math.floor(P.length/y)-1].slice();if(_[0]==="C"&&(_[1]=_[5],_[2]=_[6]),m){let B=P[Math.floor(P.length/y)].slice();P.splice(P.length/2,0,_,B)}else P.push(_)}}if(p&&g&&g.length){for(E=0;E<p.length;E++){if(p[E]===g[0]){w=E;break}if(p[0]===g[g.length-p.length+E]){w=E,M=!0;break}if(p[p.length-1]===g[g.length-p.length+E]){w=p.length-E;break}}w===void 0&&(I=[])}return I.length&&Ep(w)&&(x=f.length+w*y,M?(F(I,f),T(f)):(F(f,I),T(I))),[I,f]}fillSetter(){C.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,zb(this.start).tweenTo(zb(this.end),this.pos),void 0,!0)}}return C.timers=[],C})(),{defined:N1,getStyle:B1,isArray:G1,isNumber:V1,isObject:Mp,merge:Wb,objectEach:H1,pick:z1}=he;function Rp(C){return Mp(C)?Wb({duration:500,defer:0},C):{duration:C?500:0,defer:0}}function jb(C,o){let l=hr.timers.length;for(;l--;)hr.timers[l].elem!==C||o&&o!==hr.timers[l].prop||(hr.timers[l].stopped=!0)}let si={animate:function(C,o,l){let c,u="",p,g,f;Mp(l)||(f=arguments,l={duration:f[2],easing:f[3],complete:f[4]}),V1(l.duration)||(l.duration=400),l.easing=typeof l.easing=="function"?l.easing:Math[l.easing]||Math.easeInOutSine,l.curAnim=Wb(o),H1(o,function(m,y){jb(C,y),g=new hr(C,l,y),p=void 0,y==="d"&&G1(o.d)?(g.paths=g.initPath(C,C.pathArray,o.d),g.toD=o.d,c=0,p=1):C.attr?c=C.attr(y):(c=parseFloat(B1(C,y))||0,y!=="opacity"&&(u="px")),p||(p=m),typeof p=="string"&&p.match("px")&&(p=p.replace(/px/g,"")),g.run(c,p,u)})},animObject:Rp,getDeferredAnimation:function(C,o,l){let c=Rp(o),u=l?[l]:C.series,p=0,g=0;return u.forEach(f=>{let m=Rp(f.options.animation);p=Mp(o)&&N1(o.defer)?c.defer:Math.max(p,m.duration+m.defer),g=Math.min(c.duration,m.duration)}),C.renderer.forExport&&(p=0),{defer:Math.max(0,p-g),duration:Math.min(p,g)}},setAnimation:function(C,o){o.renderer.globalAnimation=z1(C,o.options.chart.animation,!0)},stop:jb},{SVG_NS:Ub,win:W1}=W,{attr:j1,createElement:U1,css:$1,error:$b,isFunction:K1,isString:Kb,objectEach:qb,splat:q1}=he,{trustedTypes:Tp}=W1,xc=Tp&&K1(Tp.createPolicy)&&Tp.createPolicy("highcharts",{createHTML:C=>C}),Y1=xc?xc.createHTML(""):"";class ht{static filterUserAttributes(o){return qb(o,(l,c)=>{let u=!0;ht.allowedAttributes.indexOf(c)===-1&&(u=!1),["background","dynsrc","href","lowsrc","src"].indexOf(c)!==-1&&(u=Kb(l)&&ht.allowedReferences.some(p=>l.indexOf(p)===0)),u||($b(33,!1,void 0,{"Invalid attribute in config":`${c}`}),delete o[c]),Kb(l)&&o[c]&&(o[c]=l.replace(/</g,"&lt;"))}),o}static parseStyle(o){return o.split(";").reduce((l,c)=>{let u=c.split(":").map(g=>g.trim()),p=u.shift();return p&&u.length&&(l[p.replace(/-([a-z])/g,g=>g[1].toUpperCase())]=u.join(":")),l},{})}static setElementHTML(o,l){o.innerHTML=ht.emptyHTML,l&&new ht(l).addToDOM(o)}constructor(o){this.nodes=typeof o=="string"?this.parseMarkup(o):o}addToDOM(o){return function l(c,u){let p;return q1(c).forEach(function(g){let f,m=g.tagName,y=g.textContent?W.doc.createTextNode(g.textContent):void 0,S=ht.bypassHTMLFiltering;if(m)if(m==="#text")f=y;else if(ht.allowedTags.indexOf(m)!==-1||S){let w=m==="svg"?Ub:u.namespaceURI||Ub,x=W.doc.createElementNS(w,m),E=g.attributes||{};qb(g,function(M,I){I!=="tagName"&&I!=="attributes"&&I!=="children"&&I!=="style"&&I!=="textContent"&&(E[I]=M)}),j1(x,S?E:ht.filterUserAttributes(E)),g.style&&$1(x,g.style),y&&x.appendChild(y),l(g.children||[],x),f=x}else $b(33,!1,void 0,{"Invalid tagName in config":m});f&&u.appendChild(f),p=f}),p}(this.nodes,o)}parseMarkup(o){let l,c=[];o=o.trim().replace(/ style=(["'])/g," data-style=$1");try{l=new DOMParser().parseFromString(xc?xc.createHTML(o):o,"text/html")}catch{}if(!l){let p=U1("div");p.innerHTML=o,l={body:p}}let u=(p,g)=>{let f=p.nodeName.toLowerCase(),m={tagName:f};f==="#text"&&(m.textContent=p.textContent||"");let y=p.attributes;if(y){let S={};[].forEach.call(y,w=>{w.name==="data-style"?m.style=ht.parseStyle(w.value):S[w.name]=w.value}),m.attributes=S}if(p.childNodes.length){let S=[];[].forEach.call(p.childNodes,w=>{u(w,S)}),S.length&&(m.children=S)}g.push(m)};return[].forEach.call(l.body.childNodes,p=>u(p,c)),c}}ht.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],ht.allowedReferences=["https://","http://","mailto:","/","../","./","#"],ht.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],ht.emptyHTML=Y1,ht.bypassHTMLFiltering=!1;let{defaultOptions:Yb,defaultTime:Xb}=Wi,{pageLang:X1}=W,{extend:Z1,getNestedProperty:Q1,isArray:J1,isNumber:Zb,isObject:eA,isString:tA,pick:iA,ucfirst:sA}=he,Dc={add:(C,o)=>C+o,divide:(C,o)=>o!==0?C/o:"",eq:(C,o)=>C==o,each:function(C){let o=arguments[arguments.length-1];return!!J1(C)&&C.map((l,c)=>Ec(o.body,Z1(eA(l)?l:{"@this":l},{"@index":c,"@first":c===0,"@last":c===C.length-1}))).join("")},ge:(C,o)=>C>=o,gt:(C,o)=>C>o,if:C=>!!C,le:(C,o)=>C<=o,lt:(C,o)=>C<o,multiply:(C,o)=>C*o,ne:(C,o)=>C!=o,subtract:(C,o)=>C-o,ucfirst:sA,unless:C=>!C},Qb={},Jb=C=>/^["'].+["']$/.test(C);function Ec(C="",o,l){let c=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/gu,u=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/gu,p=[],g=/f$/,f=/\.(\d)/,m=l?.options.lang||Yb.lang,y=l&&l.time||Xb,S=l&&l.numberFormatter||ey,w=(F="")=>{let T;return F==="true"||F!=="false"&&((T=Number(F)).toString()===F?T:Jb(F)?F.slice(1,-1):Q1(F,o))},x,E,M=0,I;for(;(x=c.exec(C))!==null;){let F=x,T=u.exec(x[1]);T&&(x=T,I=!0),E&&E.isBlock||(E={ctx:o,expression:x[1],find:x[0],isBlock:x[1].charAt(0)==="#",start:x.index,startInner:x.index+x[0].length,length:x[0].length});let P=(E.isBlock?F:x)[1].split(" ")[0].replace("#","");Dc[P]&&(E.isBlock&&P===E.fn&&M++,E.fn||(E.fn=P));let _=x[1]==="else";if(E.isBlock&&E.fn&&(x[1]===`/${E.fn}`||_))if(M)!_&&M--;else{let B=E.startInner,z=C.substr(B,x.index-B);E.body===void 0?(E.body=z,E.startInner=x.index+x[0].length):E.elseBody=z,E.find+=z+x[0],_||(p.push(E),E=void 0)}else E.isBlock||p.push(E);if(T&&!E?.isBlock)break}return p.forEach(F=>{let T,P,{body:_,elseBody:B,expression:z,fn:G}=F;if(G){let N=[F],V=[],q=z.length,Y=0,J;for(P=0;P<=q;P++){let re=z.charAt(P);J||re!=='"'&&re!=="'"?J===re&&(J=""):J=re,J||re!==" "&&P!==q||(V.push(z.substr(Y,P-Y)),Y=P+1)}for(P=Dc[G].length;P--;)N.unshift(w(V[P+1]));T=Dc[G].apply(o,N),F.isBlock&&typeof T=="boolean"&&(T=Ec(T?_:B,o,l))}else{let N=Jb(z)?[z]:z.split(":");if(T=w(N.shift()||""),N.length&&typeof T=="number"){let V=N.join(":");if(g.test(V)){let q=parseInt((V.match(f)||["","-1"])[1],10);T!==null&&(T=S(T,q,m.decimalPoint,V.indexOf(",")>-1?m.thousandsSep:""))}else T=y.dateFormat(V,T)}u.lastIndex=0,u.test(F.find)&&tA(T)&&(T=`"${T}"`)}C=C.replace(F.find,iA(T,""))}),I?Ec(C,o,l):C}function ey(C,o,l,c){o=+o;let u,p,[g,f]=(C=+C||0).toString().split("e").map(Number),m=this?.options?.lang||Yb.lang,y=(C.toString().split(".")[1]||"").split("e")[0].length,S=o,w={};l??(l=m.decimalPoint),c??(c=m.thousandsSep),o===-1?o=Math.min(y,20):Zb(o)?o&&f<0&&((p=o+f)>=0?(g=+g.toExponential(p).split("e")[0],o=p):(g=Math.floor(g),C=o<20?+(g*Math.pow(10,f)).toFixed(o):0,f=0)):o=2,f&&(o??(o=2),C=g),Zb(o)&&o>=0&&(w.minimumFractionDigits=o,w.maximumFractionDigits=o),c===""&&(w.useGrouping=!1);let x=c||l,E=x?"en":this?.locale||m.locale||X1,M=JSON.stringify(w)+E;return u=(Qb[M]??(Qb[M]=new Intl.NumberFormat(E,w))).format(C),x&&(u=u.replace(/([,\.])/g,"_$1").replace(/_\,/g,c??",").replace("_.",l??".")),(o||+u!=0)&&(!(f<0)||S)||(u="0"),f&&+u!=0&&(u+="e"+(f<0?"":"+")+f),u}let rs={dateFormat:function(C,o,l){return Xb.dateFormat(C,o,l)},format:Ec,helpers:Dc,numberFormat:ey};(function(C){let o;C.rendererTypes={},C.getRendererType=function(l=o){return C.rendererTypes[l]||C.rendererTypes[o]},C.registerRendererType=function(l,c,u){C.rendererTypes[l]=c,(!o||u)&&(o=l,W.Renderer=c)}})(s||(s={}));let Oa=s,{clamp:nA,pick:rA,pushUnique:oA,stableSort:Ip}=he;(n||(n={})).distribute=function C(o,l,c){let u=o,p=u.reducedLen||l,g=(_,B)=>_.target-B.target,f=[],m=o.length,y=[],S=f.push,w,x,E,M=!0,I,F,T=0,P;for(w=m;w--;)T+=o[w].size;if(T>p){for(Ip(o,(_,B)=>(B.rank||0)-(_.rank||0)),E=(P=o[0].rank===o[o.length-1].rank)?m/2:-1,x=P?E:m-1;E&&T>p;)I=o[w=Math.floor(x)],oA(y,w)&&(T-=I.size),x+=E,P&&x>=o.length&&(E/=2,x=E);y.sort((_,B)=>B-_).forEach(_=>S.apply(f,o.splice(_,1)))}for(Ip(o,g),o=o.map(_=>({size:_.size,targets:[_.target],align:rA(_.align,.5)}));M;){for(w=o.length;w--;)I=o[w],F=(Math.min.apply(0,I.targets)+Math.max.apply(0,I.targets))/2,I.pos=nA(F-I.size*I.align,0,l-I.size);for(w=o.length,M=!1;w--;)w>0&&o[w-1].pos+o[w-1].size>o[w].pos&&(o[w-1].size+=o[w].size,o[w-1].targets=o[w-1].targets.concat(o[w].targets),o[w-1].align=.5,o[w-1].pos+o[w-1].size>l&&(o[w-1].pos=l-o[w-1].size),o.splice(w,1),M=!0)}return S.apply(u,f),w=0,o.some(_=>{let B=0;return(_.targets||[]).some(()=>(u[w].pos=_.pos+B,c!==void 0&&Math.abs(u[w].pos-u[w].target)>c?(u.slice(0,w+1).forEach(z=>delete z.pos),u.reducedLen=(u.reducedLen||l)-.1*l,u.reducedLen>.1*l&&C(u,l,c),!0):(B+=u[w].size,w++,!1)))}),Ip(u,g),u};let Mc=n,{animate:aA,animObject:lA,stop:ty}=si,{deg2rad:iy,doc:co,svg:cA,SVG_NS:Rc,win:dA,isFirefox:uA}=W,{addEvent:hA,attr:Ap,createElement:pA,crisp:Tc,css:sy,defined:As,erase:gA,extend:Na,fireEvent:Fp,getAlignFactor:Pp,isArray:ny,isFunction:ry,isNumber:fA,isObject:mA,isString:oy,merge:_p,objectEach:uo,pick:os,pInt:Ic,pushUnique:vA,replaceNested:CA,syncTimeout:bA,uniqueKey:ay}=he;class Bt{_defaultGetter(o){let l=os(this[o+"Value"],this[o],this.element?this.element.getAttribute(o):null,0);return/^-?[\d\.]+$/.test(l)&&(l=parseFloat(l)),l}_defaultSetter(o,l,c){c.setAttribute(l,o)}add(o){let l,c=this.renderer,u=this.element;return o&&(this.parentGroup=o),this.textStr!==void 0&&this.element.nodeName==="text"&&c.buildText(this),this.added=!0,(!o||o.handleZ||this.zIndex)&&(l=this.zIndexSetter()),l||(o?o.element:c.box).appendChild(u),this.onAdd&&this.onAdd(),this}addClass(o,l){let c=l?"":this.attr("class")||"";return(o=(o||"").split(/ /g).reduce(function(u,p){return c.indexOf(p)===-1&&u.push(p),u},c?[c]:[]).join(" "))!==c&&this.attr("class",o),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(o,l,c,u=!0){let p=this.renderer,g=p.alignedObjects,f=!!o;o?(this.alignOptions=o,this.alignByTranslate=l,this.alignTo=c):(o=this.alignOptions||{},l=this.alignByTranslate,c=this.alignTo);let m=!c||oy(c)?c||"renderer":void 0;m&&(f&&vA(g,this),c=void 0);let y=os(c,p[m],p),S=(y.x||0)+(o.x||0)+((y.width||0)-(o.width||0))*Pp(o.align),w=(y.y||0)+(o.y||0)+((y.height||0)-(o.height||0))*Pp(o.verticalAlign),x={"text-align":o?.align};return x[l?"translateX":"x"]=Math.round(S),x[l?"translateY":"y"]=Math.round(w),u&&(this[this.placed?"animate":"attr"](x),this.placed=!0),this.alignAttr=x,this}alignSetter(o){let l={left:"start",center:"middle",right:"end"};l[o]&&(this.alignValue=o,this.element.setAttribute("text-anchor",l[o]))}animate(o,l,c){let u=lA(os(l,this.renderer.globalAnimation,!0)),p=u.defer;return co.hidden&&(u.duration=0),u.duration!==0?(c&&(u.complete=c),bA(()=>{this.element&&aA(this,o,u)},p)):(this.attr(o,void 0,c||u.complete),uo(o,function(g,f){u.step&&u.step.call(this,g,{prop:f,pos:1,elem:this})},this)),this}applyTextOutline(o){let l=this.element;o.indexOf("contrast")!==-1&&(o=o.replace(/contrast/g,this.renderer.getContrast(l.style.fill)));let c=o.split(" "),u=c[c.length-1],p=c[0];if(p&&p!=="none"&&W.svg){this.fakeTS=!0,p=p.replace(/(^[\d\.]+)(.*?)$/g,function(S,w,x){return 2*Number(w)+x}),this.removeTextOutline();let g=co.createElementNS(Rc,"tspan");Ap(g,{class:"highcharts-text-outline",fill:u,stroke:u,"stroke-width":p,"stroke-linejoin":"round"});let f=l.querySelector("textPath")||l;[].forEach.call(f.childNodes,S=>{let w=S.cloneNode(!0);w.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(x=>w.removeAttribute(x)),g.appendChild(w)});let m=0;[].forEach.call(f.querySelectorAll("text tspan"),S=>{m+=Number(S.getAttribute("dy"))});let y=co.createElementNS(Rc,"tspan");y.textContent="\u200B",Ap(y,{x:Number(l.getAttribute("x")),dy:-m}),g.appendChild(y),f.insertBefore(g,f.firstChild)}}attr(o,l,c,u){let{element:p}=this,g=Bt.symbolCustomAttribs,f,m,y=this,S;return typeof o=="string"&&l!==void 0&&(f=o,(o={})[f]=l),typeof o=="string"?y=(this[o+"Getter"]||this._defaultGetter).call(this,o,p):(uo(o,function(w,x){S=!1,u||ty(this,x),this.symbolName&&g.indexOf(x)!==-1&&(m||(this.symbolAttr(o),m=!0),S=!0),this.rotation&&(x==="x"||x==="y")&&(this.doTransform=!0),S||(this[x+"Setter"]||this._defaultSetter).call(this,w,x,p)},this),this.afterSetters()),c&&c.call(this),y}clip(o){if(o&&!o.clipPath){let l=ay()+"-",c=this.renderer.createElement("clipPath").attr({id:l}).add(this.renderer.defs);Na(o,{clipPath:c,id:l,count:0}),o.add(c)}return this.attr("clip-path",o?`url(${this.renderer.url}#${o.id})`:"none")}crisp(o,l){l=Math.round(l||o.strokeWidth||0);let c=o.x||this.x||0,u=o.y||this.y||0,p=(o.width||this.width||0)+c,g=(o.height||this.height||0)+u,f=Tc(c,l),m=Tc(u,l);return Na(o,{x:f,y:m,width:Tc(p,l)-f,height:Tc(g,l)-m}),As(o.strokeWidth)&&(o.strokeWidth=l),o}complexColor(o,l,c){let u=this.renderer,p,g,f,m,y,S,w,x,E,M,I=[],F;Fp(this.renderer,"complexColor",{args:arguments},function(){if(o.radialGradient?g="radialGradient":o.linearGradient&&(g="linearGradient"),g){if(f=o[g],y=u.gradients,S=o.stops,E=c.radialReference,ny(f)&&(o[g]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"}),g==="radialGradient"&&E&&!As(f.gradientUnits)&&(m=f,f=_p(f,u.getRadialAttr(E,m),{gradientUnits:"userSpaceOnUse"})),uo(f,function(T,P){P!=="id"&&I.push(P,T)}),uo(S,function(T){I.push(T)}),y[I=I.join(",")])M=y[I].attr("id");else{f.id=M=ay();let T=y[I]=u.createElement(g).attr(f).add(u.defs);T.radAttr=m,T.stops=[],S.forEach(function(P){P[1].indexOf("rgba")===0?(w=(p=kt.parse(P[1])).get("rgb"),x=p.get("a")):(w=P[1],x=1);let _=u.createElement("stop").attr({offset:P[0],"stop-color":w,"stop-opacity":x}).add(T);T.stops.push(_)})}F="url("+u.url+"#"+M+")",c.setAttribute(l,F),c.gradient=I,o.toString=function(){return F}}})}css(o){let l=this.styles,c={},u=this.element,p,g=!l;if(l&&uo(o,function(f,m){l&&l[m]!==f&&(c[m]=f,g=!0)}),g){l&&(o=Na(l,c)),o.width===null||o.width==="auto"?delete this.textWidth:u.nodeName.toLowerCase()==="text"&&o.width&&(p=this.textWidth=Ic(o.width)),Na(this.styles,o),p&&!cA&&this.renderer.forExport&&delete o.width;let f=uA&&o.fontSize||null;f&&(fA(f)||/^\d+$/.test(f))&&(o.fontSize+="px");let m=_p(o);u.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(y=>m&&delete m[y]),m.color&&(m.fill=m.color)),sy(u,m)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),o.textOutline&&this.applyTextOutline(o.textOutline)),this}dashstyleSetter(o){let l,c=this["stroke-width"];if(c==="inherit"&&(c=1),o=o&&o.toLowerCase()){let u=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(l=u.length;l--;)u[l]=""+Ic(u[l])*os(c,NaN);o=u.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",o)}}destroy(){let o=this,l=o.element||{},c=o.renderer,u=l.ownerSVGElement,p=l.nodeName==="SPAN"&&o.parentGroup||void 0,g,f;if(l.onclick=l.onmouseout=l.onmouseover=l.onmousemove=l.point=null,ty(o),o.clipPath&&u){let m=o.clipPath;[].forEach.call(u.querySelectorAll("[clip-path],[CLIP-PATH]"),function(y){y.getAttribute("clip-path").indexOf(m.element.id)>-1&&y.removeAttribute("clip-path")}),o.clipPath=m.destroy()}if(o.connector=o.connector?.destroy(),o.stops){for(f=0;f<o.stops.length;f++)o.stops[f].destroy();o.stops.length=0,o.stops=void 0}for(o.safeRemoveChild(l);p&&p.div&&p.div.childNodes.length===0;)g=p.parentGroup,o.safeRemoveChild(p.div),delete p.div,p=g;o.alignOptions&&gA(c.alignedObjects,o),uo(o,function(m,y){o[y]&&o[y].parentGroup===o&&o[y].destroy&&o[y].destroy(),delete o[y]})}dSetter(o,l,c){ny(o)&&(typeof o[0]=="string"&&(o=this.renderer.pathToSegments(o)),this.pathArray=o,o=o.reduce((u,p,g)=>p&&p.join?(g?u+" ":"")+p.join(" "):(p||"").toString(),"")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0"),this[l]!==o&&(c.setAttribute(l,o),this[l]=o)}fillSetter(o,l,c){typeof o=="string"?c.setAttribute(l,o):o&&this.complexColor(o,l,c)}hrefSetter(o,l,c){c.setAttributeNS("http://www.w3.org/1999/xlink",l,o)}getBBox(o,l){let c,u,p,g,{alignValue:f,element:m,renderer:y,styles:S,textStr:w}=this,{cache:x,cacheKeys:E}=y,M=m.namespaceURI===this.SVG_NS,I=os(l,this.rotation,0),F=y.styledMode?m&&Bt.prototype.getStyle.call(m,"font-size"):S.fontSize;if(As(w)&&((g=w.toString()).indexOf("<")===-1&&(g=g.replace(/\d/g,"0")),g+=["",y.rootFontSize,F,I,this.textWidth,f,S.lineClamp,S.textOverflow,S.fontWeight].join(",")),g&&!o&&(c=x[g]),!c||c.polygon){if(M||y.forExport){try{p=this.fakeTS&&function(P){let _=m.querySelector(".highcharts-text-outline");_&&sy(_,{display:P})},ry(p)&&p("none"),c=m.getBBox?Na({},m.getBBox()):{width:m.offsetWidth,height:m.offsetHeight,x:0,y:0},ry(p)&&p("")}catch{}(!c||c.width<0)&&(c={x:0,y:0,width:0,height:0})}else c=this.htmlGetBBox();u=c.height,M&&(c.height=u={"11px,17":14,"13px,20":16}[`${F||""},${Math.round(u)}`]||u),I&&(c=this.getRotatedBox(c,I));let T={bBox:c};Fp(this,"afterGetBBox",T),c=T.bBox}if(g&&(w===""||c.height>0)){for(;E.length>250;)delete x[E.shift()];x[g]||E.push(g),x[g]=c}return c}getRotatedBox(o,l){let{x:c,y:u,width:p,height:g}=o,{alignValue:f,translateY:m,rotationOriginX:y=0,rotationOriginY:S=0}=this,w=Pp(f),x=Number(this.element.getAttribute("y")||0)-(m?0:u),E=l*iy,M=(l-90)*iy,I=Math.cos(E),F=Math.sin(E),T=p*I,P=p*F,_=Math.cos(M),B=Math.sin(M),[[z,G],[N,V]]=[y,S].map(ve=>[ve-ve*I,ve*F]),q=c+w*(p-T)+z+V+x*_,Y=q+T,J=Y-g*_,re=J-T,ne=u+x-w*P-G+N+x*B,ae=ne+P,de=ae-g*B,oe=de-P,Me=Math.min(q,Y,J,re),we=Math.min(ne,ae,de,oe),Se=Math.max(q,Y,J,re)-Me,ke=Math.max(ne,ae,de,oe)-we;return{x:Me,y:we,width:Se,height:ke,polygon:[[q,ne],[Y,ae],[J,de],[re,oe]]}}getStyle(o){return dA.getComputedStyle(this.element||this,"").getPropertyValue(o)}hasClass(o){return(""+this.attr("class")).split(" ").indexOf(o)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(o,l){this.onEvents={},this.opacity=1,this.SVG_NS=Rc,this.element=l==="span"||l==="body"?pA(l):co.createElementNS(this.SVG_NS,l),this.renderer=o,this.styles={},Fp(this,"afterInit")}on(o,l){let{onEvents:c}=this;return c[o]&&c[o](),c[o]=hA(this.element,o,l),this}opacitySetter(o,l,c){let u=Number(Number(o).toFixed(3));this.opacity=u,c.setAttribute(l,u)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(o){return this.attr("class",(""+this.attr("class")).replace(oy(o)?RegExp(`(^| )${o}( |$)`):o," ").replace(/ +/g," ").trim())}removeTextOutline(){let o=this.element.querySelector("tspan.highcharts-text-outline");o&&this.safeRemoveChild(o)}safeRemoveChild(o){let l=o.parentNode;l&&l.removeChild(o)}setRadialReference(o){let l=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=o,l&&l.radAttr&&l.animate(this.renderer.getRadialAttr(o,l.radAttr)),this}shadow(o){let{renderer:l}=this,c=_p(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},mA(o)?o:{}),u=l.shadowDefinition(c);return this.attr({filter:o?`url(${l.url}#${u})`:"none"})}show(o=!0){return this.attr({visibility:o?"inherit":"visible"})}"stroke-widthSetter"(o,l,c){this[l]=o,c.setAttribute(l,o)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let o=this.getStyle("stroke-width"),l=0,c;return/px$/.test(o)?l=Ic(o):o!==""&&(Ap(c=co.createElementNS(Rc,"rect"),{width:o,"stroke-width":0}),this.element.parentNode.appendChild(c),l=c.getBBox().width,c.parentNode.removeChild(c)),l}symbolAttr(o){let l=this;Bt.symbolCustomAttribs.forEach(function(c){l[c]=os(o[c],l[c])}),l.attr({d:l.renderer.symbols[l.symbolName](l.x,l.y,l.width,l.height,l)})}textSetter(o){o!==this.textStr&&(delete this.textPxLength,this.textStr=o,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(o){let l=this.element,c=l.getElementsByTagName("title")[0]||co.createElementNS(this.SVG_NS,"title");l.insertBefore?l.insertBefore(c,l.firstChild):l.appendChild(c),c.textContent=CA(os(o,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let o=this.element;return o.parentNode.appendChild(o),this}translate(o,l){return this.attr({translateX:o,translateY:l})}updateTransform(o="transform"){let{element:l,matrix:c,rotation:u=0,rotationOriginX:p,rotationOriginY:g,scaleX:f,scaleY:m,translateX:y=0,translateY:S=0}=this,w=["translate("+y+","+S+")"];As(c)&&w.push("matrix("+c.join(",")+")"),u&&(w.push("rotate("+u+" "+os(p,l.getAttribute("x"),0)+" "+os(g,l.getAttribute("y")||0)+")"),this.text?.element.tagName==="SPAN"&&this.text.attr({rotation:u,rotationOriginX:(p||0)-this.padding,rotationOriginY:(g||0)-this.padding})),(As(f)||As(m))&&w.push("scale("+os(f,1)+" "+os(m,1)+")"),w.length&&!(this.text||this).textPath&&l.setAttribute(o,w.join(" "))}visibilitySetter(o,l,c){o==="inherit"?c.removeAttribute(l):this[l]!==o&&c.setAttribute(l,o),this[l]=o}xGetter(o){return this.element.nodeName==="circle"&&(o==="x"?o="cx":o==="y"&&(o="cy")),this._defaultGetter(o)}zIndexSetter(o,l){let c=this.renderer,u=this.parentGroup,p=(u||c).element||c.box,g=this.element,f=p===c.box,m,y,S,w=!1,x,E=this.added,M;if(As(o)?(g.setAttribute("data-z-index",o),o=+o,this[l]===o&&(E=!1)):As(this[l])&&g.removeAttribute("data-z-index"),this[l]=o,E){for((o=this.zIndex)&&u&&(u.handleZ=!0),M=(m=p.childNodes).length-1;M>=0&&!w;M--)x=!As(S=(y=m[M]).getAttribute("data-z-index")),y!==g&&(o<0&&x&&!f&&!M?(p.insertBefore(g,m[M]),w=!0):(Ic(S)<=o||x&&(!As(o)||o>=0))&&(p.insertBefore(g,m[M+1]),w=!0));w||(p.insertBefore(g,m[f?3:0]),w=!0)}return w}}Bt.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Bt.prototype.strokeSetter=Bt.prototype.fillSetter,Bt.prototype.yGetter=Bt.prototype.xGetter,Bt.prototype.matrixSetter=Bt.prototype.rotationOriginXSetter=Bt.prototype.rotationOriginYSetter=Bt.prototype.rotationSetter=Bt.prototype.scaleXSetter=Bt.prototype.scaleYSetter=Bt.prototype.translateXSetter=Bt.prototype.translateYSetter=Bt.prototype.verticalAlignSetter=function(C,o){this[o]=C,this.doTransform=!0};let Fs=Bt,{defined:ly,extend:yA,getAlignFactor:cy,isNumber:Ba,merge:wA,pick:Ac,removeEvent:dy}=he;class pr extends Fs{constructor(o,l,c,u,p,g,f,m,y,S){let w;super(o,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=l,this.x=c,this.y=u,this.anchorX=g,this.anchorY=f,this.baseline=y,this.className=S,this.addClass(S==="button"?"highcharts-no-tooltip":"highcharts-label"),S&&this.addClass("highcharts-"+S),this.text=o.text(void 0,0,0,m).attr({zIndex:1}),typeof p=="string"&&((w=/^url\((.*?)\)$/.test(p))||this.renderer.symbols[p])&&(this.symbolKey=p),this.bBox=pr.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=o.styledMode||w,this.deferredAttr={},this.alignFactor=0}alignSetter(o){let l=cy(o);this.textAlign=o,l!==this.alignFactor&&(this.alignFactor=l,this.bBox&&Ba(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(o,l){this.anchorX=o,this.boxAttr(l,Math.round(o)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(o,l){this.anchorY=o,this.boxAttr(l,o-this.ySetting)}boxAttr(o,l){this.box?this.box.attr(o,l):this.deferredAttr[o]=l}css(o){if(o){let l={};o=wA(o),pr.textProps.forEach(c=>{o[c]!==void 0&&(l[c]=o[c],delete o[c])}),this.text.css(l),"fontSize"in l||"fontWeight"in l?this.updateTextPadding():("width"in l||"textOverflow"in l)&&this.updateBoxSize()}return Fs.prototype.css.call(this,o)}destroy(){dy(this.element,"mouseenter"),dy(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Fs.prototype.destroy.call(this)}fillSetter(o,l){o&&(this.needsBox=!0),this.fill=o,this.boxAttr(l,o)}getBBox(o,l){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:c,height:u=0,translateX:p=0,translateY:g=0,width:f=0}=this,m=Ac(this.paddingLeft,c),y=l??(this.rotation||0),S={width:f,height:u,x:p+this.bBox.x-m,y:g+this.bBox.y-c+this.baselineOffset};return y&&(S=this.getRotatedBox(S,y)),S}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(o){this.heightSetting=o,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Ac(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&ly(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(o,l){Ba(o)?o!==this[l]&&(this[l]=o,this.updateTextPadding()):this[l]=void 0}rSetter(o,l){this.boxAttr(l,o)}strokeSetter(o,l){this.stroke=o,this.boxAttr(l,o)}"stroke-widthSetter"(o,l){o&&(this.needsBox=!0),this["stroke-width"]=o,this.boxAttr(l,o)}"text-alignSetter"(o){this.textAlign=this["text-align"]=o,this.updateTextPadding()}textSetter(o){o!==void 0&&this.text.attr({text:o}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let o,l=this.text,c={},u=this.padding,p=this.bBox=(!Ba(this.widthSetting)||!Ba(this.heightSetting)||this.textAlign)&&ly(l.textStr)?l.getBBox(void 0,0):pr.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||p.height||0)+2*u;let g=this.renderer.fontMetrics(l);if(this.baselineOffset=u+Math.min((this.text.firstLineMetrics||g).b,p.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-g.h)/2),this.needsBox&&!l.textPath){if(!this.box){let f=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();f.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),f.add(this)}o=this.getCrispAdjust(),c.x=o,c.y=(this.baseline?-this.baselineOffset:0)+o,c.width=Math.round(this.width),c.height=Math.round(this.height),this.box.attr(yA(c,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let o=this.text,l=o.styles.textAlign||this.textAlign;if(!o.textPath){this.updateBoxSize();let c=this.baseline?0:this.baselineOffset,u=(this.paddingLeft??this.padding)+cy(l)*(this.widthSetting??this.bBox.width);(u!==o.x||c!==o.y)&&(o.attr({align:l,x:u}),c!==void 0&&o.attr("y",c)),o.x=u,o.y=c}}widthSetter(o){this.widthSetting=Ba(o)?o:void 0,this.doUpdate=!0}getPaddedWidth(){let o=this.padding,l=Ac(this.paddingLeft,o),c=Ac(this.paddingRight,o);return(this.widthSetting||this.bBox.width||0)+l+c}xSetter(o){this.x=o,this.alignFactor&&(o-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(o),this.attr("translateX",this.xSetting)}ySetter(o){this.ySetting=this.y=Math.round(o),this.attr("translateY",this.ySetting)}}pr.emptyBBox={width:0,height:0,x:0,y:0},pr.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:uy,isNumber:SA,pick:Ga}=he;function hy(C,o,l,c,u){let p=[];if(u){let g=u.start||0,f=Ga(u.r,l),m=Ga(u.r,c||l),y=2e-4/(u.borderRadius?1:Math.max(f,1)),S=Math.abs((u.end||0)-g-2*Math.PI)<y,w=(u.end||0)-(S?y:0),x=u.innerR,E=Ga(u.open,S),M=Math.cos(g),I=Math.sin(g),F=Math.cos(w),T=Math.sin(w),P=Ga(u.longArc,w-g-Math.PI<y?0:1),_=["A",f,m,0,P,Ga(u.clockwise,1),C+f*F,o+m*T];_.params={start:g,end:w,cx:C,cy:o},p.push(["M",C+f*M,o+m*I],_),uy(x)&&((_=["A",x,x,0,P,uy(u.clockwise)?1-u.clockwise:0,C+x*M,o+x*I]).params={start:w,end:g,cx:C,cy:o},p.push(E?["M",C+x*F,o+x*T]:["L",C+x*F,o+x*T],_)),E||p.push(["Z"])}return p}function py(C,o,l,c,u){return u&&u.r?kp(C,o,l,c,u):[["M",C,o],["L",C+l,o],["L",C+l,o+c],["L",C,o+c],["Z"]]}function kp(C,o,l,c,u){let p=u?.r||0;return[["M",C+p,o],["L",C+l-p,o],["A",p,p,0,0,1,C+l,o+p],["L",C+l,o+c-p],["A",p,p,0,0,1,C+l-p,o+c],["L",C+p,o+c],["A",p,p,0,0,1,C,o+c-p],["L",C,o+p],["A",p,p,0,0,1,C+p,o],["Z"]]}let gy={arc:hy,callout:function(C,o,l,c,u){let p=Math.min(u&&u.r||0,l,c),g=p+6,f=u&&u.anchorX,m=u&&u.anchorY||0,y=kp(C,o,l,c,{r:p});if(!SA(f)||f<l&&f>0&&m<c&&m>0)return y;if(C+f>l-g)if(m>o+g&&m<o+c-g)y.splice(3,1,["L",C+l,m-6],["L",C+l+6,m],["L",C+l,m+6],["L",C+l,o+c-p]);else if(f<l){let S=m<o+g,w=S?o:o+c;y.splice(S?2:5,0,["L",f,m],["L",C+l-p,w])}else y.splice(3,1,["L",C+l,c/2],["L",f,m],["L",C+l,c/2],["L",C+l,o+c-p]);else if(C+f<g)if(m>o+g&&m<o+c-g)y.splice(7,1,["L",C,m+6],["L",C-6,m],["L",C,m-6],["L",C,o+p]);else if(f>0){let S=m<o+g,w=S?o:o+c;y.splice(S?1:6,0,["L",f,m],["L",C+p,w])}else y.splice(7,1,["L",C,c/2],["L",f,m],["L",C,c/2],["L",C,o+p]);else m>c&&f<l-g?y.splice(5,1,["L",f+6,o+c],["L",f,o+c+6],["L",f-6,o+c],["L",C+p,o+c]):m<0&&f>g&&y.splice(1,1,["L",f-6,o],["L",f,o-6],["L",f+6,o],["L",l-p,o]);return y},circle:function(C,o,l,c){return hy(C+l/2,o+c/2,l/2,c/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(C,o,l,c){return[["M",C+l/2,o],["L",C+l,o+c/2],["L",C+l/2,o+c],["L",C,o+c/2],["Z"]]},rect:py,roundedRect:kp,square:py,triangle:function(C,o,l,c){return[["M",C+l/2,o],["L",C+l,o+c],["L",C,o+c],["Z"]]},"triangle-down":function(C,o,l,c){return[["M",C,o],["L",C+l,o],["L",C+l/2,o+c],["Z"]]}},{doc:Lp,SVG_NS:xA,win:fy}=W,{attr:Op,extend:DA,fireEvent:EA,isString:MA,objectEach:RA,pick:TA}=he,Np=(C,o)=>C.substring(0,o)+"\u2026",IA=class{constructor(C){let o=C.styles;this.renderer=C.renderer,this.svgElement=C,this.width=C.textWidth,this.textLineHeight=o&&o.lineHeight,this.textOutline=o&&o.textOutline,this.ellipsis=!!(o&&o.textOverflow==="ellipsis"),this.lineClamp=o?.lineClamp,this.noWrap=!!(o&&o.whiteSpace==="nowrap")}buildSVG(){let C=this.svgElement,o=C.element,l=C.renderer,c=TA(C.textStr,"").toString(),u=c.indexOf("<")!==-1,p=o.childNodes,g=!C.added&&l.box,f=[c,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,C.getStyle("font-size"),C.styles.lineClamp,this.width].join(",");if(f!==C.textCache){C.textCache=f,delete C.actualWidth;for(let m=p.length;m--;)o.removeChild(p[m]);if(u||this.ellipsis||this.width||C.textPath||c.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(c))){if(c!==""){g&&g.appendChild(o);let m=new ht(c);this.modifyTree(m.nodes),m.addToDOM(o),this.modifyDOM(),this.ellipsis&&(o.textContent||"").indexOf("\u2026")!==-1&&C.attr("title",this.unescapeEntities(C.textStr||"",["&lt;","&gt;"])),g&&g.removeChild(o)}}else o.appendChild(Lp.createTextNode(this.unescapeEntities(c)));MA(this.textOutline)&&C.applyTextOutline&&C.applyTextOutline(this.textOutline)}}modifyDOM(){let C,o=this.svgElement,l=Op(o.element,"x");for(o.firstLineMetrics=void 0;(C=o.element.firstChild)&&/^[\s\u200B]*$/.test(C.textContent||" ");)o.element.removeChild(C);[].forEach.call(o.element.querySelectorAll("tspan.highcharts-br"),(g,f)=>{g.nextSibling&&g.previousSibling&&(f===0&&g.previousSibling.nodeType===1&&(o.firstLineMetrics=o.renderer.fontMetrics(g.previousSibling)),Op(g,{dy:this.getLineHeight(g.nextSibling),x:l}))});let c=this.width||0;if(!c)return;let u=(g,f)=>{let m=g.textContent||"",y=m.replace(/([^\^])-/g,"$1- ").split(" "),S=!this.noWrap&&(y.length>1||o.element.childNodes.length>1),w=this.getLineHeight(f),x=Math.max(0,c-.8*w),E=0,M=o.actualWidth;if(S){let I=[],F=[];for(;f.firstChild&&f.firstChild!==g;)F.push(f.firstChild),f.removeChild(f.firstChild);for(;y.length;)if(y.length&&!this.noWrap&&E>0&&(I.push(g.textContent||""),g.textContent=y.join(" ").replace(/- /g,"-")),this.truncate(g,void 0,y,E===0&&M||0,c,x,(T,P)=>y.slice(0,P).join(" ").replace(/- /g,"-")),M=o.actualWidth,E++,this.lineClamp&&E>=this.lineClamp){y.length&&(this.truncate(g,g.textContent||"",void 0,0,c,x,Np),g.textContent=g.textContent?.replace("\u2026","")+"\u2026");break}F.forEach(T=>{f.insertBefore(T,g)}),I.forEach(T=>{f.insertBefore(Lp.createTextNode(T),g);let P=Lp.createElementNS(xA,"tspan");P.textContent="\u200B",Op(P,{dy:w,x:l}),f.insertBefore(P,g)})}else this.ellipsis&&m&&this.truncate(g,m,void 0,0,c,x,Np)},p=g=>{[].slice.call(g.childNodes).forEach(f=>{f.nodeType===fy.Node.TEXT_NODE?u(f,g):(f.className.baseVal.indexOf("highcharts-br")!==-1&&(o.actualWidth=0),p(f))})};p(o.element)}getLineHeight(C){let o=C.nodeType===fy.Node.TEXT_NODE?C.parentElement:C;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(o||this.svgElement.element).h}modifyTree(C){let o=(l,c)=>{let{attributes:u={},children:p,style:g={},tagName:f}=l,m=this.renderer.styledMode;if(f==="b"||f==="strong"?m?u.class="highcharts-strong":g.fontWeight="bold":(f==="i"||f==="em")&&(m?u.class="highcharts-emphasized":g.fontStyle="italic"),g&&g.color&&(g.fill=g.color),f==="br"){u.class="highcharts-br",l.textContent="\u200B";let y=C[c+1];y&&y.textContent&&(y.textContent=y.textContent.replace(/^ +/gm,""))}else f==="a"&&p&&p.some(y=>y.tagName==="#text")&&(l.children=[{children:p,tagName:"tspan"}]);f!=="#text"&&f!=="a"&&(l.tagName="tspan"),DA(l,{attributes:u,style:g}),p&&p.filter(y=>y.tagName!=="#text").forEach(o)};C.forEach(o),EA(this.svgElement,"afterModifyTree",{nodes:C})}truncate(C,o,l,c,u,p,g){let f,m,y=this.svgElement,{rotation:S}=y,w=[],x=l&&!c?1:0,E=(o||l||"").length,M=E;l||(u=p);let I=function(F,T){let P=T||F,_=C.parentNode;if(_&&w[P]===void 0&&_.getSubStringLength)try{w[P]=c+_.getSubStringLength(0,l?P+1:P)}catch{}return w[P]};if(y.rotation=0,c+(m=I(C.textContent.length))>u){for(;x<=E;)M=Math.ceil((x+E)/2),l&&(f=g(l,M)),m=I(M,f&&f.length-1),x===E?x=E+1:m>u?E=M-1:x=M;E===0?C.textContent="":o&&E===o.length-1||(C.textContent=f||g(o||l,M)),this.ellipsis&&m>u&&this.truncate(C,C.textContent||"",void 0,0,u,p,Np)}l&&l.splice(0,M),y.actualWidth=m,y.rotation=S}unescapeEntities(C,o){return RA(this.renderer.escapes,function(l,c){o&&o.indexOf(l)!==-1||(C=C.toString().replace(RegExp(l,"g"),c))}),C}},{defaultOptions:AA}=Wi,{charts:FA,deg2rad:my,doc:ho,isFirefox:vy,isMS:Cy,isWebKit:PA,noop:_A,SVG_NS:kA,symbolSizes:Va,win:Bp}=W,{addEvent:Fc,attr:Pc,createElement:LA,crisp:by,css:_c,defined:gr,destroyObjectProperties:OA,extend:fr,isArray:NA,isNumber:Ha,isObject:za,isString:BA,merge:Gp,pick:Vp,pInt:GA,replaceNested:VA,uniqueKey:HA}=he;class kc{constructor(o,l,c,u,p,g,f){let m,y,S=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),w=S.element;f||S.css(this.getStyle(u||{})),o.appendChild(w),Pc(o,"dir","ltr"),o.innerHTML.indexOf("xmlns")===-1&&Pc(w,"xmlns",this.SVG_NS),this.box=w,this.boxWrapper=S,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(ho.createTextNode("Created with Highcharts 12.1.2")),this.defs=this.createElement("defs").add(),this.allowHTML=g,this.forExport=p,this.styledMode=f,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=S.getStyle("font-size"),this.setSize(l,c,!1),vy&&o.getBoundingClientRect&&((m=function(){_c(o,{left:0,top:0}),y=o.getBoundingClientRect(),_c(o,{left:Math.ceil(y.left)-y.left+"px",top:Math.ceil(y.top)-y.top+"px"})})(),this.unSubPixelFix=Fc(Bp,"resize",m))}definition(o){return new ht([o]).addToDOM(this.defs.element)}getReferenceURL(){if((vy||PA)&&ho.getElementsByTagName("base").length){if(!gr(t)){let o=HA(),l=new ht([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:o},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${o})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(ho.body);_c(l,{position:"fixed",top:0,left:0,zIndex:9e5});let c=ho.elementFromPoint(6,6);t=(c&&c.id)==="hitme",ho.body.removeChild(l)}if(t)return VA(Bp.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(o){return this.style=fr({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},o),this.style}setStyle(o){this.boxWrapper.css(this.getStyle(o))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let o=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),OA(this.gradients||{}),this.gradients=null,this.defs=o.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(o){return new this.Element(this,o)}getRadialAttr(o,l){return{cx:o[0]-o[2]/2+(l.cx||0)*o[2],cy:o[1]-o[2]/2+(l.cy||0)*o[2],r:(l.r||0)*o[2]}}shadowDefinition(o){let l=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(o).map(u=>`${u}-${o[u]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),c=Gp({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},o);return this.defs.element.querySelector(`#${l}`)||this.definition({tagName:"filter",attributes:{id:l,filterUnits:c.filterUnits},children:this.getShadowFilterContent(c)}),l}getShadowFilterContent(o){return[{tagName:"feDropShadow",attributes:{dx:o.offsetX,dy:o.offsetY,"flood-color":o.color,"flood-opacity":Math.min(5*o.opacity,1),stdDeviation:o.width/2}}]}buildText(o){new IA(o).buildSVG()}getContrast(o){let l=kt.parse(o).rgba.map(u=>{let p=u/255;return p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4)}),c=.2126*l[0]+.7152*l[1]+.0722*l[2];return 1.05/(c+.05)>(c+.05)/.05?"#FFFFFF":"#000000"}button(o,l,c,u,p={},g,f,m,y,S){let w=this.label(o,l,c,y,void 0,void 0,S,void 0,"button"),x=this.styledMode,E=arguments,M=0;p=Gp(AA.global.buttonTheme,p),x&&(delete p.fill,delete p.stroke,delete p["stroke-width"]);let I=p.states||{},F=p.style||{};delete p.states,delete p.style;let T=[ht.filterUserAttributes(p)],P=[F];return x||["hover","select","disabled"].forEach((_,B)=>{T.push(Gp(T[0],ht.filterUserAttributes(E[B+5]||I[_]||{}))),P.push(T[B+1].style),delete T[B+1].style}),Fc(w.element,Cy?"mouseover":"mouseenter",function(){M!==3&&w.setState(1)}),Fc(w.element,Cy?"mouseout":"mouseleave",function(){M!==3&&w.setState(M)}),w.setState=(_=0)=>{if(_!==1&&(w.state=M=_),w.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][_]),!x){w.attr(T[_]);let B=P[_];za(B)&&w.css(B)}},w.attr(T[0]),!x&&(w.css(fr({cursor:"default"},F)),S&&w.text.css({pointerEvents:"none"})),w.on("touchstart",_=>_.stopPropagation()).on("click",function(_){M!==3&&u.call(w,_)})}crispLine(o,l){let[c,u]=o;return gr(c[1])&&c[1]===u[1]&&(c[1]=u[1]=by(c[1],l)),gr(c[2])&&c[2]===u[2]&&(c[2]=u[2]=by(c[2],l)),o}path(o){let l=this.styledMode?{}:{fill:"none"};return NA(o)?l.d=o:za(o)&&fr(l,o),this.createElement("path").attr(l)}circle(o,l,c){let u=za(o)?o:o===void 0?{}:{x:o,y:l,r:c},p=this.createElement("circle");return p.xSetter=p.ySetter=function(g,f,m){m.setAttribute("c"+f,g)},p.attr(u)}arc(o,l,c,u,p,g){let f;za(o)?(l=(f=o).y,c=f.r,u=f.innerR,p=f.start,g=f.end,o=f.x):f={innerR:u,start:p,end:g};let m=this.symbol("arc",o,l,c,c,f);return m.r=c,m}rect(o,l,c,u,p,g){let f=za(o)?o:o===void 0?{}:{x:o,y:l,r:p,width:Math.max(c||0,0),height:Math.max(u||0,0)},m=this.createElement("rect");return this.styledMode||(g!==void 0&&(f["stroke-width"]=g,fr(f,m.crisp(f))),f.fill="none"),m.rSetter=function(y,S,w){m.r=y,Pc(w,{rx:y,ry:y})},m.rGetter=function(){return m.r||0},m.attr(f)}roundedRect(o){return this.symbol("roundedRect").attr(o)}setSize(o,l,c){this.width=o,this.height=l,this.boxWrapper.animate({width:o,height:l},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Vp(c,!0)?void 0:0}),this.alignElements()}g(o){let l=this.createElement("g");return o?l.attr({class:"highcharts-"+o}):l}image(o,l,c,u,p,g){let f={preserveAspectRatio:"none"};Ha(l)&&(f.x=l),Ha(c)&&(f.y=c),Ha(u)&&(f.width=u),Ha(p)&&(f.height=p);let m=this.createElement("image").attr(f),y=function(S){m.attr({href:o}),g.call(m,S)};if(g){m.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let S=new Bp.Image;Fc(S,"load",y),S.src=o,S.complete&&y({})}else m.attr({href:o});return m}symbol(o,l,c,u,p,g){let f,m,y,S,w=this,x=/^url\((.*?)\)$/,E=x.test(o),M=!E&&(this.symbols[o]?o:"circle"),I=M&&this.symbols[M];if(I)typeof l=="number"&&(m=I.call(this.symbols,l||0,c||0,u||0,p||0,g)),f=this.path(m),w.styledMode||f.attr("fill","none"),fr(f,{symbolName:M||void 0,x:l,y:c,width:u,height:p}),g&&fr(f,g);else if(E){y=o.match(x)[1];let F=f=this.image(y);F.imgwidth=Vp(g&&g.width,Va[y]&&Va[y].width),F.imgheight=Vp(g&&g.height,Va[y]&&Va[y].height),S=T=>T.attr({width:T.width,height:T.height}),["width","height"].forEach(T=>{F[`${T}Setter`]=function(P,_){this[_]=P;let{alignByTranslate:B,element:z,width:G,height:N,imgwidth:V,imgheight:q}=this,Y=_==="width"?V:q,J=1;g&&g.backgroundSize==="within"&&G&&N&&V&&q?(J=Math.min(G/V,N/q),Pc(z,{width:Math.round(V*J),height:Math.round(q*J)})):z&&Y&&z.setAttribute(_,Y),!B&&V&&q&&this.translate(((G||0)-V*J)/2,((N||0)-q*J)/2)}}),gr(l)&&F.attr({x:l,y:c}),F.isImg=!0,F.symbolUrl=o,gr(F.imgwidth)&&gr(F.imgheight)?S(F):(F.attr({width:0,height:0}),LA("img",{onload:function(){let T=FA[w.chartIndex];this.width===0&&(_c(this,{position:"absolute",top:"-999em"}),ho.body.appendChild(this)),Va[y]={width:this.width,height:this.height},F.imgwidth=this.width,F.imgheight=this.height,F.element&&S(F),this.parentNode&&this.parentNode.removeChild(this),w.imgCount--,w.imgCount||!T||T.hasLoaded||T.onload()},src:y}),this.imgCount++)}return f}clipRect(o,l,c,u){return this.rect(o,l,c,u,0)}text(o,l,c,u){let p={};if(u&&(this.allowHTML||!this.forExport))return this.html(o,l,c);p.x=Math.round(l||0),c&&(p.y=Math.round(c)),gr(o)&&(p.text=o);let g=this.createElement("text").attr(p);return u&&(!this.forExport||this.allowHTML)||(g.xSetter=function(f,m,y){let S=y.getElementsByTagName("tspan"),w=y.getAttribute(m);for(let x=0,E;x<S.length;x++)(E=S[x]).getAttribute(m)===w&&E.setAttribute(m,f);y.setAttribute(m,f)}),g}fontMetrics(o){let l=GA(Fs.prototype.getStyle.call(o,"font-size")||0),c=l<24?l+3:Math.round(1.2*l),u=Math.round(.8*c);return{h:c,b:u,f:l}}rotCorr(o,l,c){let u=o;return l&&c&&(u=Math.max(u*Math.cos(l*my),4)),{x:-o/3*Math.sin(l*my),y:u}}pathToSegments(o){let l=[],c=[],u={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let p=0;p<o.length;p++)BA(c[0])&&Ha(o[p])&&c.length===u[c[0].toUpperCase()]&&o.splice(p,0,c[0].replace("M","L").replace("m","l")),typeof o[p]=="string"&&(c.length&&l.push(c.slice(0)),c.length=0),c.push(o[p]);return l.push(c.slice(0)),l}label(o,l,c,u,p,g,f,m,y){return new pr(this,o,l,c,u,p,g,f,m,y)}alignElements(){this.alignedObjects.forEach(o=>o.align())}}fr(kc.prototype,{Element:Fs,SVG_NS:kA,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:gy,draw:_A}),Oa.registerRendererType("svg",kc,!0);let{composed:zA}=W,{attr:WA,css:po,createElement:jA,defined:yy,extend:UA,getAlignFactor:$A,isNumber:KA,pInt:qA,pushUnique:YA}=he;function wy(C,o,l){let c=this.div?.style||l.style;Fs.prototype[`${o}Setter`].call(this,C,o,l),c&&(c[o]=C)}let XA=(C,o)=>{if(!C.div){let l=WA(C.element,"class"),c=C.css,u=jA("div",l?{className:l}:void 0,be(U({position:"absolute",left:`${C.translateX||0}px`,top:`${C.translateY||0}px`},C.styles),{display:C.display,opacity:C.opacity,visibility:C.visibility}),C.parentGroup?.div||o);C.classSetter=(p,g,f)=>{f.setAttribute("class",p),u.className=p},C.translateXSetter=C.translateYSetter=(p,g)=>{C[g]=p,u.style[g==="translateX"?"left":"top"]=`${p}px`,C.doTransform=!0},C.opacitySetter=C.visibilitySetter=wy,C.css=p=>(c.call(C,p),p.cursor&&(u.style.cursor=p.cursor),p.pointerEvents&&(u.style.pointerEvents=p.pointerEvents),C),C.on=function(){return Fs.prototype.on.apply({element:u,onEvents:C.onEvents},arguments),C},C.div=u}return C.div};class Wa extends Fs{static compose(o){YA(zA,this.compose)&&(o.prototype.html=function(l,c,u){return new Wa(this,"span").attr({text:l,x:Math.round(c),y:Math.round(u)})})}constructor(o,l){super(o,l),this.css(U({position:"absolute"},o.styledMode?{}:{fontFamily:o.style.fontFamily,fontSize:o.style.fontSize}))}getSpanCorrection(o,l,c){this.xCorr=-o*c,this.yCorr=-l}css(o){let l,{element:c}=this,u=c.tagName==="SPAN"&&o&&"width"in o,p=u&&o.width;return u&&(delete o.width,this.textWidth=qA(p)||void 0,l=!0),o?.textOverflow==="ellipsis"&&(o.overflow="hidden"),o?.lineClamp&&(o.display="-webkit-box",o.WebkitLineClamp=o.lineClamp,o.WebkitBoxOrient="vertical",o.overflow="hidden"),KA(Number(o?.fontSize))&&(o.fontSize=o.fontSize+"px"),UA(this.styles,o),po(c,o),l&&this.updateTransform(),this}htmlGetBBox(){let{element:o}=this;return{x:o.offsetLeft,y:o.offsetTop,width:o.offsetWidth,height:o.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:o,renderer:l,rotation:c,rotationOriginX:u,rotationOriginY:p,scaleX:g,scaleY:f,styles:m,textAlign:y="left",textWidth:S,translateX:w=0,translateY:x=0,x:E=0,y:M=0}=this,{display:I="block",whiteSpace:F}=m;if(po(o,{marginLeft:`${w}px`,marginTop:`${x}px`}),o.tagName==="SPAN"){let T,P=[c,y,o.innerHTML,S,this.textAlign].join(","),_=-(this.parentGroup?.padding*1)||0;if(S!==this.oldTextWidth){let N=this.textPxLength?this.textPxLength:(po(o,{width:"",whiteSpace:F||"nowrap"}),o.offsetWidth),V=S||0;(V>this.oldTextWidth||N>V)&&(/[ \-]/.test(o.textContent||o.innerText)||o.style.textOverflow==="ellipsis")&&(po(o,{width:N>V||c||g?S+"px":"auto",display:I,whiteSpace:F||"normal"}),this.oldTextWidth=S)}P!==this.cTT&&(T=l.fontMetrics(o).b,yy(c)&&(c!==(this.oldRotation||0)||y!==this.oldAlign)&&this.setSpanRotation(c,_,_),this.getSpanCorrection(!yy(c)&&!this.textWidth&&this.textPxLength||o.offsetWidth,T,$A(y)));let{xCorr:B=0,yCorr:z=0}=this,G={left:`${E+B}px`,top:`${M+z}px`,textAlign:y,transformOrigin:`${(u??E)-B-E-_}px ${(p??M)-z-M-_}px`};(g||f)&&(G.transform=`scale(${g??1},${f??1})`),po(o,G),this.cTT=P,this.oldRotation=c,this.oldAlign=y}}setSpanRotation(o,l,c){po(this.element,{transform:`rotate(${o}deg)`,transformOrigin:`${l}% ${c}px`})}add(o){let l,c=this.renderer.box.parentNode,u=[];if(this.parentGroup=o,o&&!(l=o.div)){let p=o;for(;p;)u.push(p),p=p.parentGroup;for(let g of u.reverse())l=XA(g,c)}return(l||c).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(o){o!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,ht.setElementHTML(this.element,o??""),this.textStr=o,this.doTransform=!0)}alignSetter(o){this.alignValue=this.textAlign=o,this.doTransform=!0}xSetter(o,l){this[l]=o,this.doTransform=!0}}let mr=Wa.prototype;mr.visibilitySetter=mr.opacitySetter=wy,mr.ySetter=mr.rotationSetter=mr.rotationOriginXSetter=mr.rotationOriginYSetter=mr.xSetter,function(C){C.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},C.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:o}=this.axis.chart;return o(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(r||(r={}));let ZA=r,{addEvent:QA,isFunction:JA,objectEach:eF,removeEvent:tF}=he;(a||(a={})).registerEventOptions=function(C,o){C.eventOptions=C.eventOptions||{},eF(o.events,function(l,c){C.eventOptions[c]!==l&&(C.eventOptions[c]&&(tF(C,c,C.eventOptions[c]),delete C.eventOptions[c]),JA(l)&&(C.eventOptions[c]=l,QA(C,c,l,{order:0})))})};let Lc=a,{deg2rad:Hp}=W,{clamp:iF,correctFloat:Oc,defined:zp,destroyObjectProperties:sF,extend:Sy,fireEvent:ja,getAlignFactor:nF,isNumber:Nc,merge:rF,objectEach:oF,pick:as}=he,go=class{constructor(C,o,l,c,u){this.isNew=!0,this.isNewLabel=!0,this.axis=C,this.pos=o,this.type=l||"",this.parameters=u||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,ja(this,"init"),l||c||this.addLabel()}addLabel(){let C=this,o=C.axis,l=o.options,c=o.chart,u=o.categories,p=o.logarithmic,g=o.names,f=C.pos,m=as(C.options&&C.options.labels,l.labels),y=o.tickPositions,S=f===y[0],w=f===y[y.length-1],x=(!m.step||m.step===1)&&o.tickInterval===1,E=y.info,M=C.label,I,F,T,P=this.parameters.category||(u?as(u[f],g[f],f):f);p&&Nc(P)&&(P=Oc(p.lin2log(P))),o.dateTime&&(E?I=(F=c.time.resolveDTLFormat(l.dateTimeLabelFormats[!l.grid&&E.higherRanks[f]||E.unitName])).main:Nc(P)&&(I=o.dateTime.getXDateFormat(P,l.dateTimeLabelFormats||{}))),C.isFirst=S,C.isLast=w;let _={axis:o,chart:c,dateTimeLabelFormat:I,isFirst:S,isLast:w,pos:f,tick:C,tickPositionInfo:E,value:P};ja(this,"labelFormat",_);let B=N=>m.formatter?m.formatter.call(N,N):m.format?(N.text=o.defaultLabelFormatter.call(N),rs.format(m.format,N,c)):o.defaultLabelFormatter.call(N),z=B.call(_,_),G=F&&F.list;G?C.shortenLabel=function(){for(T=0;T<G.length;T++)if(Sy(_,{dateTimeLabelFormat:G[T]}),M.attr({text:B.call(_,_)}),M.getBBox().width<o.getSlotWidth(C)-2*(m.padding||0))return;M.attr({text:""})}:C.shortenLabel=void 0,x&&o._addedPlotLB&&C.moveLabel(z,m),zp(M)||C.movedLabel?M&&M.textStr!==z&&!x&&(!M.textWidth||m.style.width||M.styles.width||M.css({width:null}),M.attr({text:z}),M.textPxLength=M.getBBox().width):(C.label=M=C.createLabel(z,m),C.rotation=0)}createLabel(C,o,l){let c=this.axis,{renderer:u,styledMode:p}=c.chart,g=zp(C)&&o.enabled?u.text(C,l?.x,l?.y,o.useHTML).add(c.labelGroup):void 0;if(g){let f=o.style.whiteSpace||"normal";p||g.css(rF(o.style,{whiteSpace:"nowrap"})),g.textPxLength=g.getBBox().width,p||g.css({whiteSpace:f})}return g}destroy(){sF(this,this.axis)}getPosition(C,o,l,c){let u=this.axis,p=u.chart,g=c&&p.oldChartHeight||p.chartHeight,f={x:C?Oc(u.translate(o+l,void 0,void 0,c)+u.transB):u.left+u.offset+(u.opposite?(c&&p.oldChartWidth||p.chartWidth)-u.right-u.left:0),y:C?g-u.bottom+u.offset-(u.opposite?u.height:0):Oc(g-u.translate(o+l,void 0,void 0,c)-u.transB)};return f.y=iF(f.y,-1e9,1e9),ja(this,"afterGetPosition",{pos:f}),f}getLabelPosition(C,o,l,c,u,p,g,f){let m,y,S=this.axis,w=S.transA,x=S.isLinked&&S.linkedParent?S.linkedParent.reversed:S.reversed,E=S.staggerLines,M=S.tickRotCorr||{x:0,y:0},I=c||S.reserveSpaceDefault?0:-S.labelOffset*(S.labelAlign==="center"?.5:1),F=u.distance,T={};return m=S.side===0?l.rotation?-F:-l.getBBox().height:S.side===2?M.y+F:Math.cos(l.rotation*Hp)*(M.y-l.getBBox(!1,0).height/2),zp(u.y)&&(m=S.side===0&&S.horiz?u.y+m:u.y),C=C+as(u.x,[0,1,0,-1][S.side]*F)+I+M.x-(p&&c?p*w*(x?-1:1):0),o=o+m-(p&&!c?p*w*(x?1:-1):0),E&&(y=g/(f||1)%E,S.opposite&&(y=E-y-1),o+=y*(S.labelOffset/E)),T.x=C,T.y=Math.round(o),ja(this,"afterGetLabelPosition",{pos:T,tickmarkOffset:p,index:g}),T}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(C,o,l,c,u=!1,p){return p.crispLine([["M",C,o],["L",C+(u?0:-l),o+(u?l:0)]],c)}handleOverflow(C){let o=this.axis,l=o.options.labels,c=C.x,u=o.chart.chartWidth,p=o.chart.spacing,g=as(o.labelLeft,Math.min(o.pos,p[3])),f=as(o.labelRight,Math.max(o.isRadial?0:o.pos+o.len,u-p[1])),m=this.label,y=this.rotation,S=nF(o.labelAlign||m.attr("align")),w=m.getBBox().width,x=o.getSlotWidth(this),E=x,M=1,I,F,T;y||l.overflow!=="justify"?y<0&&c-S*w<g?T=Math.round(c/Math.cos(y*Hp)-g):y>0&&c+S*w>f&&(T=Math.round((u-c)/Math.cos(y*Hp))):(I=c-S*w,F=c+(1-S)*w,I<g?E=C.x+E*(1-S)-g:F>f&&(E=f-C.x+E*S,M=-1),(E=Math.min(x,E))<x&&o.labelAlign==="center"&&(C.x+=M*(x-E-S*(x-Math.min(w,E)))),(w>E||o.autoRotation&&(m.styles||{}).width)&&(T=E)),T&&m&&(this.shortenLabel?this.shortenLabel():m.css(Sy({},{width:Math.floor(T)+"px",lineClamp:o.isRadial?0:1})))}moveLabel(C,o){let l=this,c=l.label,u=l.axis,p=!1,g;c&&c.textStr===C?(l.movedLabel=c,p=!0,delete l.label):oF(u.ticks,function(f){p||f.isNew||f===l||!f.label||f.label.textStr!==C||(l.movedLabel=f.label,p=!0,f.labelPos=l.movedLabel.xy,delete f.label)}),!p&&(l.labelPos||c)&&(g=l.labelPos||c.xy,l.movedLabel=l.createLabel(C,o,g),l.movedLabel&&l.movedLabel.attr({opacity:0}))}render(C,o,l){let c=this.axis,u=c.horiz,p=this.pos,g=as(this.tickmarkOffset,c.tickmarkOffset),f=this.getPosition(u,p,g,o),m=f.x,y=f.y,S=c.pos,w=S+c.len,x=u?m:y;!c.chart.polar&&this.isNew&&(Oc(x)<S||x>w)&&(l=0);let E=as(l,this.label&&this.label.newOpacity,1);l=as(l,1),this.isActive=!0,this.renderGridLine(o,l),this.renderMark(f,l),this.renderLabel(f,o,E,C),this.isNew=!1,ja(this,"afterRender")}renderGridLine(C,o){let l=this.axis,c=l.options,u={},p=this.pos,g=this.type,f=as(this.tickmarkOffset,l.tickmarkOffset),m=l.chart.renderer,y=this.gridLine,S,w=c.gridLineWidth,x=c.gridLineColor,E=c.gridLineDashStyle;this.type==="minor"&&(w=c.minorGridLineWidth,x=c.minorGridLineColor,E=c.minorGridLineDashStyle),y||(l.chart.styledMode||(u.stroke=x,u["stroke-width"]=w||0,u.dashstyle=E),g||(u.zIndex=1),C&&(o=0),this.gridLine=y=m.path().attr(u).addClass("highcharts-"+(g?g+"-":"")+"grid-line").add(l.gridGroup)),y&&(S=l.getPlotLinePath({value:p+f,lineWidth:y.strokeWidth(),force:"pass",old:C,acrossPanes:!1}))&&y[C||this.isNew?"attr":"animate"]({d:S,opacity:o})}renderMark(C,o){let l=this.axis,c=l.options,u=l.chart.renderer,p=this.type,g=l.tickSize(p?p+"Tick":"tick"),f=C.x,m=C.y,y=as(c[p!=="minor"?"tickWidth":"minorTickWidth"],!p&&l.isXAxis?1:0),S=c[p!=="minor"?"tickColor":"minorTickColor"],w=this.mark,x=!w;g&&(l.opposite&&(g[0]=-g[0]),w||(this.mark=w=u.path().addClass("highcharts-"+(p?p+"-":"")+"tick").add(l.axisGroup),l.chart.styledMode||w.attr({stroke:S,"stroke-width":y})),w[x?"attr":"animate"]({d:this.getMarkPath(f,m,g[0],w.strokeWidth(),l.horiz,u),opacity:o}))}renderLabel(C,o,l,c){let u=this.axis,p=u.horiz,g=u.options,f=this.label,m=g.labels,y=m.step,S=as(this.tickmarkOffset,u.tickmarkOffset),w=C.x,x=C.y,E=!0;f&&Nc(w)&&(f.xy=C=this.getLabelPosition(w,x,f,p,m,S,c,y),(!this.isFirst||this.isLast||g.showFirstLabel)&&(!this.isLast||this.isFirst||g.showLastLabel)?!p||m.step||m.rotation||o||l===0||this.handleOverflow(C):E=!1,y&&c%y&&(E=!1),E&&Nc(C.y)?(C.opacity=l,f[this.isNewLabel?"attr":"animate"](C).show(!0),this.isNewLabel=!1):(f.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let C=this.label,o=this.axis;C&&!this.isNew&&(C.animate({opacity:0},void 0,C.destroy),delete this.label),o.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:aF}=si,{xAxis:xy,yAxis:lF}=ZA,{defaultOptions:Wp}=Wi,{registerEventOptions:cF}=Lc,{deg2rad:dF}=W,{arrayMax:Dy,arrayMin:uF,clamp:jp,correctFloat:Oi,defined:rt,destroyObjectProperties:hF,erase:Ey,error:Up,extend:Bc,fireEvent:bt,getClosestDistance:My,insertItem:pF,isArray:Ry,isNumber:fe,isString:Ty,merge:Gc,normalizeTickInterval:gF,objectEach:Vc,pick:Ie,relativeLength:Hc,removeEvent:fF,splat:mF,syncTimeout:vF}=he,Iy=(C,o)=>gF(o,void 0,void 0,Ie(C.options.allowDecimals,o<.5||C.tickAmount!==void 0),!!C.tickAmount);Bc(Wp,{xAxis:xy,yAxis:Gc(xy,lF)});let $p=(()=>{class C{constructor(l,c,u){this.init(l,c,u)}init(l,c,u=this.coll){let p=u==="xAxis",g=this.isZAxis||(l.inverted?!p:p);this.chart=l,this.horiz=g,this.isXAxis=p,this.coll=u,bt(this,"init",{userOptions:c}),this.opposite=Ie(c.opposite,this.opposite),this.side=Ie(c.side,this.side,g?this.opposite?0:2:this.opposite?1:3),this.setOptions(c);let f=this.options,m=f.labels;this.type??(this.type=f.type||"linear"),this.uniqueNames??(this.uniqueNames=f.uniqueNames??!0),bt(this,"afterSetType"),this.userOptions=c,this.minPixelPadding=0,this.reversed=Ie(f.reversed,this.reversed),this.visible=f.visible,this.zoomEnabled=f.zoomEnabled,this.hasNames=this.type==="category"||f.categories===!0,this.categories=Ry(f.categories)&&f.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=rt(f.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=f.minRange||f.maxZoom,this.range=f.range,this.offset=f.offset||0,this.max=void 0,this.min=void 0;let y=Ie(f.crosshair,mF(l.options.tooltip.crosshairs)[p?0:1]);this.crosshair=y===!0?{}:y,l.axes.indexOf(this)===-1&&(p?l.axes.splice(l.xAxis.length,0,this):l.axes.push(this),pF(this,l[this.coll])),l.orderItems(this.coll),this.series=this.series||[],l.inverted&&!this.isZAxis&&p&&!rt(this.reversed)&&(this.reversed=!0),this.labelRotation=fe(m.rotation)?m.rotation:void 0,cF(this,f),bt(this,"afterInit")}setOptions(l){let c=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Gc(c,Wp[this.coll],l),bt(this,"afterSetOptions",{userOptions:l})}defaultLabelFormatter(){let l=this.axis,{numberFormatter:c}=this.chart,u=fe(this.value)?this.value:NaN,p=l.chart.time,g=l.categories,f=this.dateTimeLabelFormat,m=Wp.lang,y=m.numericSymbols,S=m.numericSymbolMagnitude||1e3,w=l.logarithmic?Math.abs(u):l.tickInterval,x=y&&y.length,E,M;if(g)M=`${this.value}`;else if(f)M=p.dateFormat(f,u,!0);else if(x&&y&&w>=1e3)for(;x--&&M===void 0;)w>=(E=Math.pow(S,x+1))&&10*u%E==0&&y[x]!==null&&u!==0&&(M=c(u/E,-1)+y[x]);return M===void 0&&(M=Math.abs(u)>=1e4?c(u,-1):c(u,-1,void 0,"")),M}getSeriesExtremes(){let l,c=this;bt(this,"getSeriesExtremes",null,function(){c.hasVisibleSeries=!1,c.dataMin=c.dataMax=c.threshold=void 0,c.softThreshold=!c.isXAxis,c.series.forEach(u=>{if(u.reserveSpace()){let p=u.options,g,f=p.threshold,m,y;if(c.hasVisibleSeries=!0,c.positiveValuesOnly&&0>=(f||0)&&(f=void 0),c.isXAxis)(g=u.getColumn("x")).length&&(g=c.logarithmic?g.filter(S=>S>0):g,m=(l=u.getXExtremes(g)).min,y=l.max,fe(m)||m instanceof Date||(g=g.filter(fe),m=(l=u.getXExtremes(g)).min,y=l.max),g.length&&(c.dataMin=Math.min(Ie(c.dataMin,m),m),c.dataMax=Math.max(Ie(c.dataMax,y),y)));else{let S=u.applyExtremes();fe(S.dataMin)&&(m=S.dataMin,c.dataMin=Math.min(Ie(c.dataMin,m),m)),fe(S.dataMax)&&(y=S.dataMax,c.dataMax=Math.max(Ie(c.dataMax,y),y)),rt(f)&&(c.threshold=f),(!p.softThreshold||c.positiveValuesOnly)&&(c.softThreshold=!1)}}})}),bt(this,"afterGetSeriesExtremes")}translate(l,c,u,p,g,f){let m=this.linkedParent||this,y=p&&m.old?m.old.min:m.min;if(!fe(y))return NaN;let S=m.minPixelPadding,w=(m.isOrdinal||m.brokenAxis?.hasBreaks||m.logarithmic&&g)&&m.lin2val,x=1,E=0,M=p&&m.old?m.old.transA:m.transA,I=0;return M||(M=m.transA),u&&(x*=-1,E=m.len),m.reversed&&(x*=-1,E-=x*(m.sector||m.len)),c?(I=(l=l*x+E-S)/M+y,w&&(I=m.lin2val(I))):(w&&(l=m.val2lin(l)),I=x*(l-y)*M+E+x*S+(fe(f)?M*f:0),m.isRadial||(I=Oi(I))),I}toPixels(l,c){return this.translate(this.chart?.time.parse(l)??NaN,!1,!this.horiz,void 0,!0)+(c?0:this.pos)}toValue(l,c){return this.translate(l-(c?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(l){let c=this,u=c.chart,p=c.left,g=c.top,f=l.old,m=l.value,y=l.lineWidth,S=f&&u.oldChartHeight||u.chartHeight,w=f&&u.oldChartWidth||u.chartWidth,x=c.transB,E=l.translatedValue,M=l.force,I,F,T,P,_;function B(G,N,V){return M!=="pass"&&(G<N||G>V)&&(M?G=jp(G,N,V):_=!0),G}let z={value:m,lineWidth:y,old:f,force:M,acrossPanes:l.acrossPanes,translatedValue:E};return bt(this,"getPlotLinePath",z,function(G){I=T=(E=jp(E=Ie(E,c.translate(m,void 0,void 0,f)),-1e9,1e9))+x,F=P=S-E-x,fe(E)?c.horiz?(F=g,P=S-c.bottom+(c.options.isInternal?0:u.scrollablePixelsY||0),I=T=B(I,p,p+c.width)):(I=p,T=w-c.right+(u.scrollablePixelsX||0),F=P=B(F,g,g+c.height)):(_=!0,M=!1),G.path=_&&!M?void 0:u.renderer.crispLine([["M",I,F],["L",T,P]],y||1)}),z.path}getLinearTickPositions(l,c,u){let p,g,f,m=Oi(Math.floor(c/l)*l),y=Oi(Math.ceil(u/l)*l),S=[];if(Oi(m+l)===m&&(f=20),this.single)return[c];for(p=m;p<=y&&(S.push(p),(p=Oi(p+l,f))!==g);)g=p;return S}getMinorTickInterval(){let{minorTicks:l,minorTickInterval:c}=this.options;return l===!0?Ie(c,"auto"):l!==!1?c:void 0}getMinorTickPositions(){let l=this.options,c=this.tickPositions,u=this.minorTickInterval,p=this.pointRangePadding||0,g=(this.min||0)-p,f=(this.max||0)+p,m=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:f-g,y=[],S;if(m&&m/u<this.len/3){let w=this.logarithmic;if(w)this.paddedTicks.forEach(function(x,E,M){E&&y.push.apply(y,w.getLogTickPositions(u,M[E-1],M[E],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")y=y.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(u),g,f,l.startOfWeek));else for(S=g+(c[0]-g)%u;S<=f&&S!==y[0];S+=u)y.push(S)}return y.length!==0&&this.trimTicks(y),y}adjustForMinRange(){let l=this.options,c=this.logarithmic,u=this.chart.time,{max:p,min:g,minRange:f}=this,m,y,S,w;this.isXAxis&&f===void 0&&!c&&(f=rt(l.min)||rt(l.max)||rt(l.floor)||rt(l.ceiling)?null:Math.min(5*(My(this.series.map(x=>{let E=x.getColumn("x");return x.xIncrement?E.slice(0,2):E}))||0),this.dataMax-this.dataMin)),fe(p)&&fe(g)&&fe(f)&&p-g<f&&(y=this.dataMax-this.dataMin>=f,m=(f-p+g)/2,S=[g-m,u.parse(l.min)??g-m],y&&(S[2]=c?c.log2lin(this.dataMin):this.dataMin),w=[(g=Dy(S))+f,u.parse(l.max)??g+f],y&&(w[2]=c?c.log2lin(this.dataMax):this.dataMax),(p=uF(w))-g<f&&(S[0]=p-f,S[1]=u.parse(l.min)??p-f,g=Dy(S))),this.minRange=f,this.min=g,this.max=p}getClosest(){let l,c;if(this.categories)c=1;else{let u=[];this.series.forEach(function(p){let g=p.closestPointRange,f=p.getColumn("x");f.length===1?u.push(f[0]):p.sorted&&rt(g)&&p.reserveSpace()&&(c=rt(c)?Math.min(c,g):g)}),u.length&&(u.sort((p,g)=>p-g),l=My([u]))}return l&&c?Math.min(l,c):l||c}nameToX(l){let c=Ry(this.options.categories),u=c?this.categories:this.names,p=l.options.x,g;return l.series.requireSorting=!1,rt(p)||(p=this.uniqueNames&&u?c?u.indexOf(l.name):Ie(u.keys[l.name],-1):l.series.autoIncrement()),p===-1?!c&&u&&(g=u.length):fe(p)&&(g=p),g!==void 0?(this.names[g]=l.name,this.names.keys[l.name]=g):l.x&&(g=l.x),g}updateNames(){let l=this,c=this.names;c.length>0&&(Object.keys(c.keys).forEach(function(u){delete c.keys[u]}),c.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(u=>{u.xIncrement=null,(!u.points||u.isDirtyData)&&(l.max=Math.max(l.max||0,u.dataTable.rowCount-1),u.processData(),u.generatePoints());let p=u.getColumn("x").slice();u.data.forEach((g,f)=>{let m=p[f];g?.options&&g.name!==void 0&&(m=l.nameToX(g))!==void 0&&m!==g.x&&(p[f]=g.x=m)}),u.dataTable.setColumn("x",p)}))}setAxisTranslation(){let l=this,c=l.max-l.min,u=l.linkedParent,p=!!l.categories,g=l.isXAxis,f=l.axisPointRange||0,m,y=0,S=0,w,x=l.transA;(g||p||f)&&(m=l.getClosest(),u?(y=u.minPointOffset,S=u.pointRangePadding):l.series.forEach(function(E){let M=p?1:g?Ie(E.options.pointRange,m,0):l.axisPointRange||0,I=E.options.pointPlacement;if(f=Math.max(f,M),!l.single||p){let F=E.is("xrange")?!g:g;y=Math.max(y,F&&Ty(I)?0:M/2),S=Math.max(S,F&&I==="on"?0:M)}}),w=l.ordinal&&l.ordinal.slope&&m?l.ordinal.slope/m:1,l.minPointOffset=y*=w,l.pointRangePadding=S*=w,l.pointRange=Math.min(f,l.single&&p?1:c),g&&m&&(l.closestPointRange=m)),l.translationSlope=l.transA=x=l.staticScale||l.len/(c+S||1),l.transB=l.horiz?l.left:l.bottom,l.minPixelPadding=x*y,bt(this,"afterSetAxisTranslation")}minFromRange(){let{max:l,min:c}=this;return fe(l)&&fe(c)&&l-c||void 0}setTickInterval(l){let{categories:c,chart:u,dataMax:p,dataMin:g,dateTime:f,isXAxis:m,logarithmic:y,options:S,softThreshold:w}=this,x=u.time,E=fe(this.threshold)?this.threshold:void 0,M=this.minRange||0,{ceiling:I,floor:F,linkedTo:T,softMax:P,softMin:_}=S,B=fe(T)&&u[this.coll]?.[T],z=S.tickPixelInterval,G=S.maxPadding,N=S.minPadding,V=0,q,Y=fe(S.tickInterval)&&S.tickInterval>=0?S.tickInterval:void 0,J,re,ne,ae;if(f||c||B||this.getTickAmount(),ne=Ie(this.userMin,x.parse(S.min)),ae=Ie(this.userMax,x.parse(S.max)),B?(this.linkedParent=B,q=B.getExtremes(),this.min=Ie(q.min,q.dataMin),this.max=Ie(q.max,q.dataMax),this.type!==B.type&&Up(11,!0,u)):(w&&rt(E)&&fe(p)&&fe(g)&&(g>=E?(J=E,N=0):p<=E&&(re=E,G=0)),this.min=Ie(ne,J,g),this.max=Ie(ae,re,p)),fe(this.max)&&fe(this.min)&&(y&&(this.positiveValuesOnly&&!l&&0>=Math.min(this.min,Ie(g,this.min))&&Up(10,!0,u),this.min=Oi(y.log2lin(this.min),16),this.max=Oi(y.log2lin(this.max),16)),this.range&&fe(g)&&(this.userMin=this.min=ne=Math.max(g,this.minFromRange()||0),this.userMax=ae=this.max,this.range=void 0)),bt(this,"foundExtremes"),this.adjustForMinRange(),fe(this.min)&&fe(this.max)){if(!fe(this.userMin)&&fe(_)&&_<this.min&&(this.min=ne=_),!fe(this.userMax)&&fe(P)&&P>this.max&&(this.max=ae=P),c||this.axisPointRange||this.stacking?.usePercentage||B||!(V=this.max-this.min)||(!rt(ne)&&N&&(this.min-=V*N),rt(ae)||!G||(this.max+=V*G)),!fe(this.userMin)&&fe(F)&&(this.min=Math.max(this.min,F)),!fe(this.userMax)&&fe(I)&&(this.max=Math.min(this.max,I)),w&&fe(g)&&fe(p)){let oe=E||0;!rt(ne)&&this.min<oe&&g>=oe?this.min=S.minRange?Math.min(oe,this.max-M):oe:!rt(ae)&&this.max>oe&&p<=oe&&(this.max=S.minRange?Math.max(oe,this.min+M):oe)}!u.polar&&this.min>this.max&&(rt(S.min)?this.max=this.min:rt(S.max)&&(this.min=this.max)),V=this.max-this.min}if(this.min!==this.max&&fe(this.min)&&fe(this.max)?B&&!Y&&z===B.options.tickPixelInterval?this.tickInterval=Y=B.tickInterval:this.tickInterval=Ie(Y,this.tickAmount?V/Math.max(this.tickAmount-1,1):void 0,c?1:V*z/Math.max(this.len,z)):this.tickInterval=1,m&&!l){let oe=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Me){Me.forceCrop=Me.forceCropping?.(),Me.processData(oe)}),bt(this,"postProcessData",{hasExtremesChanged:oe})}this.setAxisTranslation(),bt(this,"initialAxisTranslation"),this.pointRange&&!Y&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let de=Ie(S.minTickInterval,f&&!this.series.some(oe=>!oe.sorted)?this.closestPointRange:0);!Y&&this.tickInterval<de&&(this.tickInterval=de),f||y||Y||(this.tickInterval=Iy(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let l=this.options,c=l.tickPositions,u=l.tickPositioner,p=this.getMinorTickInterval(),g=!this.isPanning,f=g&&l.startOnTick,m=g&&l.endOnTick,y=[],S;if(this.tickmarkOffset=this.categories&&l.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&rt(this.min)&&!this.tickAmount&&(this.min%1==0||l.allowDecimals!==!1),c)y=c.slice();else if(fe(this.min)&&fe(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))y=[this.min,this.max],Up(19,!1,this.chart);else if(this.dateTime)y=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,l.units),this.min,this.max,l.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)y=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let w=this.tickInterval,x=w;for(;x<=2*w&&(y=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&y.length>this.tickAmount);)this.tickInterval=Iy(this,x*=1.1)}y.length>this.len&&(y=[y[0],y[y.length-1]])[0]===y[1]&&(y.length=1),u&&(this.tickPositions=y,(S=u.apply(this,[this.min,this.max]))&&(y=S))}this.tickPositions=y,this.minorTickInterval=p==="auto"&&this.tickInterval?this.tickInterval/l.minorTicksPerMajor:p,this.paddedTicks=y.slice(0),this.trimTicks(y,f,m),!this.isLinked&&fe(this.min)&&fe(this.max)&&(this.single&&y.length<2&&!this.categories&&!this.series.some(w=>w.is("heatmap")&&w.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),c||S||this.adjustTickAmount()),bt(this,"afterSetTickPositions")}trimTicks(l,c,u){let p=l[0],g=l[l.length-1],f=!this.isOrdinal&&this.minPointOffset||0;if(bt(this,"trimTicks"),!this.isLinked){if(c&&p!==-1/0)this.min=p;else for(;this.min-f>l[0];)l.shift();if(u)this.max=g;else for(;this.max+f<l[l.length-1];)l.pop();l.length===0&&rt(p)&&!this.options.tickPositions&&l.push((g+p)/2)}}alignToOthers(){let l,c=this,u=c.chart,p=[this],g=c.options,f=u.options.chart,m=this.coll==="yAxis"&&f.alignThresholds,y=[];if(c.thresholdAlignment=void 0,(f.alignTicks!==!1&&g.alignTicks||m)&&g.startOnTick!==!1&&g.endOnTick!==!1&&!c.logarithmic){let S=x=>{let{horiz:E,options:M}=x;return[E?M.left:M.top,M.width,M.height,M.pane].join(",")},w=S(this);u[this.coll].forEach(function(x){let{series:E}=x;E.length&&E.some(M=>M.visible)&&x!==c&&S(x)===w&&(l=!0,p.push(x))})}if(l&&m){p.forEach(w=>{let x=w.getThresholdAlignment(c);fe(x)&&y.push(x)});let S=y.length>1?y.reduce((w,x)=>w+=x,0)/y.length:void 0;p.forEach(w=>{w.thresholdAlignment=S})}return l}getThresholdAlignment(l){if((!fe(this.dataMin)||this!==l&&this.series.some(c=>c.isDirty||c.isDirtyData))&&this.getSeriesExtremes(),fe(this.threshold)){let c=jp((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(c=1-c),c}}getTickAmount(){let l=this.options,c=l.tickPixelInterval,u=l.tickAmount;rt(l.tickInterval)||u||!(this.len<c)||this.isRadial||this.logarithmic||!l.startOnTick||!l.endOnTick||(u=2),!u&&this.alignToOthers()&&(u=Math.ceil(this.len/c)+1),u<4&&(this.finalTickAmt=u,u=5),this.tickAmount=u}adjustTickAmount(){let l=this,{finalTickAmt:c,max:u,min:p,options:g,tickPositions:f,tickAmount:m,thresholdAlignment:y}=l,S=f?.length,w=Ie(l.threshold,l.softThreshold?0:null),x,E,M=l.tickInterval,I,F=()=>f.push(Oi(f[f.length-1]+M)),T=()=>f.unshift(Oi(f[0]-M));if(fe(y)&&(I=y<.5?Math.ceil(y*(m-1)):Math.floor(y*(m-1)),g.reversed&&(I=m-1-I)),l.hasData()&&fe(p)&&fe(u)){let P=()=>{l.transA*=(S-1)/(m-1),l.min=g.startOnTick?f[0]:Math.min(p,f[0]),l.max=g.endOnTick?f[f.length-1]:Math.max(u,f[f.length-1])};if(fe(I)&&fe(l.threshold)){for(;f[I]!==w||f.length!==m||f[0]>p||f[f.length-1]<u;){for(f.length=0,f.push(l.threshold);f.length<m;)f[I]===void 0||f[I]>l.threshold?T():F();if(M>8*l.tickInterval)break;M*=2}P()}else if(S<m){for(;f.length<m;)f.length%2||p===w?F():T();P()}if(rt(c)){for(E=x=f.length;E--;)(c===3&&E%2==1||c<=2&&E>0&&E<x-1)&&f.splice(E,1);l.finalTickAmt=void 0}}}setScale(){let{coll:l,stacking:c}=this,u=!1,p=!1;this.series.forEach(f=>{u=u||f.isDirtyData||f.isDirty,p=p||f.xAxis&&f.xAxis.isDirty||!1}),this.setAxisSize();let g=this.len!==(this.old&&this.old.len);g||u||p||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(c&&l==="yAxis"&&c.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),c&&l==="xAxis"&&c.buildStacks(),this.isDirty||(this.isDirty=g||this.min!==this.old?.min||this.max!==this.old?.max)):c&&c.cleanStacks(),u&&delete this.allExtremes,bt(this,"afterSetScale")}setExtremes(l,c,u=!0,p,g){let f=this.chart;this.series.forEach(m=>{delete m.kdTree}),l=f.time.parse(l),c=f.time.parse(c),bt(this,"setExtremes",g=Bc(g,{min:l,max:c}),m=>{this.userMin=m.min,this.userMax=m.max,this.eventArgs=m,u&&f.redraw(p)})}setAxisSize(){let l=this.chart,c=this.options,u=c.offsets||[0,0,0,0],p=this.horiz,g=this.width=Math.round(Hc(Ie(c.width,l.plotWidth-u[3]+u[1]),l.plotWidth)),f=this.height=Math.round(Hc(Ie(c.height,l.plotHeight-u[0]+u[2]),l.plotHeight)),m=this.top=Math.round(Hc(Ie(c.top,l.plotTop+u[0]),l.plotHeight,l.plotTop)),y=this.left=Math.round(Hc(Ie(c.left,l.plotLeft+u[3]),l.plotWidth,l.plotLeft));this.bottom=l.chartHeight-f-m,this.right=l.chartWidth-g-y,this.len=Math.max(p?g:f,0),this.pos=p?y:m}getExtremes(){let l=this.logarithmic;return{min:l?Oi(l.lin2log(this.min)):this.min,max:l?Oi(l.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(l){let c=this.logarithmic,u=c?c.lin2log(this.min):this.min,p=c?c.lin2log(this.max):this.max;return l===null||l===-1/0?l=u:l===1/0?l=p:u>l?l=u:p<l&&(l=p),this.translate(l,0,1,0,1)}autoLabelAlign(l){let c=(Ie(l,0)-90*this.side+720)%360,u={align:"center"};return bt(this,"autoLabelAlign",u,function(p){c>15&&c<165?p.align="right":c>195&&c<345&&(p.align="left")}),u.align}tickSize(l){let c=this.options,u=Ie(c[l==="tick"?"tickWidth":"minorTickWidth"],l==="tick"&&this.isXAxis&&!this.categories?1:0),p=c[l==="tick"?"tickLength":"minorTickLength"],g;u&&p&&(c[l+"Position"]==="inside"&&(p=-p),g=[p,u]);let f={tickSize:g};return bt(this,"afterTickSize",f),f.tickSize}labelMetrics(){let l=this.chart.renderer,c=this.ticks,u=c[Object.keys(c)[0]]||{};return this.chart.renderer.fontMetrics(u.label||u.movedLabel||l.box)}unsquish(){let l=this.options.labels,c=l.padding||0,u=this.horiz,p=this.tickInterval,g=this.len/(((this.categories?1:0)+this.max-this.min)/p),f=l.rotation,m=Oi(.8*this.labelMetrics().h),y=Math.max(this.max-this.min,0),S=function(I){let F=(I+2*c)/(g||1);return(F=F>1?Math.ceil(F):1)*p>y&&I!==1/0&&g!==1/0&&y&&(F=Math.ceil(y/p)),Oi(F*p)},w=p,x,E=Number.MAX_VALUE,M;if(u){if(!l.staggerLines&&(fe(f)?M=[f]:g<l.autoRotationLimit&&(M=l.autoRotation)),M){let I,F;for(let T of M)(T===f||T&&T>=-90&&T<=90)&&(F=(I=S(Math.abs(m/Math.sin(dF*T))))+Math.abs(T/360))<E&&(E=F,x=T,w=I)}}else w=S(.75*m);return this.autoRotation=M,this.labelRotation=Ie(x,fe(f)?f:0),l.step?p:w}getSlotWidth(l){let c=this.chart,u=this.horiz,p=this.options.labels,g=Math.max(this.tickPositions.length-(this.categories?0:1),1),f=c.margin[3];if(l&&fe(l.slotWidth))return l.slotWidth;if(u&&p.step<2&&!this.isRadial)return p.rotation?0:(this.staggerLines||1)*this.len/g;if(!u){let m=p.style.width;if(m!==void 0)return parseInt(String(m),10);if(f)return f-c.spacing[3]}return .33*c.chartWidth}renderUnsquish(){let l=this.chart,c=l.renderer,u=this.tickPositions,p=this.ticks,g=this.options.labels,f=g.style,m=this.horiz,y=this.getSlotWidth(),S=Math.max(1,Math.round(y-(m?2*(g.padding||0):g.distance||0))),w={},x=this.labelMetrics(),E=f.lineClamp,M,I=E??(Math.floor(this.len/(u.length*x.h))||1),F=0;Ty(g.rotation)||(w.rotation=g.rotation||0),u.forEach(function(T){let P=p[T];P.movedLabel&&P.replaceMovedLabel();let _=P.label?.textPxLength||0;_>F&&(F=_)}),this.maxLabelLength=F,this.autoRotation?F>S&&F>x.h?w.rotation=this.labelRotation:this.labelRotation=0:y&&(M=S),w.rotation&&(M=F>.5*l.chartHeight?.33*l.chartHeight:F,E||(I=1)),this.labelAlign=g.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(w.align=this.labelAlign),u.forEach(function(T){let P=p[T],_=P&&P.label,B=f.width,z={};_&&(_.attr(w),P.shortenLabel?P.shortenLabel():M&&!B&&f.whiteSpace!=="nowrap"&&(M<(_.textPxLength||0)||_.element.tagName==="SPAN")?_.css(Bc(z,{width:`${M}px`,lineClamp:I})):!_.styles.width||z.width||B||_.css({width:"auto"}),P.rotation=w.rotation)},this),this.tickRotCorr=c.rotCorr(x.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(l){return l.hasData()})||this.options.showEmpty&&rt(this.min)&&rt(this.max)}addTitle(l){let c,u=this.chart.renderer,p=this.horiz,g=this.opposite,f=this.options.title,m=this.chart.styledMode;this.axisTitle||((c=f.textAlign)||(c=(p?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[f.align]),this.axisTitle=u.text(f.text||"",0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:c}).addClass("highcharts-axis-title"),m||this.axisTitle.css(Gc(f.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),m||f.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[l?"show":"hide"](l)}generateTick(l){let c=this.ticks;c[l]?c[l].addLabel():c[l]=new go(this,l)}createGroups(){let{axisParent:l,chart:c,coll:u,options:p}=this,g=c.renderer,f=(m,y,S)=>g.g(m).attr({zIndex:S}).addClass(`highcharts-${u.toLowerCase()}${y} `+(this.isRadial?`highcharts-radial-axis${y} `:"")+(p.className||"")).add(l);this.axisGroup||(this.gridGroup=f("grid","-grid",p.gridZIndex),this.axisGroup=f("axis","",p.zIndex),this.labelGroup=f("axis-labels","-labels",p.labels.zIndex))}getOffset(){let l=this,{chart:c,horiz:u,options:p,side:g,ticks:f,tickPositions:m,coll:y}=l,S=c.inverted&&!l.isZAxis?[1,0,3,2][g]:g,w=l.hasData(),x=p.title,E=p.labels,M=fe(p.crossing),I=c.axisOffset,F=c.clipOffset,T=[-1,1,1,-1][g],P,_=0,B,z=0,G=0,N,V;if(l.showAxis=P=w||p.showEmpty,l.staggerLines=l.horiz&&E.staggerLines||void 0,l.createGroups(),w||l.isLinked?(m.forEach(function(q){l.generateTick(q)}),l.renderUnsquish(),l.reserveSpaceDefault=g===0||g===2||{1:"left",3:"right"}[g]===l.labelAlign,Ie(E.reserveSpace,!M&&null,l.labelAlign==="center"||null,l.reserveSpaceDefault)&&m.forEach(function(q){G=Math.max(f[q].getLabelSize(),G)}),l.staggerLines&&(G*=l.staggerLines),l.labelOffset=G*(l.opposite?-1:1)):Vc(f,function(q,Y){q.destroy(),delete f[Y]}),x?.text&&x.enabled!==!1&&(l.addTitle(P),P&&!M&&x.reserveSpace!==!1&&(l.titleOffset=_=l.axisTitle.getBBox()[u?"height":"width"],z=rt(B=x.offset)?0:Ie(x.margin,u?5:10))),l.renderLine(),l.offset=T*Ie(p.offset,I[g]?I[g]+(p.margin||0):0),l.tickRotCorr=l.tickRotCorr||{x:0,y:0},V=g===0?-l.labelMetrics().h:g===2?l.tickRotCorr.y:0,N=Math.abs(G)+z,G&&(N-=V,N+=T*(u?Ie(E.y,l.tickRotCorr.y+T*E.distance):Ie(E.x,T*E.distance))),l.axisTitleMargin=Ie(B,N),l.getMaxLabelDimensions&&(l.maxLabelDimensions=l.getMaxLabelDimensions(f,m)),y!=="colorAxis"&&F){let q=this.tickSize("tick");I[g]=Math.max(I[g],(l.axisTitleMargin||0)+_+T*l.offset,N,m&&m.length&&q?q[0]+T*l.offset:0);let Y=!l.axisLine||p.offset?0:l.axisLine.strokeWidth()/2;F[S]=Math.max(F[S],Y)}bt(this,"afterGetOffset")}getLinePath(l){let c=this.chart,u=this.opposite,p=this.offset,g=this.horiz,f=this.left+(u?this.width:0)+p,m=c.chartHeight-this.bottom-(u?this.height:0)+p;return u&&(l*=-1),c.renderer.crispLine([["M",g?this.left:f,g?m:this.top],["L",g?c.chartWidth-this.right:f,g?m:c.chartHeight-this.bottom]],l)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(l){let c=this.horiz,u=this.left,p=this.top,g=this.len,f=this.options.title,m=c?u:p,y=this.opposite,S=this.offset,w=f.x,x=f.y,E=this.chart.renderer.fontMetrics(l),M=l?Math.max(l.getBBox(!1,0).height-E.h-1,0):0,I={low:m+(c?0:g),middle:m+g/2,high:m+(c?g:0)}[f.align],F=(c?p+this.height:u)+(c?1:-1)*(y?-1:1)*(this.axisTitleMargin||0)+[-M,M,E.f,-M][this.side],T={x:c?I+w:F+(y?this.width:0)+S+w,y:c?F+x-(y?this.height:0)+S:I+x};return bt(this,"afterGetTitlePosition",{titlePosition:T}),T}renderMinorTick(l,c){let u=this.minorTicks;u[l]||(u[l]=new go(this,l,"minor")),c&&u[l].isNew&&u[l].render(null,!0),u[l].render(null,!1,1)}renderTick(l,c,u){let p=this.isLinked,g=this.ticks;(!p||l>=this.min&&l<=this.max||this.grid&&this.grid.isColumn)&&(g[l]||(g[l]=new go(this,l)),u&&g[l].isNew&&g[l].render(c,!0,-1),g[l].render(c))}render(){let l,c,u=this,p=u.chart,g=u.logarithmic,f=p.renderer,m=u.options,y=u.isLinked,S=u.tickPositions,w=u.axisTitle,x=u.ticks,E=u.minorTicks,M=u.alternateBands,I=m.stackLabels,F=m.alternateGridColor,T=m.crossing,P=u.tickmarkOffset,_=u.axisLine,B=u.showAxis,z=aF(f.globalAnimation);if(u.labelEdge.length=0,u.overlap=!1,[x,E,M].forEach(function(G){Vc(G,function(N){N.isActive=!1})}),fe(T)){let G=this.isXAxis?p.yAxis[0]:p.xAxis[0],N=[1,-1,-1,1][this.side];if(G){let V=G.toPixels(T,!0);u.horiz&&(V=G.len-V),u.offset=N*V}}if(u.hasData()||y){let G=u.chart.hasRendered&&u.old&&fe(u.old.min);u.minorTickInterval&&!u.categories&&u.getMinorTickPositions().forEach(function(N){u.renderMinorTick(N,G)}),S.length&&(S.forEach(function(N,V){u.renderTick(N,V,G)}),P&&(u.min===0||u.single)&&(x[-1]||(x[-1]=new go(u,-1,null,!0)),x[-1].render(-1))),F&&S.forEach(function(N,V){c=S[V+1]!==void 0?S[V+1]+P:u.max-P,V%2==0&&N<u.max&&c<=u.max+(p.polar?-P:P)&&(M[N]||(M[N]=new W.PlotLineOrBand(u,{})),l=N+P,M[N].options={from:g?g.lin2log(l):l,to:g?g.lin2log(c):c,color:F,className:"highcharts-alternate-grid"},M[N].render(),M[N].isActive=!0)}),u._addedPlotLB||(u._addedPlotLB=!0,(m.plotLines||[]).concat(m.plotBands||[]).forEach(function(N){u.addPlotBandOrLine(N)}))}[x,E,M].forEach(function(G){let N=[],V=z.duration;Vc(G,function(q,Y){q.isActive||(q.render(Y,!1,0),q.isActive=!1,N.push(Y))}),vF(function(){let q=N.length;for(;q--;)G[N[q]]&&!G[N[q]].isActive&&(G[N[q]].destroy(),delete G[N[q]])},G!==M&&p.hasRendered&&V?V:0)}),_&&(_[_.isPlaced?"animate":"attr"]({d:this.getLinePath(_.strokeWidth())}),_.isPlaced=!0,_[B?"show":"hide"](B)),w&&B&&(w[w.isNew?"attr":"animate"](u.getTitlePosition(w)),w.isNew=!1),I&&I.enabled&&u.stacking&&u.stacking.renderStackTotals(),u.old={len:u.len,max:u.max,min:u.min,transA:u.transA,userMax:u.userMax,userMin:u.userMin},u.isDirty=!1,bt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(l){l.render()})),this.series.forEach(function(l){l.isDirty=!0})}getKeepProps(){return this.keepProps||C.keepProps}destroy(l){let c=this,u=c.plotLinesAndBands,p=this.eventOptions;if(bt(this,"destroy",{keepEvents:l}),l||fF(c),[c.ticks,c.minorTicks,c.alternateBands].forEach(function(g){hF(g)}),u){let g=u.length;for(;g--;)u[g].destroy()}for(let g in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(f){c[f]&&(c[f]=c[f].destroy())}),c.plotLinesAndBandsGroups)c.plotLinesAndBandsGroups[g]=c.plotLinesAndBandsGroups[g].destroy();Vc(c,function(g,f){c.getKeepProps().indexOf(f)===-1&&delete c[f]}),this.eventOptions=p}drawCrosshair(l,c){let u=this.crosshair,p=Ie(u&&u.snap,!0),g=this.chart,f,m,y,S=this.cross,w;if(bt(this,"drawCrosshair",{e:l,point:c}),l||(l=this.cross&&this.cross.e),u&&(rt(c)||!p)!==!1){if(p?rt(c)&&(m=Ie(this.coll!=="colorAxis"?c.crosshairPos:null,this.isXAxis?c.plotX:this.len-c.plotY)):m=l&&(this.horiz?l.chartX-this.pos:this.len-l.chartY+this.pos),rt(m)&&(w={value:c&&(this.isXAxis?c.x:Ie(c.stackY,c.y)),translatedValue:m},g.polar&&Bc(w,{isCrosshair:!0,chartX:l&&l.chartX,chartY:l&&l.chartY,point:c}),f=this.getPlotLinePath(w)||null),!rt(f)){this.hideCrosshair();return}y=this.categories&&!this.isRadial,S||(this.cross=S=g.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(y?"category ":"thin ")+(u.className||"")).attr({zIndex:Ie(u.zIndex,2)}).add(),!g.styledMode&&(S.attr({stroke:u.color||(y?kt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":Ie(u.width,1)}).css({"pointer-events":"none"}),u.dashStyle&&S.attr({dashstyle:u.dashStyle}))),S.show().attr({d:f}),y&&!u.width&&S.attr({"stroke-width":this.transA}),this.cross.e=l}else this.hideCrosshair();bt(this,"afterDrawCrosshair",{e:l,point:c})}hideCrosshair(){this.cross&&this.cross.hide(),bt(this,"afterHideCrosshair")}update(l,c){let u=this.chart;l=Gc(this.userOptions,l),this.destroy(!0),this.init(u,l),u.isDirtyBox=!0,Ie(c,!0)&&u.redraw()}remove(l){let c=this.chart,u=this.coll,p=this.series,g=p.length;for(;g--;)p[g]&&p[g].remove(!1);Ey(c.axes,this),Ey(c[u]||[],this),c.orderItems(u),this.destroy(),c.isDirtyBox=!0,Ie(l,!0)&&c.redraw()}setTitle(l,c){this.update({title:l},c)}setCategories(l,c){this.update({categories:l},c)}}return C.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],C})(),{addEvent:CF,getMagnitude:bF,normalizeTickInterval:yF,timeUnits:zc}=he;(function(C){function o(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function l(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new c(this))}C.compose=function(u){return u.keepProps.includes("dateTime")||(u.keepProps.push("dateTime"),u.prototype.getTimeTicks=o,CF(u,"afterSetType",l)),u};class c{constructor(p){this.axis=p}normalizeTimeTickInterval(p,g){let f=g||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],m=f[f.length-1],y=zc[m[0]],S=m[1],w;for(w=0;w<f.length&&(y=zc[(m=f[w])[0]],S=m[1],!f[w+1]||!(p<=(y*S[S.length-1]+zc[f[w+1][0]])/2));w++);y===zc.year&&p<5*y&&(S=[1,2,5]);let x=yF(p/y,S,m[0]==="year"?Math.max(bF(p/y),1):1);return{unitRange:y,count:x,unitName:m[0]}}getXDateFormat(p,g){let{axis:f}=this,m=f.chart.time;return f.closestPointRange?m.getDateFormat(f.closestPointRange,p,f.options.startOfWeek,g)||m.resolveDTLFormat(g.year).main:m.resolveDTLFormat(g.day).main}}C.Additions=c})(d||(d={}));let wF=d,{addEvent:Ay,normalizeTickInterval:SF,pick:xF}=he;(function(C){function o(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new c(this))}function l(){let u=this.logarithmic;u&&(this.lin2val=function(p){return u.lin2log(p)},this.val2lin=function(p){return u.log2lin(p)})}C.compose=function(u){return u.keepProps.includes("logarithmic")||(u.keepProps.push("logarithmic"),Ay(u,"afterSetType",o),Ay(u,"afterInit",l)),u};class c{constructor(p){this.axis=p}getLogTickPositions(p,g,f,m){let y=this.axis,S=y.len,w=y.options,x=[];if(m||(this.minorAutoInterval=void 0),p>=.5)p=Math.round(p),x=y.getLinearTickPositions(p,g,f);else if(p>=.08){let E,M,I,F,T,P,_,B=Math.floor(g);for(E=p>.3?[1,2,4]:p>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],M=B;M<f+1&&!_;M++)for(I=0,F=E.length;I<F&&!_;I++)(T=this.log2lin(this.lin2log(M)*E[I]))>g&&(!m||P<=f)&&P!==void 0&&x.push(P),P>f&&(_=!0),P=T}else{let E=this.lin2log(g),M=this.lin2log(f),I=m?y.getMinorTickInterval():w.tickInterval,F=w.tickPixelInterval/(m?5:1),T=m?S/y.tickPositions.length:S;p=SF(p=xF(I==="auto"?null:I,this.minorAutoInterval,(M-E)*F/(T||1))),x=y.getLinearTickPositions(p,E,M).map(this.log2lin),m||(this.minorAutoInterval=p/5)}return m||(y.tickInterval=p),x}lin2log(p){return Math.pow(10,p)}log2lin(p){return Math.log(p)/Math.LN10}}C.Additions=c})(h||(h={}));let DF=h,{erase:EF,extend:MF,isNumber:Fy}=he;(function(C){let o;function l(y){return this.addPlotBandOrLine(y,"plotBands")}function c(y,S){let w=this.userOptions,x=new o(this,y);if(this.visible&&(x=x.render()),x){if(this._addedPlotLB||(this._addedPlotLB=!0,(w.plotLines||[]).concat(w.plotBands||[]).forEach(E=>{this.addPlotBandOrLine(E)})),S){let E=w[S]||[];E.push(y),w[S]=E}this.plotLinesAndBands.push(x)}return x}function u(y){return this.addPlotBandOrLine(y,"plotLines")}function p(y,S,w){w=w||this.options;let x=this.getPlotLinePath({value:S,force:!0,acrossPanes:w.acrossPanes}),E=[],M=this.horiz,I=!Fy(this.min)||!Fy(this.max)||y<this.min&&S<this.min||y>this.max&&S>this.max,F=this.getPlotLinePath({value:y,force:!0,acrossPanes:w.acrossPanes}),T,P=1,_;if(F&&x)for(I&&(_=F.toString()===x.toString(),P=0),T=0;T<F.length;T+=2){let B=F[T],z=F[T+1],G=x[T],N=x[T+1];(B[0]==="M"||B[0]==="L")&&(z[0]==="M"||z[0]==="L")&&(G[0]==="M"||G[0]==="L")&&(N[0]==="M"||N[0]==="L")&&(M&&G[1]===B[1]?(G[1]+=P,N[1]+=P):M||G[2]!==B[2]||(G[2]+=P,N[2]+=P),E.push(["M",B[1],B[2]],["L",z[1],z[2]],["L",N[1],N[2]],["L",G[1],G[2]],["Z"])),E.isFlat=_}return E}function g(y){this.removePlotBandOrLine(y)}function f(y){let S=this.plotLinesAndBands,w=this.options,x=this.userOptions;if(S){let E=S.length;for(;E--;)S[E].id===y&&S[E].destroy();[w.plotLines||[],x.plotLines||[],w.plotBands||[],x.plotBands||[]].forEach(function(M){for(E=M.length;E--;)(M[E]||{}).id===y&&EF(M,M[E])})}}function m(y){this.removePlotBandOrLine(y)}C.compose=function(y,S){let w=S.prototype;return w.addPlotBand||(o=y,MF(w,{addPlotBand:l,addPlotLine:u,addPlotBandOrLine:c,getPlotBandPath:p,removePlotBand:g,removePlotLine:m,removePlotBandOrLine:f})),S}})(v||(v={}));let RF=v,{addEvent:TF,arrayMax:Py,arrayMin:_y,defined:Ps,destroyObjectProperties:IF,erase:AF,fireEvent:FF,merge:ky,objectEach:PF,pick:_F}=he;class Wc{static compose(o,l){return TF(o,"afterInit",function(){this.labelCollectors.push(()=>{let c=[];for(let u of this.axes)for(let{label:p,options:g}of u.plotLinesAndBands)p&&!g?.label?.allowOverlap&&c.push(p);return c})}),RF.compose(Wc,l)}constructor(o,l){this.axis=o,this.options=l,this.id=l.id}render(){FF(this,"render");let{axis:o,options:l}=this,{horiz:c,logarithmic:u}=o,{color:p,events:g,zIndex:f=0}=l,{renderer:m,time:y}=o.chart,S={},w=y.parse(l.to),x=y.parse(l.from),E=y.parse(l.value),M=l.borderWidth,I=l.label,{label:F,svgElem:T}=this,P=[],_,B=Ps(x)&&Ps(w),z=Ps(E),G=!T,N={class:"highcharts-plot-"+(B?"band ":"line ")+(l.className||"")},V=B?"bands":"lines";if(!o.chart.styledMode&&(z?(N.stroke=p||"#999999",N["stroke-width"]=_F(l.width,1),l.dashStyle&&(N.dashstyle=l.dashStyle)):B&&(N.fill=p||"#e6e9ff",M&&(N.stroke=l.borderColor,N["stroke-width"]=M))),S.zIndex=f,V+="-"+f,(_=o.plotLinesAndBandsGroups[V])||(o.plotLinesAndBandsGroups[V]=_=m.g("plot-"+V).attr(S).add()),T||(this.svgElem=T=m.path().attr(N).add(_)),Ps(E))P=o.getPlotLinePath({value:u?.log2lin(E)??E,lineWidth:T.strokeWidth(),acrossPanes:l.acrossPanes});else{if(!(Ps(x)&&Ps(w)))return;P=o.getPlotBandPath(u?.log2lin(x)??x,u?.log2lin(w)??w,l)}return!this.eventsAdded&&g&&(PF(g,(q,Y)=>{T?.on(Y,J=>{g[Y].apply(this,[J])})}),this.eventsAdded=!0),(G||!T.d)&&P?.length?T.attr({d:P}):T&&(P?(T.show(),T.animate({d:P})):T.d&&(T.hide(),F&&(this.label=F=F.destroy()))),I&&(Ps(I.text)||Ps(I.formatter))&&P?.length&&o.width>0&&o.height>0&&!P.isFlat?(I=ky(U({align:c&&B?"center":void 0,x:c?!B&&4:10,verticalAlign:!c&&B?"middle":void 0,y:c?B?16:10:B?6:-4,rotation:c&&!B?90:0},B?{inside:!0}:{}),I),this.renderLabel(I,P,B,f)):F&&F.hide(),this}renderLabel(o,l,c,u){let p=this.axis,g=p.chart.renderer,f=o.inside,m=this.label;m||(this.label=m=g.text(this.getLabelText(o),0,0,o.useHTML).attr({align:o.textAlign||o.align,rotation:o.rotation,class:"highcharts-plot-"+(c?"band":"line")+"-label "+(o.className||""),zIndex:u}),p.chart.styledMode||m.css(ky({fontSize:"0.8em",textOverflow:c&&!f?"":"ellipsis"},o.style)),m.add());let y=l.xBounds||[l[0][1],l[1][1],c?l[2][1]:l[0][1]],S=l.yBounds||[l[0][2],l[1][2],c?l[2][2]:l[0][2]],w=_y(y),x=_y(S),E=Py(y)-w;m.align(o,!1,{x:w,y:x,width:E,height:Py(S)-x}),(!m.alignValue||m.alignValue==="left"||Ps(f))&&m.css({width:(o.style?.width||(c&&f?E:m.rotation===90?p.height-(m.alignAttr.y-p.top):(o.clip?p.width:p.chart.chartWidth)-(m.alignAttr.x-p.left)))+"px"}),m.show(!0)}getLabelText(o){return Ps(o.formatter)?o.formatter.call(this):o.text}destroy(){AF(this.axis.plotLinesAndBands,this),delete this.axis,IF(this)}}let{animObject:kF}=si,{format:Ly}=rs,{composed:LF,dateFormats:OF,doc:Oy,isSafari:NF}=W,{distribute:BF}=Mc,{addEvent:GF,clamp:fo,css:Ny,discardElement:VF,extend:HF,fireEvent:By,isArray:zF,isNumber:WF,isObject:jF,isString:Kp,merge:UF,pick:mo,pushUnique:$F,splat:qp,syncTimeout:KF}=he;class Yp{constructor(o,l,c){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=o,this.init(o,l),this.pointer=c}bodyFormatter(o){return o.map(l=>{let c=l.series.tooltipOptions,u=l.formatPrefix||"point";return(c[u+"Formatter"]||l.tooltipFormatter).call(l,c[u+"Format"]||"")})}cleanSplit(o){this.chart.series.forEach(function(l){let c=l&&l.tt;c&&(!c.isActive||o?l.tt=c.destroy():c.isActive=!1)})}defaultFormatter(o){let l,c=this.points||qp(this);return(l=(l=[o.headerFooterFormatter(c[0])]).concat(o.bodyFormatter(c))).push(o.headerFooterFormatter(c[0],!0)),l}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),VF(this.container)),he.clearTimeout(this.hideTimer)}getAnchor(o,l){let c,{chart:u,pointer:p}=this,g=u.inverted,f=u.plotTop,m=u.plotLeft;if((o=qp(o))[0].series&&o[0].series.yAxis&&!o[0].series.yAxis.options.reversedStacks&&(o=o.slice().reverse()),this.followPointer&&l)l.chartX===void 0&&(l=p.normalize(l)),c=[l.chartX-m,l.chartY-f];else if(o[0].tooltipPos)c=o[0].tooltipPos;else{let y=0,S=0;o.forEach(function(w){let x=w.pos(!0);x&&(y+=x[0],S+=x[1])}),y/=o.length,S/=o.length,this.shared&&o.length>1&&l&&(g?y=l.chartX:S=l.chartY),c=[y-m,S-f]}return c.map(Math.round)}getClassName(o,l,c){let u=this.options,p=o.series,g=p.options;return[u.className,"highcharts-label",c&&"highcharts-tooltip-header",l?"highcharts-tooltip-box":"highcharts-tooltip",!c&&"highcharts-color-"+mo(o.colorIndex,p.colorIndex),g&&g.className].filter(Kp).join(" ")}getLabel({anchorX:o,anchorY:l}={anchorX:0,anchorY:0}){let c=this,u=this.chart.styledMode,p=this.options,g=this.split&&this.allowShared,f=this.container,m=this.chart.renderer;if(this.label){let y=!this.label.hasClass("highcharts-label");(!g&&y||g&&!y)&&this.destroy()}if(!this.label){if(this.outside){let y=this.chart,S=y.options.chart.style,w=Oa.getRendererType();this.container=f=W.doc.createElement("div"),f.className="highcharts-tooltip-container "+(y.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),Ny(f,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(S&&S.zIndex||0)+3)}),this.renderer=m=new w(f,0,0,S,void 0,void 0,m.styledMode)}if(g?this.label=m.g("tooltip"):(this.label=m.label("",o,l,p.shape,void 0,void 0,p.useHTML,void 0,"tooltip").attr({padding:p.padding,r:p.borderRadius}),u||this.label.attr({fill:p.backgroundColor,"stroke-width":p.borderWidth||0}).css(p.style).css({pointerEvents:p.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),c.outside){let y=this.label;[y.xSetter,y.ySetter].forEach((S,w)=>{y[w?"ySetter":"xSetter"]=x=>{S.call(y,c.distance),y[w?"y":"x"]=x,f&&(f.style[w?"top":"left"]=`${x}px`)}})}this.label.attr({zIndex:8}).shadow(p.shadow).add()}return f&&!f.parentElement&&W.doc.body.appendChild(f),this.label}getPlayingField(){let{body:o,documentElement:l}=Oy,{chart:c,distance:u,outside:p}=this;return{width:p?Math.max(o.scrollWidth,l.scrollWidth,o.offsetWidth,l.offsetWidth,l.clientWidth)-2*u-2:c.chartWidth,height:p?Math.max(o.scrollHeight,l.scrollHeight,o.offsetHeight,l.offsetHeight,l.clientHeight):c.chartHeight}}getPosition(o,l,c){let{distance:u,chart:p,outside:g,pointer:f}=this,{inverted:m,plotLeft:y,plotTop:S,polar:w}=p,{plotX:x=0,plotY:E=0}=c,M={},I=m&&c.h||0,{height:F,width:T}=this.getPlayingField(),P=f.getChartPosition(),_=de=>de*P.scaleX,B=de=>de*P.scaleY,z=de=>{let oe=de==="x";return[de,oe?T:F,oe?o:l].concat(g?[oe?_(o):B(l),oe?P.left-u+_(x+y):P.top-u+B(E+S),0,oe?T:F]:[oe?o:l,oe?x+y:E+S,oe?y:S,oe?y+p.plotWidth:S+p.plotHeight])},G=z("y"),N=z("x"),V,q=!!c.negative;!w&&p.hoverSeries?.yAxis?.reversed&&(q=!q);let Y=!this.followPointer&&mo(c.ttBelow,!w&&!m===q),J=function(de,oe,Me,we,Se,ke,ve){let Mt=g?de==="y"?B(u):_(u):u,yt=(Me-we)/2,Be=we<Se-u,ot=Se+u+we<oe,Lt=Se-Mt-Me+yt,ft=Se+Mt-yt;if(Y&&ot)M[de]=ft;else if(!Y&&Be)M[de]=Lt;else if(Be)M[de]=Math.min(ve-we,Lt-I<0?Lt:Lt-I);else{if(!ot)return!1;M[de]=Math.max(ke,ft+I+Me>oe?ft:ft+I)}},re=function(de,oe,Me,we,Se){if(Se<u||Se>oe-u)return!1;Se<Me/2?M[de]=1:Se>oe-we/2?M[de]=oe-we-2:M[de]=Se-Me/2},ne=function(de){[G,N]=[N,G],V=de},ae=()=>{J.apply(0,G)!==!1?re.apply(0,N)!==!1||V||(ne(!0),ae()):V?M.x=M.y=0:(ne(!0),ae())};return(m&&!w||this.len>1)&&ne(),ae(),M}hide(o){let l=this;he.clearTimeout(this.hideTimer),o=mo(o,this.options.hideDelay),this.isHidden||(this.hideTimer=KF(function(){let c=l.getLabel();l.getLabel().animate({opacity:0},{duration:o&&150,complete:()=>{c.hide(),l.container&&l.container.remove()}}),l.isHidden=!0},o))}init(o,l){this.chart=o,this.options=l,this.crosshairs=[],this.isHidden=!0,this.split=l.split&&!o.inverted&&!o.polar,this.shared=l.shared||this.split,this.outside=mo(l.outside,!!(o.scrollablePixelsX||o.scrollablePixelsY))}shouldStickOnContact(o){return!!(!this.followPointer&&this.options.stickOnContact&&(!o||this.pointer.inClass(o.target,"highcharts-tooltip")))}move(o,l,c,u){let p=this,g=kF(!p.isHidden&&p.options.animation),f=p.followPointer||(p.len||0)>1,m={x:o,y:l};f||(m.anchorX=c,m.anchorY=u),g.step=()=>p.drawTracker(),p.getLabel().animate(m,g)}refresh(o,l){let{chart:c,options:u,pointer:p,shared:g}=this,f=qp(o),m=f[0],y=u.format,S=u.formatter||this.defaultFormatter,w=c.styledMode,x=this.allowShared;if(!u.enabled||!m.series)return;he.clearTimeout(this.hideTimer),this.allowShared=!(!zF(o)&&o.series&&o.series.noSharedTooltip),x=x&&!this.allowShared,this.followPointer=!this.split&&m.series.tooltipOptions.followPointer;let E=this.getAnchor(o,l),M=E[0],I=E[1];g&&this.allowShared&&(p.applyInactiveState(f),f.forEach(P=>P.setState("hover")),m.points=f),this.len=f.length;let F=Kp(y)?Ly(y,m,c):S.call(m,this);m.points=void 0;let T=m.series;if(this.distance=mo(T.tooltipOptions.distance,16),F===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(F,f);else{let P=M,_=I;if(l&&p.isDirectTouch&&(P=l.chartX-c.plotLeft,_=l.chartY-c.plotTop),c.polar||T.options.clip===!1||f.some(B=>p.isDirectTouch||B.series.shouldShowTooltip(P,_))){let B=this.getLabel(x&&this.tt||{});(!u.style.width||w)&&B.css({width:(this.outside?this.getPlayingField():c.spacingBox).width+"px"}),B.attr({class:this.getClassName(m),text:F&&F.join?F.join(""):F}),this.outside&&B.attr({x:fo(B.x||0,0,this.getPlayingField().width-(B.width||0)-1)}),w||B.attr({stroke:u.borderColor||m.color||T.color||"#666666"}),this.updatePosition({plotX:M,plotY:I,negative:m.negative,ttBelow:m.ttBelow,h:E[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}By(this,"refresh")}renderSplit(o,l){let c=this,{chart:u,chart:{chartWidth:p,chartHeight:g,plotHeight:f,plotLeft:m,plotTop:y,scrollablePixelsY:S=0,scrollablePixelsX:w,styledMode:x},distance:E,options:M,options:{positioner:I},pointer:F}=c,{scrollLeft:T=0,scrollTop:P=0}=u.scrollablePlotArea?.scrollingContainer||{},_=c.outside&&typeof w!="number"?Oy.documentElement.getBoundingClientRect():{left:T,right:T+p,top:P,bottom:P+g},B=c.getLabel(),z=this.renderer||u.renderer,G=!!(u.xAxis[0]&&u.xAxis[0].opposite),{left:N,top:V}=F.getChartPosition(),q=y+P,Y=0,J=f-S;function re(we,Se,ke,ve,Mt=!0){let yt,Be;return ke?(yt=G?0:J,Be=fo(we-ve/2,_.left,_.right-ve-(c.outside?N:0))):(yt=Se-q,Be=fo(Be=Mt?we-ve-E:we+E,Mt?Be:_.left,_.right)),{x:Be,y:yt}}Kp(o)&&(o=[!1,o]);let ne=o.slice(0,l.length+1).reduce(function(we,Se,ke){if(Se!==!1&&Se!==""){let ve=l[ke-1]||{isHeader:!0,plotX:l[0].plotX,plotY:f,series:{}},Mt=ve.isHeader,yt=Mt?c:ve.series,Be=yt.tt=function(Ot,bi,_s){let zn=Ot,{isHeader:Qa,series:gd}=bi;if(!zn){let xo={padding:M.padding,r:M.borderRadius};x||(xo.fill=M.backgroundColor,xo["stroke-width"]=M.borderWidth??1),zn=z.label("",0,0,M[Qa?"headerShape":"shape"],void 0,void 0,M.useHTML).addClass(c.getClassName(bi,!0,Qa)).attr(xo).add(B)}return zn.isActive=!0,zn.attr({text:_s}),x||zn.css(M.style).attr({stroke:M.borderColor||bi.color||gd.color||"#333333"}),zn}(yt.tt,ve,Se.toString()),ot=Be.getBBox(),Lt=ot.width+Be.strokeWidth();Mt&&(Y=ot.height,J+=Y,G&&(q-=Y));let{anchorX:ft,anchorY:ri}=function(Ot){let bi,_s,{isHeader:zn,plotX:Qa=0,plotY:gd=0,series:xo}=Ot;if(zn)bi=Math.max(m+Qa,m),_s=y+f/2;else{let{xAxis:t0,yAxis:i0}=xo;bi=t0.pos+fo(Qa,-E,t0.len+E),xo.shouldShowTooltip(0,i0.pos-y+gd,{ignoreX:!0})&&(_s=i0.pos+gd)}return{anchorX:bi=fo(bi,_.left-E,_.right+E),anchorY:_s}}(ve);if(typeof ri=="number"){let Ot=ot.height+1,bi=I?I.call(c,Lt,Ot,ve):re(ft,ri,Mt,Lt);we.push({align:I?0:void 0,anchorX:ft,anchorY:ri,boxWidth:Lt,point:ve,rank:mo(bi.rank,Mt?1:0),size:Ot,target:bi.y,tt:Be,x:bi.x})}else Be.isActive=!1}return we},[]);!I&&ne.some(we=>{let{outside:Se}=c,ke=(Se?N:0)+we.anchorX;return ke<_.left&&ke+we.boxWidth<_.right||ke<N-_.left+we.boxWidth&&_.right-ke>ke})&&(ne=ne.map(we=>{let{x:Se,y:ke}=re(we.anchorX,we.anchorY,we.point.isHeader,we.boxWidth,!1);return HF(we,{target:ke,x:Se})})),c.cleanSplit(),BF(ne,J);let ae={left:N,right:N};ne.forEach(function(we){let{x:Se,boxWidth:ke,isHeader:ve}=we;!ve&&(c.outside&&N+Se<ae.left&&(ae.left=N+Se),!ve&&c.outside&&ae.left+ke>ae.right&&(ae.right=N+Se))}),ne.forEach(function(we){let{x:Se,anchorX:ke,anchorY:ve,pos:Mt,point:{isHeader:yt}}=we,Be={visibility:Mt===void 0?"hidden":"inherit",x:Se,y:(Mt||0)+q,anchorX:ke,anchorY:ve};if(c.outside&&Se<ke){let ot=N-ae.left;ot>0&&(yt||(Be.x=Se+ot,Be.anchorX=ke+ot),yt&&(Be.x=(ae.right-ae.left)/2,Be.anchorX=ke+ot))}we.tt.attr(Be)});let{container:de,outside:oe,renderer:Me}=c;if(oe&&de&&Me){let{width:we,height:Se,x:ke,y:ve}=B.getBBox();Me.setSize(we+ke,Se+ve,!1),de.style.left=ae.left+"px",de.style.top=V+"px"}NF&&B.attr({opacity:B.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let o=this.chart,l=this.label,c=this.shared?o.hoverPoints:o.hoverPoint;if(!l||!c)return;let u={x:0,y:0,width:0,height:0},p=this.getAnchor(c),g=l.getBBox();p[0]+=o.plotLeft-(l.translateX||0),p[1]+=o.plotTop-(l.translateY||0),u.x=Math.min(0,p[0]),u.y=Math.min(0,p[1]),u.width=p[0]<0?Math.max(Math.abs(p[0]),g.width-p[0]):Math.max(Math.abs(p[0]),g.width),u.height=p[1]<0?Math.max(Math.abs(p[1]),g.height-Math.abs(p[1])):Math.max(Math.abs(p[1]),g.height),this.tracker?this.tracker.attr(u):(this.tracker=l.renderer.rect(u).addClass("highcharts-tracker").add(l),o.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(o){return o.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(o,l){let c=o.series,u=c.tooltipOptions,p=c.xAxis,g=p&&p.dateTime,f={isFooter:l,point:o},m=u.xDateFormat||"",y=u[l?"footerFormat":"headerFormat"];return By(this,"headerFormatter",f,function(S){if(g&&!m&&WF(o.key)&&(m=g.getXDateFormat(o.key,u.dateTimeLabelFormats)),g&&m){if(jF(m)){let w=m;OF[0]=x=>c.chart.time.dateFormat(w,x),m="%0"}(o.tooltipDateKeys||["key"]).forEach(w=>{y=y.replace(RegExp("point\\."+w+"([ \\)}])",""),`(point.${w}:${m})$1`)})}c.chart.styledMode&&(y=this.styledModeFormat(y)),S.text=Ly(y,o,this.chart)}),f.text||""}update(o){this.destroy(),this.init(this.chart,UF(!0,this.options,o))}updatePosition(o){let{chart:l,container:c,distance:u,options:p,pointer:g,renderer:f}=this,{height:m=0,width:y=0}=this.getLabel(),{left:S,top:w,scaleX:x,scaleY:E}=g.getChartPosition(),M=(p.positioner||this.getPosition).call(this,y,m,o),I=W.doc,F=(o.plotX||0)+l.plotLeft,T=(o.plotY||0)+l.plotTop,P;f&&c&&(p.positioner&&(M.x+=S-u,M.y+=w-u),P=(p.borderWidth||0)+2*u+2,f.setSize(fo(y+P,0,I.documentElement.clientWidth)-1,m+P,!1),(x!==1||E!==1)&&(Ny(c,{transform:`scale(${x}, ${E})`}),F*=x,T*=E),F+=S-M.x,T+=w-M.y),this.move(Math.round(M.x),Math.round(M.y||0),F,T)}}(function(C){C.compose=function(o){$F(LF,"Core.Tooltip")&&GF(o,"afterInit",function(){let l=this.chart;l.options.tooltip&&(l.tooltip=new C(l,l.options.tooltip,this))})}})(Yp||(Yp={}));let Gy=Yp,{animObject:qF}=si,{defaultOptions:YF}=Wi,{format:XF}=rs,{addEvent:ZF,crisp:QF,erase:JF,extend:jc,fireEvent:Xp,getNestedProperty:eP,isArray:tP,isFunction:iP,isNumber:_n,isObject:Uc,merge:Vy,pick:kn,syncTimeout:sP,removeEvent:Hy,uniqueKey:nP}=he;class Ua{animateBeforeDestroy(){let o=this,l={x:o.startXPos,opacity:0},c=o.getGraphicalProps();c.singular.forEach(function(u){o[u]=o[u].animate(u==="dataLabel"?{x:o[u].startXPos,y:o[u].startYPos,opacity:0}:l)}),c.plural.forEach(function(u){o[u].forEach(function(p){p.element&&p.animate(jc({x:o.startXPos},p.startYPos?{x:p.startXPos,y:p.startYPos}:{}))})})}applyOptions(o,l){let c=this.series,u=c.options.pointValKey||c.pointValKey;return jc(this,o=Ua.prototype.optionsToObject.call(this,o)),this.options=this.options?jc(this.options,o):o,o.group&&delete this.group,o.dataLabels&&delete this.dataLabels,u&&(this.y=Ua.prototype.getNestedProperty.call(this,u)),this.selected&&(this.state="select"),"name"in this&&l===void 0&&c.xAxis&&c.xAxis.hasNames&&(this.x=c.xAxis.nameToX(this)),this.x===void 0&&c?this.x=l??c.autoIncrement():_n(o.x)&&c.options.relativeXValue?this.x=c.autoIncrement(o.x):typeof this.x=="string"&&(l??(l=c.chart.time.parse(this.x)),_n(l)&&(this.x=l)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let o=this,l=o.series,c=l.chart,u=l.options.dataSorting,p=c.hoverPoints,g=qF(o.series.chart.renderer.globalAnimation),f=()=>{for(let m in(o.graphic||o.graphics||o.dataLabel||o.dataLabels)&&(Hy(o),o.destroyElements()),o)delete o[m]};o.legendItem&&c.legend.destroyItem(o),p&&(o.setState(),JF(p,o),p.length||(c.hoverPoints=null)),o===c.hoverPoint&&o.onMouseOut(),u&&u.enabled?(this.animateBeforeDestroy(),sP(f,g.duration)):f(),c.pointCount--}this.destroyed=!0}destroyElements(o){let l=this,c=l.getGraphicalProps(o);c.singular.forEach(function(u){l[u]=l[u].destroy()}),c.plural.forEach(function(u){l[u].forEach(function(p){p&&p.element&&p.destroy()}),delete l[u]})}firePointEvent(o,l,c){let u=this,p=this.series.options;u.manageEvent(o),o==="click"&&p.allowPointSelect&&(c=function(g){!u.destroyed&&u.select&&u.select(null,g.ctrlKey||g.metaKey||g.shiftKey)}),Xp(u,o,l,c)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(o){let l,c,u=this,p=[],g={singular:[],plural:[]};for((o=o||{graphic:1,dataLabel:1}).graphic&&p.push("graphic","connector"),o.dataLabel&&p.push("dataLabel","dataLabelPath","dataLabelUpper"),c=p.length;c--;)u[l=p[c]]&&g.singular.push(l);return["graphic","dataLabel"].forEach(function(f){let m=f+"s";o[f]&&u[m]&&g.plural.push(m)}),g}getNestedProperty(o){return o?o.indexOf("custom.")===0?eP(o,this.options):this[o]:void 0}getZone(){let o=this.series,l=o.zones,c=o.zoneAxis||"y",u,p=0;for(u=l[0];this[c]>=u.value;)u=l[++p];return this.nonZonedColor||(this.nonZonedColor=this.color),u&&u.color&&!this.options.color?this.color=u.color:this.color=this.nonZonedColor,u}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(o,l,c){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=o,this.applyOptions(l,c),this.id??(this.id=nP()),this.resolveColor(),o.chart.pointCount++,Xp(this,"afterInit")}isValid(){return(_n(this.x)||this.x instanceof Date)&&_n(this.y)}optionsToObject(o){let l=this.series,c=l.options.keys,u=c||l.pointArrayMap||["y"],p=u.length,g={},f,m=0,y=0;if(_n(o)||o===null)g[u[0]]=o;else if(tP(o))for(!c&&o.length>p&&((f=typeof o[0])=="string"?l.xAxis?.dateTime?g.x=l.chart.time.parse(o[0]):g.name=o[0]:f==="number"&&(g.x=o[0]),m++);y<p;)c&&o[m]===void 0||(u[y].indexOf(".")>0?Ua.prototype.setNestedProperty(g,o[m],u[y]):g[u[y]]=o[m]),m++,y++;else typeof o=="object"&&(g=o,o.dataLabels&&(l.hasDataLabels=()=>!0),o.marker&&(l._hasPointMarkers=!0));return g}pos(o,l=this.plotY){if(!this.destroyed){let{plotX:c,series:u}=this,{chart:p,xAxis:g,yAxis:f}=u,m=0,y=0;if(_n(c)&&_n(l))return o&&(m=g?g.pos:p.plotLeft,y=f?f.pos:p.plotTop),p.inverted&&g&&f?[f.len-l+y,g.len-c+m]:[c+m,l+y]}}resolveColor(){let o=this.series,l=o.chart.options.chart,c=o.chart.styledMode,u,p,g=l.colorCount,f;delete this.nonZonedColor,o.options.colorByPoint?(c||(u=(p=o.options.colors||o.chart.options.colors)[o.colorCounter],g=p.length),f=o.colorCounter,o.colorCounter++,o.colorCounter===g&&(o.colorCounter=0)):(c||(u=o.color),f=o.colorIndex),this.colorIndex=kn(this.options.colorIndex,f),this.color=kn(this.options.color,u)}setNestedProperty(o,l,c){return c.split(".").reduce(function(u,p,g,f){let m=f.length-1===g;return u[p]=m?l:Uc(u[p],!0)?u[p]:{},u[p]},o),o}shouldDraw(){return!this.isNull}tooltipFormatter(o){let{chart:l,pointArrayMap:c=["y"],tooltipOptions:u}=this.series,{valueDecimals:p="",valuePrefix:g="",valueSuffix:f=""}=u;return l.styledMode&&(o=l.tooltip?.styledModeFormat(o)||o),c.forEach(m=>{m="{point."+m,(g||f)&&(o=o.replace(RegExp(m+"}","g"),g+m+"}"+f)),o=o.replace(RegExp(m+"}","g"),m+":,."+p+"f}")}),XF(o,this,l)}update(o,l,c,u){let p,g=this,f=g.series,m=g.graphic,y=f.chart,S=f.options;function w(){g.applyOptions(o);let x=m&&g.hasMockGraphic,E=g.y===null?!x:x;m&&E&&(g.graphic=m.destroy(),delete g.hasMockGraphic),Uc(o,!0)&&(m&&m.element&&o&&o.marker&&o.marker.symbol!==void 0&&(g.graphic=m.destroy()),o?.dataLabels&&g.dataLabel&&(g.dataLabel=g.dataLabel.destroy())),p=g.index;let M={};for(let I of f.dataColumnKeys())M[I]=g[I];f.dataTable.setRow(M,p),S.data[p]=Uc(S.data[p],!0)||Uc(o,!0)?g.options:kn(o,S.data[p]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(y.isDirtyBox=!0),S.legendType==="point"&&(y.isDirtyLegend=!0),l&&y.redraw(c)}l=kn(l,!0),u===!1?w():g.firePointEvent("update",{options:o},w)}remove(o,l){this.series.removePoint(this.series.data.indexOf(this),o,l)}select(o,l){let c=this,u=c.series,p=u.chart;o=kn(o,!c.selected),this.selectedStaging=o,c.firePointEvent(o?"select":"unselect",{accumulate:l},function(){c.selected=c.options.selected=o,u.options.data[u.data.indexOf(c)]=c.options,c.setState(o&&"select"),l||p.getSelectedPoints().forEach(function(g){let f=g.series;g.selected&&g!==c&&(g.selected=g.options.selected=!1,f.options.data[f.data.indexOf(g)]=g.options,g.setState(p.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),g.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(o){let{inverted:l,pointer:c}=this.series.chart;c&&(o=o?c.normalize(o):c.getChartCoordinatesFromPoint(this,l),c.runPointActions(o,this))}onMouseOut(){let o=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(o.hoverPoints||[]).forEach(function(l){l.setState()}),o.hoverPoints=o.hoverPoint=null}manageEvent(o){let l=Vy(this.series.options.point,this.options),c=l.events?.[o];iP(c)&&(!this.hcEvents?.[o]||this.hcEvents?.[o]?.map(u=>u.fn).indexOf(c)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=ZF(this,o,c),this.hcEvents&&(this.hcEvents[o].userEvent=!0)):this.importedUserEvent&&!c&&this.hcEvents?.[o]&&this.hcEvents?.[o].userEvent&&(Hy(this,o),delete this.hcEvents[o],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(o,l){let c=this.series,u=this.state,p=c.options.states[o||"normal"]||{},g=YF.plotOptions[c.type].marker&&c.options.marker,f=g&&g.enabled===!1,m=g&&g.states&&g.states[o||"normal"]||{},y=m.enabled===!1,S=this.marker||{},w=c.chart,x=g&&c.markerAttribs,E=c.halo,M,I,F,T=c.stateMarkerGraphic,P;if((o=o||"")===this.state&&!l||this.selected&&o!=="select"||p.enabled===!1||o&&(y||f&&m.enabled===!1)||o&&S.states&&S.states[o]&&S.states[o].enabled===!1)return;if(this.state=o,x&&(M=c.markerAttribs(this,o)),this.graphic&&!this.hasMockGraphic){if(u&&this.graphic.removeClass("highcharts-point-"+u),o&&this.graphic.addClass("highcharts-point-"+o),!w.styledMode){I=c.pointAttribs(this,o),F=kn(w.options.chart.animation,p.animation);let G=I.opacity;c.options.inactiveOtherPoints&&_n(G)&&(this.dataLabels||[]).forEach(function(N){N&&!N.hasClass("highcharts-data-label-hidden")&&(N.animate({opacity:G},F),N.connector&&N.connector.animate({opacity:G},F))}),this.graphic.animate(I,F)}M&&this.graphic.animate(M,kn(w.options.chart.animation,m.animation,g.animation)),T&&T.hide()}else o&&m&&(P=S.symbol||c.symbol,T&&T.currentSymbol!==P&&(T=T.destroy()),M&&(T?T[l?"animate":"attr"]({x:M.x,y:M.y}):P&&(c.stateMarkerGraphic=T=w.renderer.symbol(P,M.x,M.y,M.width,M.height,Vy(g,m)).add(c.markerGroup),T.currentSymbol=P)),!w.styledMode&&T&&this.state!=="inactive"&&T.attr(c.pointAttribs(this,o))),T&&(T[o&&this.isInside?"show":"hide"](),T.element.point=this,T.addClass(this.getClassName(),!0));let _=p.halo,B=this.graphic||T,z=B&&B.visibility||"inherit";_&&_.size&&B&&z!=="hidden"&&!this.isCluster?(E||(c.halo=E=w.renderer.path().add(B.parentGroup)),E.show()[l?"animate":"attr"]({d:this.haloPath(_.size)}),E.attr({class:"highcharts-halo highcharts-color-"+kn(this.colorIndex,c.colorIndex)+(this.className?" "+this.className:""),visibility:z,zIndex:-1}),E.point=this,w.styledMode||E.attr(jc({fill:this.color||c.color,"fill-opacity":_.opacity},ht.filterUserAttributes(_.attributes||{})))):E?.point?.haloPath&&!E.point.destroyed&&E.animate({d:E.point.haloPath(0)},null,E.hide),Xp(this,"afterSetState",{state:o})}haloPath(o){let l=this.pos();return l?this.series.chart.renderer.symbols.circle(QF(l[0],1)-o,l[1]-o,2*o,2*o):[]}}let Ln=Ua,{parse:rP}=kt,{charts:Zp,composed:oP,isTouchDevice:aP}=W,{addEvent:ji,attr:lP,css:Qp,extend:Jp,find:zy,fireEvent:On,isNumber:$c,isObject:Kc,objectEach:cP,offset:dP,pick:ls,pushUnique:uP,splat:Wy}=he;class Gt{applyInactiveState(o){let l=[],c;(o||[]).forEach(function(u){c=u.series,l.push(c),c.linkedParent&&l.push(c.linkedParent),c.linkedSeries&&(l=l.concat(c.linkedSeries)),c.navigatorSeries&&l.push(c.navigatorSeries)}),this.chart.series.forEach(function(u){l.indexOf(u)===-1?u.setState("inactive",!0):u.options.inactiveOtherPoints&&u.setAllPointsToState("inactive")})}destroy(){let o=this;this.eventsToUnbind.forEach(l=>l()),this.eventsToUnbind=[],!W.chartCount&&(Gt.unbindDocumentMouseUp.forEach(l=>l.unbind()),Gt.unbindDocumentMouseUp.length=0,Gt.unbindDocumentTouchEnd&&(Gt.unbindDocumentTouchEnd=Gt.unbindDocumentTouchEnd())),clearInterval(o.tooltipTimeout),cP(o,function(l,c){o[c]=void 0})}getSelectionMarkerAttrs(o,l){let c={args:{chartX:o,chartY:l},attrs:{},shapeType:"rect"};return On(this,"getSelectionMarkerAttrs",c,u=>{let p,{chart:g,zoomHor:f,zoomVert:m}=this,{mouseDownX:y=0,mouseDownY:S=0}=g,w=u.attrs;w.x=g.plotLeft,w.y=g.plotTop,w.width=f?1:g.plotWidth,w.height=m?1:g.plotHeight,f&&(p=o-y,w.width=Math.max(1,Math.abs(p)),w.x=(p>0?0:p)+y),m&&(p=l-S,w.height=Math.max(1,Math.abs(p)),w.y=(p>0?0:p)+S)}),c}drag(o){let{chart:l}=this,{mouseDownX:c=0,mouseDownY:u=0}=l,{panning:p,panKey:g,selectionMarkerFill:f}=l.options.chart,m=l.plotLeft,y=l.plotTop,S=l.plotWidth,w=l.plotHeight,x=Kc(p)?p.enabled:p,E=g&&o[`${g}Key`],M=o.chartX,I=o.chartY,F,T=this.selectionMarker;if((!T||!T.touch)&&(M<m?M=m:M>m+S&&(M=m+S),I<y?I=y:I>y+w&&(I=y+w),this.hasDragged=Math.sqrt(Math.pow(c-M,2)+Math.pow(u-I,2)),this.hasDragged>10)){F=l.isInsidePlot(c-m,u-y,{visiblePlotOnly:!0});let{shapeType:P,attrs:_}=this.getSelectionMarkerAttrs(M,I);(l.hasCartesianSeries||l.mapView)&&this.hasZoom&&F&&!E&&!T&&(this.selectionMarker=T=l.renderer[P](),T.attr({class:"highcharts-selection-marker",zIndex:7}).add(),l.styledMode||T.attr({fill:f||rP("#334eff").setOpacity(.25).get()})),T&&T.attr(_),F&&!T&&x&&l.pan(o,p)}}dragStart(o){let l=this.chart;l.mouseIsDown=o.type,l.cancelClick=!1,l.mouseDownX=o.chartX,l.mouseDownY=o.chartY}getSelectionBox(o){let l={args:{marker:o},result:o.getBBox()};return On(this,"getSelectionBox",l),l.result}drop(o){let l,{chart:c,selectionMarker:u}=this;for(let p of c.axes)p.isPanning&&(p.isPanning=!1,(p.options.startOnTick||p.options.endOnTick||p.series.some(g=>g.boosted))&&(p.forceRedraw=!0,p.setExtremes(p.userMin,p.userMax,!1),l=!0));if(l&&c.redraw(),u&&o){if(this.hasDragged){let p=this.getSelectionBox(u);c.transform({axes:c.axes.filter(g=>g.zoomEnabled&&(g.coll==="xAxis"&&this.zoomX||g.coll==="yAxis"&&this.zoomY)),selection:U({originalEvent:o,xAxis:[],yAxis:[]},p),from:p})}$c(c.index)&&(this.selectionMarker=u.destroy())}c&&$c(c.index)&&(Qp(c.container,{cursor:c._cursor}),c.cancelClick=this.hasDragged>10,c.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(o,l,c){let u;return o.forEach(function(p){let g=!(p.noSharedTooltip&&l)&&0>p.options.findNearestPointBy.indexOf("y"),f=p.searchPoint(c,g);Kc(f,!0)&&f.series&&(!Kc(u,!0)||function(m,y){let S=m.distX-y.distX,w=m.dist-y.dist,x=y.series.group?.zIndex-m.series.group?.zIndex;return S!==0&&l?S:w!==0?w:x!==0?x:m.series.index>y.series.index?-1:1}(u,f)>0)&&(u=f)}),u}getChartCoordinatesFromPoint(o,l){let{xAxis:c,yAxis:u}=o.series,p=o.shapeArgs;if(c&&u){let g=o.clientX??o.plotX??0,f=o.plotY||0;return o.isNode&&p&&$c(p.x)&&$c(p.y)&&(g=p.x,f=p.y),l?{chartX:u.len+u.pos-f,chartY:c.len+c.pos-g}:{chartX:g+c.pos,chartY:f+u.pos}}if(p&&p.x&&p.y)return{chartX:p.x,chartY:p.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:o}=this.chart,l=dP(o);this.chartPosition={left:l.left,top:l.top,scaleX:1,scaleY:1};let{offsetHeight:c,offsetWidth:u}=o;return u>2&&c>2&&(this.chartPosition.scaleX=l.width/u,this.chartPosition.scaleY=l.height/c),this.chartPosition}getCoordinates(o){let l={xAxis:[],yAxis:[]};for(let c of this.chart.axes)l[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(o[c.horiz?"chartX":"chartY"])});return l}getHoverData(o,l,c,u,p,g){let f=[],m=function(E){return E.visible&&!(!p&&E.directTouch)&&ls(E.options.enableMouseTracking,!0)},y=l,S,w={chartX:g?g.chartX:void 0,chartY:g?g.chartY:void 0,shared:p};On(this,"beforeGetHoverData",w),S=y&&!y.stickyTracking?[y]:c.filter(E=>E.stickyTracking&&(w.filter||m)(E));let x=u&&o||!g?o:this.findNearestKDPoint(S,p,g);return y=x&&x.series,x&&(p&&!y.noSharedTooltip?(S=c.filter(function(E){return w.filter?w.filter(E):m(E)&&!E.noSharedTooltip})).forEach(function(E){let M=zy(E.points,function(I){return I.x===x.x&&!I.isNull});Kc(M)&&(E.boosted&&E.boost&&(M=E.boost.getPoint(M)),f.push(M))}):f.push(x)),On(this,"afterGetHoverData",w={hoverPoint:x}),{hoverPoint:w.hoverPoint,hoverSeries:y,hoverPoints:f}}getPointFromEvent(o){let l=o.target,c;for(;l&&!c;)c=l.point,l=l.parentNode;return c}onTrackerMouseOut(o){let l=this.chart,c=o.relatedTarget,u=l.hoverSeries;this.isDirectTouch=!1,!u||!c||u.stickyTracking||this.inClass(c,"highcharts-tooltip")||this.inClass(c,"highcharts-series-"+u.index)&&this.inClass(c,"highcharts-tracker")||u.onMouseOut()}inClass(o,l){let c=o,u;for(;c;){if(u=lP(c,"class")){if(u.indexOf(l)!==-1)return!0;if(u.indexOf("highcharts-container")!==-1)return!1}c=c.parentElement}}constructor(o,l){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=l,this.chart=o,this.runChartClick=!!l.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),On(this,"afterInit")}normalize(o,l){let c=o.touches,u=c?c.length?c.item(0):ls(c.changedTouches,o.changedTouches)[0]:o;l||(l=this.getChartPosition());let p=u.pageX-l.left,g=u.pageY-l.top;return Jp(o,{chartX:Math.round(p/=l.scaleX),chartY:Math.round(g/=l.scaleY)})}onContainerClick(o){let l=this.chart,c=l.hoverPoint,u=this.normalize(o),p=l.plotLeft,g=l.plotTop;!l.cancelClick&&(c&&this.inClass(u.target,"highcharts-tracker")?(On(c.series,"click",Jp(u,{point:c})),l.hoverPoint&&c.firePointEvent("click",u)):(Jp(u,this.getCoordinates(u)),l.isInsidePlot(u.chartX-p,u.chartY-g,{visiblePlotOnly:!0})&&On(l,"click",u)))}onContainerMouseDown(o){let l=(1&(o.buttons||o.button))==1;o=this.normalize(o),W.isFirefox&&o.button!==0&&this.onContainerMouseMove(o),(o.button===void 0||l)&&(this.zoomOption(o),l&&o.preventDefault?.(),this.dragStart(o))}onContainerMouseLeave(o){let{pointer:l}=Zp[ls(Gt.hoverChartIndex,-1)]||{};o=this.normalize(o),this.onContainerMouseMove(o),l&&!this.inClass(o.relatedTarget,"highcharts-tooltip")&&(l.reset(),l.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(o){let l=this.chart,c=l.tooltip,u=this.normalize(o);this.setHoverChartIndex(o),(l.mouseIsDown==="mousedown"||this.touchSelect(u))&&this.drag(u),!l.openMenu&&(this.inClass(u.target,"highcharts-tracker")||l.isInsidePlot(u.chartX-l.plotLeft,u.chartY-l.plotTop,{visiblePlotOnly:!0}))&&!(c&&c.shouldStickOnContact(u))&&(this.inClass(u.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(u))}onDocumentTouchEnd(o){this.onDocumentMouseUp(o)}onContainerTouchMove(o){this.touchSelect(o)?this.onContainerMouseMove(o):this.touch(o)}onContainerTouchStart(o){this.touchSelect(o)?this.onContainerMouseDown(o):(this.zoomOption(o),this.touch(o,!0))}onDocumentMouseMove(o){let l=this.chart,c=l.tooltip,u=this.chartPosition,p=this.normalize(o,u);!u||l.isInsidePlot(p.chartX-l.plotLeft,p.chartY-l.plotTop,{visiblePlotOnly:!0})||c&&c.shouldStickOnContact(p)||p.target!==l.container.ownerDocument&&this.inClass(p.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(o){Zp[ls(Gt.hoverChartIndex,-1)]?.pointer?.drop(o)}pinch(o){let l=this,{chart:c,hasZoom:u,lastTouches:p}=l,g=[].map.call(o.touches||[],w=>l.normalize(w)),f=g.length,m=f===1&&(l.inClass(o.target,"highcharts-tracker")&&c.runTrackerClick||l.runChartClick),y=c.tooltip,S=f===1&&ls(y?.options.followTouchMove,!0);f>1?l.initiated=!0:S&&(l.initiated=!1),u&&l.initiated&&!m&&o.cancelable!==!1&&o.preventDefault(),o.type==="touchstart"?(l.pinchDown=g,l.res=!0,c.mouseDownX=o.chartX):S?this.runPointActions(l.normalize(o)):p&&(On(c,"touchpan",{originalEvent:o,touches:g},()=>{let w=x=>{let E=x[0],M=x[1]||E;return{x:E.chartX,y:E.chartY,width:M.chartX-E.chartX,height:M.chartY-E.chartY}};c.transform({axes:c.axes.filter(x=>x.zoomEnabled&&(this.zoomHor&&x.horiz||this.zoomVert&&!x.horiz)),to:w(g),from:w(p),trigger:o.type})}),l.res&&(l.res=!1,this.reset(!1,0))),l.lastTouches=g}reset(o,l){let c=this.chart,u=c.hoverSeries,p=c.hoverPoint,g=c.hoverPoints,f=c.tooltip,m=f&&f.shared?g:p;o&&m&&Wy(m).forEach(function(y){y.series.isCartesian&&y.plotX===void 0&&(o=!1)}),o?f&&m&&Wy(m).length&&(f.refresh(m),f.shared&&g?g.forEach(function(y){y.setState(y.state,!0),y.series.isCartesian&&(y.series.xAxis.crosshair&&y.series.xAxis.drawCrosshair(null,y),y.series.yAxis.crosshair&&y.series.yAxis.drawCrosshair(null,y))}):p&&(p.setState(p.state,!0),c.axes.forEach(function(y){y.crosshair&&p.series[y.coll]===y&&y.drawCrosshair(null,p)}))):(p&&p.onMouseOut(),g&&g.forEach(function(y){y.setState()}),u&&u.onMouseOut(),f&&f.hide(l),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),c.axes.forEach(function(y){y.hideCrosshair()}),c.hoverPoints=c.hoverPoint=void 0)}runPointActions(o,l,c){let u=this.chart,p=u.series,g=u.tooltip&&u.tooltip.options.enabled?u.tooltip:void 0,f=!!g&&g.shared,m=l||u.hoverPoint,y=m&&m.series||u.hoverSeries,S=(!o||o.type!=="touchmove")&&(!!l||y&&y.directTouch&&this.isDirectTouch),w=this.getHoverData(m,y,p,S,f,o);m=w.hoverPoint,y=w.hoverSeries;let x=w.hoverPoints,E=y&&y.tooltipOptions.followPointer&&!y.tooltipOptions.split,M=f&&y&&!y.noSharedTooltip;if(m&&(c||m!==u.hoverPoint||g&&g.isHidden)){if((u.hoverPoints||[]).forEach(function(I){x.indexOf(I)===-1&&I.setState()}),u.hoverSeries!==y&&y.onMouseOver(),this.applyInactiveState(x),(x||[]).forEach(function(I){I.setState("hover")}),u.hoverPoint&&u.hoverPoint.firePointEvent("mouseOut"),!m.series)return;u.hoverPoints=x,u.hoverPoint=m,m.firePointEvent("mouseOver",void 0,()=>{g&&m&&g.refresh(M?x:m,o)})}else if(E&&g&&!g.isHidden){let I=g.getAnchor([{}],o);u.isInsidePlot(I[0],I[1],{visiblePlotOnly:!0})&&g.updatePosition({plotX:I[0],plotY:I[1]})}this.unDocMouseMove||(this.unDocMouseMove=ji(u.container.ownerDocument,"mousemove",I=>Zp[Gt.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(I)),this.eventsToUnbind.push(this.unDocMouseMove)),u.axes.forEach(function(I){let F,T=ls((I.crosshair||{}).snap,!0);!T||(F=u.hoverPoint)&&F.series[I.coll]===I||(F=zy(x,P=>P.series&&P.series[I.coll]===I)),F||!T?I.drawCrosshair(o,F):I.hideCrosshair()})}setDOMEvents(){let o=this.chart.container,l=o.ownerDocument;o.onmousedown=this.onContainerMouseDown.bind(this),o.onmousemove=this.onContainerMouseMove.bind(this),o.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(ji(o,"mouseenter",this.onContainerMouseEnter.bind(this)),ji(o,"mouseleave",this.onContainerMouseLeave.bind(this))),Gt.unbindDocumentMouseUp.some(u=>u.doc===l)||Gt.unbindDocumentMouseUp.push({doc:l,unbind:ji(l,"mouseup",this.onDocumentMouseUp.bind(this))});let c=this.chart.renderTo.parentElement;for(;c&&c.tagName!=="BODY";)this.eventsToUnbind.push(ji(c,"scroll",()=>{delete this.chartPosition})),c=c.parentElement;this.eventsToUnbind.push(ji(o,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),ji(o,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Gt.unbindDocumentTouchEnd||(Gt.unbindDocumentTouchEnd=ji(l,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),ji(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!aP)return;let o=this.pointerCaptureEventsToUnbind,l=this.chart,c=l.container,u=ls(l.options.tooltip?.followTouchMove,!0)&&l.series.some(p=>p.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&u?(o.push(ji(c,"pointerdown",p=>{p.target?.hasPointerCapture(p.pointerId)&&p.target?.releasePointerCapture(p.pointerId)}),ji(c,"pointermove",p=>{l.pointer?.getPointFromEvent(p)?.onMouseOver(p)})),l.styledMode||Qp(c,{"touch-action":"none"}),c.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!u&&(o.forEach(p=>p()),o.length=0,l.styledMode||Qp(c,{"touch-action":ls(l.options.chart.style?.["touch-action"],"manipulation")}),c.className=c.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(o){let l=this.chart,c=W.charts[ls(Gt.hoverChartIndex,-1)];if(c&&c!==l){let u={relatedTarget:l.container};o&&!o?.relatedTarget&&Object.assign({},o,u),c.pointer?.onContainerMouseLeave(o||u)}c&&c.mouseIsDown||(Gt.hoverChartIndex=l.index)}touch(o,l){let c,{chart:u,pinchDown:p=[]}=this;this.setHoverChartIndex(),(o=this.normalize(o)).touches.length===1?u.isInsidePlot(o.chartX-u.plotLeft,o.chartY-u.plotTop,{visiblePlotOnly:!0})&&!u.openMenu?(l&&this.runPointActions(o),o.type==="touchmove"&&(c=!!p[0]&&Math.pow(p[0].chartX-o.chartX,2)+Math.pow(p[0].chartY-o.chartY,2)>=16),ls(c,!0)&&this.pinch(o)):l&&this.reset():o.touches.length===2&&this.pinch(o)}touchSelect(o){return!!(this.chart.zooming.singleTouch&&o.touches&&o.touches.length===1)}zoomOption(o){let l=this.chart,c=l.inverted,u=l.zooming.type||"",p,g;/touch/.test(o.type)&&(u=ls(l.zooming.pinchType,u)),this.zoomX=p=/x/.test(u),this.zoomY=g=/y/.test(u),this.zoomHor=p&&!c||g&&c,this.zoomVert=g&&!c||p&&c,this.hasZoom=p||g}}Gt.unbindDocumentMouseUp=[],function(C){C.compose=function(o){uP(oP,"Core.Pointer")&&ji(o,"beforeRender",function(){this.pointer=new C(this,this.options)})}}(Gt||(Gt={}));let jy=Gt,{fireEvent:Uy,isArray:hP,objectEach:qc,uniqueKey:Yc}=he,Xc=class{constructor(C={}){this.autoId=!C.id,this.columns={},this.id=C.id||Yc(),this.modified=this,this.rowCount=0,this.versionTag=Yc();let o=0;qc(C.columns||{},(l,c)=>{this.columns[c]=l.slice(),o=Math.max(o,l.length)}),this.applyRowCount(o)}applyRowCount(C){this.rowCount=C,qc(this.columns,o=>{hP(o)&&(o.length=C)})}getColumn(C,o){return this.columns[C]}getColumns(C,o){return(C||Object.keys(this.columns)).reduce((l,c)=>(l[c]=this.columns[c],l),{})}getRow(C,o){return(o||Object.keys(this.columns)).map(l=>this.columns[l]?.[C])}setColumn(C,o=[],l=0,c){this.setColumns({[C]:o},l,c)}setColumns(C,o,l){let c=this.rowCount;qc(C,(u,p)=>{this.columns[p]=u.slice(),c=u.length}),this.applyRowCount(c),l?.silent||(Uy(this,"afterSetColumns"),this.versionTag=Yc())}setRow(C,o=this.rowCount,l,c){let{columns:u}=this,p=l?this.rowCount+1:o+1;qc(C,(g,f)=>{let m=u[f]||c?.addColumns!==!1&&Array(p);m&&(l?m.splice(o,0,g):m[o]=g,u[f]=m)}),p>this.rowCount&&this.applyRowCount(p),c?.silent||(Uy(this,"afterSetRows"),this.versionTag=Yc())}},{extend:pP,merge:gP,pick:$y}=he;(function(C){function o(l,c,u){let p=this.legendItem=this.legendItem||{},{chart:g,options:f}=this,{baseline:m=0,symbolWidth:y,symbolHeight:S}=l,w=this.symbol||"circle",x=S/2,E=g.renderer,M=p.group,I=m-Math.round((l.fontMetrics?.b||S)*(u?.4:.3)),F={},T,P=f.marker,_=0;if(g.styledMode||(F["stroke-width"]=Math.min(f.lineWidth||0,24),f.dashStyle?F.dashstyle=f.dashStyle:f.linecap==="square"||(F["stroke-linecap"]="round")),p.line=E.path().addClass("highcharts-graph").attr(F).add(M),u&&(p.area=E.path().addClass("highcharts-area").add(M)),F["stroke-linecap"]&&(_=Math.min(p.line.strokeWidth(),y)/2),y){let B=[["M",_,I],["L",y-_,I]];p.line.attr({d:B}),p.area?.attr({d:[...B,["L",y-_,m],["L",_,m]]})}if(P&&P.enabled!==!1&&y){let B=Math.min($y(P.radius,x),x);w.indexOf("url")===0&&(P=gP(P,{width:S,height:S}),B=0),p.symbol=T=E.symbol(w,y/2-B,I-B,2*B,2*B,pP({context:"legend"},P)).addClass("highcharts-point").add(M),T.isMarker=!0}}C.areaMarker=function(l,c){o.call(this,l,c,!0)},C.lineMarker=o,C.rectangle=function(l,c){let u=c.legendItem||{},p=l.options,g=l.symbolHeight,f=p.squareSymbol,m=f?g:l.symbolWidth;u.symbol=this.chart.renderer.rect(f?(l.symbolWidth-g)/2:0,l.baseline-g+1,m,g,$y(l.options.symbolRadius,g/2)).addClass("highcharts-point").attr({zIndex:3}).add(u.group)}})(b||(b={}));let Ky=b,{defaultOptions:qy}=Wi,{extend:fP,extendClass:mP,merge:vP}=he;(function(C){function o(l,c){let u=qy.plotOptions||{},p=c.defaultOptions,g=c.prototype;return g.type=l,g.pointClass||(g.pointClass=Ln),!C.seriesTypes[l]&&(p&&(u[l]=p),C.seriesTypes[l]=c,!0)}C.seriesTypes=W.seriesTypes,C.registerSeriesType=o,C.seriesType=function(l,c,u,p,g){let f=qy.plotOptions||{};if(c=c||"",f[l]=vP(f[c],u),delete C.seriesTypes[l],o(l,mP(C.seriesTypes[c]||function(){},p)),C.seriesTypes[l].prototype.type=l,g){class m extends Ln{}fP(m.prototype,g),C.seriesTypes[l].prototype.pointClass=m}return C.seriesTypes[l]}})(D||(D={}));let xt=D,{animObject:Yy,setAnimation:CP}=si,{defaultOptions:Zc}=Wi,{registerEventOptions:bP}=Lc,{svg:yP,win:wP}=W,{seriesTypes:vo}=xt,{arrayMax:eg,arrayMin:Xy,clamp:Zy,correctFloat:Qy,crisp:SP,defined:Vt,destroyObjectProperties:xP,diffObjects:DP,erase:Jy,error:Qc,extend:Co,find:EP,fireEvent:pt,getClosestDistance:MP,getNestedProperty:ew,insertItem:tw,isArray:iw,isNumber:qt,isString:RP,merge:bo,objectEach:tg,pick:gt,removeEvent:TP,syncTimeout:sw}=he;class yo{constructor(){this.zoneAxis="y"}init(o,l){let c;pt(this,"init",{options:l}),this.dataTable??(this.dataTable=new Xc);let u=o.series;this.eventsToUnbind=[],this.chart=o,this.options=this.setOptions(l);let p=this.options,g=p.visible!==!1;this.linkedSeries=[],this.bindAxes(),Co(this,{name:p.name,state:"",visible:g,selected:p.selected===!0}),bP(this,p);let f=p.events;(f&&f.click||p.point&&p.point.events&&p.point.events.click||p.allowPointSelect)&&(o.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(o.hasCartesianSeries=!0),u.length&&(c=u[u.length-1]),this._i=gt(c&&c._i,-1)+1,this.opacity=this.options.opacity,o.orderItems("series",tw(this,u)),p.dataSorting&&p.dataSorting.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(p.data,!1),pt(this,"afterInit")}is(o){return vo[o]&&this instanceof vo[o]}bindAxes(){let o,l=this,c=l.options,u=l.chart;pt(this,"bindAxes",null,function(){(l.axisTypes||[]).forEach(function(p){(u[p]||[]).forEach(function(g){o=g.options,(gt(c[p],0)===g.index||c[p]!==void 0&&c[p]===o.id)&&(tw(l,g.series),l[p]=g,g.isDirty=!0)}),l[p]||l.optionalAxis===p||Qc(18,!0,u)})}),pt(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(o,l){let c=o.marker,u=l.marker||{};return c&&(u.enabled&&!c.enabled||u.symbol!==c.symbol||u.height!==c.height||u.width!==c.width)}autoIncrement(o){let l,c=this.options,{pointIntervalUnit:u,relativeXValue:p}=this.options,g=this.chart.time,f=this.xIncrement??g.parse(c.pointStart)??0;if(this.pointInterval=l=gt(this.pointInterval,c.pointInterval,1),p&&qt(o)&&(l*=o),u){let m=g.toParts(f);u==="day"?m[2]+=l:u==="month"?m[1]+=l:u==="year"&&(m[0]+=l),l=g.makeTime.apply(g,m)-f}return p&&qt(o)?f+l:(this.xIncrement=f+l,f)}setDataSortingOptions(){let o=this.options;Co(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),Vt(o.pointRange)||(o.pointRange=1)}setOptions(o){let l,c=this.chart,u=c.options.plotOptions,p=c.userOptions||{},g=bo(o),f=c.styledMode,m={plotOptions:u,userOptions:g};pt(this,"setOptions",m);let y=m.plotOptions[this.type],S=p.plotOptions||{},w=S.series||{},x=Zc.plotOptions[this.type]||{},E=S[this.type]||{};this.userOptions=m.userOptions;let M=bo(y,u.series,E,g);this.tooltipOptions=bo(Zc.tooltip,Zc.plotOptions.series?.tooltip,x?.tooltip,c.userOptions.tooltip,S.series?.tooltip,E.tooltip,g.tooltip),this.stickyTracking=gt(g.stickyTracking,E.stickyTracking,w.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||M.stickyTracking),y.marker===null&&delete M.marker,this.zoneAxis=M.zoneAxis||"y";let I=this.zones=(M.zones||[]).map(F=>U({},F));return(M.negativeColor||M.negativeFillColor)&&!M.zones&&(l={value:M[this.zoneAxis+"Threshold"]||M.threshold||0,className:"highcharts-negative"},f||(l.color=M.negativeColor,l.fillColor=M.negativeFillColor),I.push(l)),I.length&&Vt(I[I.length-1].value)&&I.push(f?{}:{color:this.color,fillColor:this.fillColor}),pt(this,"afterSetOptions",{options:M}),M}getName(){return gt(this.options.name,"Series "+(this.index+1))}getCyclic(o,l,c){let u,p,g=this.chart,f=`${o}Index`,m=`${o}Counter`,y=c?.length||g.options.chart.colorCount;!l&&(Vt(p=gt(o==="color"?this.options.colorIndex:void 0,this[f]))?u=p:(g.series.length||(g[m]=0),u=g[m]%y,g[m]+=1),c&&(l=c[u])),u!==void 0&&(this[f]=u),this[o]=l}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Zc.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let o=this.options.marker;this.getCyclic("symbol",o.symbol,this.chart.options.symbols)}getColumn(o,l){return(l?this.dataTable.modified:this.dataTable).getColumn(o,!0)||[]}findPointIndex(o,l){let c,u,p,g=o.id,f=o.x,m=this.points,y=this.options.dataSorting;if(g){let S=this.chart.get(g);S instanceof Ln&&(c=S)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let S=w=>!w.touched&&w.index===o.index;if(y&&y.matchByName?S=w=>!w.touched&&w.name===o.name:this.options.relativeXValue&&(S=w=>!w.touched&&w.options.x===o.x),!(c=EP(m,S)))return}return c&&(p=c&&c.index)!==void 0&&(u=!0),p===void 0&&qt(f)&&(p=this.getColumn("x").indexOf(f,l)),p!==-1&&p!==void 0&&this.cropped&&(p=p>=this.cropStart?p-this.cropStart:p),!u&&qt(p)&&m[p]&&m[p].touched&&(p=void 0),p}updateData(o,l){let c=this.options,u=c.dataSorting,p=this.points,g=[],f=this.requireSorting,m=o.length===p.length,y,S,w,x,E=!0;if(this.xIncrement=null,o.forEach(function(I,F){let T,P=Vt(I)&&this.pointClass.prototype.optionsToObject.call({series:this},I)||{},_=P.x;P.id||qt(_)?((T=this.findPointIndex(P,x))===-1||T===void 0?g.push(I):p[T]&&I!==c.data[T]?(p[T].update(I,!1,null,!1),p[T].touched=!0,f&&(x=T+1)):p[T]&&(p[T].touched=!0),(!m||F!==T||u&&u.enabled||this.hasDerivedData)&&(y=!0)):g.push(I)},this),y)for(S=p.length;S--;)(w=p[S])&&!w.touched&&w.remove&&w.remove(!1,l);else!m||u&&u.enabled?E=!1:(o.forEach(function(I,F){I===p[F].y||p[F].destroyed||p[F].update(I,!1,null,!1)}),g.length=0);if(p.forEach(function(I){I&&(I.touched=!1)}),!E)return!1;g.forEach(function(I){this.addPoint(I,!1,null,null,!1)},this);let M=this.getColumn("x");return this.xIncrement===null&&M.length&&(this.xIncrement=eg(M),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(o,l=!0,c,u){let p=this.points,g=p&&p.length||0,f=this.options,m=this.chart,y=f.dataSorting,S=this.xAxis,w=f.turboThreshold,x=this.dataTable,E=this.dataColumnKeys(),M=this.pointValKey||"y",I=(this.pointArrayMap||[]).length,F=f.keys,T,P,_=0,B=1,z;m.options.chart.allowMutatingData||(f.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,z=bo(!0,o));let G=(o=z||o||[]).length;if(y&&y.enabled&&(o=this.sortData(o)),m.options.chart.allowMutatingData&&u!==!1&&G&&g&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(P=this.updateData(o,c)),!P){this.xIncrement=null,this.colorCounter=0;let N=w&&G>w;if(N){let V=this.getFirstValidPoint(o),q=this.getFirstValidPoint(o,G-1,-1),Y=J=>!!(iw(J)&&(F||qt(J[0])));if(qt(V)&&qt(q)){let J=[],re=[];for(let ne of o)J.push(this.autoIncrement()),re.push(ne);x.setColumns({x:J,[M]:re})}else if(Y(V)&&Y(q))if(I){let J=V.length===I?1:0,re=Array(E.length).fill(0).map(()=>[]);for(let ne of o){J&&re[0].push(this.autoIncrement());for(let ae=J;ae<=I;ae++)re[ae]?.push(ne[ae-J])}x.setColumns(E.reduce((ne,ae,de)=>(ne[ae]=re[de],ne),{}))}else{F&&(_=F.indexOf("x"),B=F.indexOf("y"),_=_>=0?_:0,B=B>=0?B:1),V.length===1&&(B=0);let J=[],re=[];if(_===B)for(let ne of o)J.push(this.autoIncrement()),re.push(ne[B]);else for(let ne of o)J.push(ne[_]),re.push(ne[B]);x.setColumns({x:J,[M]:re})}else N=!1}if(!N){let V=E.reduce((q,Y)=>(q[Y]=[],q),{});for(T=0;T<G;T++){let q=this.pointClass.prototype.applyOptions.apply({series:this},[o[T]]);for(let Y of E)V[Y][T]=q[Y]}x.setColumns(V)}for(RP(this.getColumn("y")[0])&&Qc(14,!0,m),this.data=[],this.options.data=this.userOptions.data=o,T=g;T--;)p[T]?.destroy();S&&(S.minRange=S.userMinRange),this.isDirty=m.isDirtyBox=!0,this.isDirtyData=!!p,c=!1}f.legendType==="point"&&(this.processData(),this.generatePoints()),l&&m.redraw(c)}sortData(o){let l=this,c=l.options.dataSorting.sortKey||"y",u=function(p,g){return Vt(g)&&p.pointClass.prototype.optionsToObject.call({series:p},g)||{}};return o.forEach(function(p,g){o[g]=u(l,p),o[g].index=g},this),o.concat().sort((p,g)=>{let f=ew(c,p),m=ew(c,g);return m<f?-1:m>f?1:0}).forEach(function(p,g){p.x=g},this),l.linkedSeries&&l.linkedSeries.forEach(function(p){let g=p.options,f=g.data;g.dataSorting&&g.dataSorting.enabled||!f||(f.forEach(function(m,y){f[y]=u(p,m),o[y]&&(f[y].x=o[y].x,f[y].index=y)}),p.setData(f,!1))}),o}getProcessedData(o){let l=this,{dataTable:c,isCartesian:u,options:p,xAxis:g}=l,f=p.cropThreshold,m=o||l.getExtremesFromAll,y=g?.logarithmic,S=c.rowCount,w,x,E=0,M,I,F,T=l.getColumn("x"),P=c,_=!1;return g&&(I=(M=g.getExtremes()).min,F=M.max,_=!!(g.categories&&!g.names.length),u&&l.sorted&&!m&&(!f||S>f||l.forceCrop)&&(T[S-1]<I||T[0]>F?P=new Xc:l.getColumn(l.pointValKey||"y").length&&(T[0]<I||T[S-1]>F)&&(P=(w=this.cropData(c,I,F)).modified,E=w.start,x=!0))),T=P.getColumn("x")||[],{modified:P,cropped:x,cropStart:E,closestPointRange:MP([y?T.map(y.log2lin):T],()=>l.requireSorting&&!_&&Qc(15,!1,l.chart))}}processData(o){let l=this.xAxis,c=this.dataTable;if(this.isCartesian&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!o)return!1;let u=this.getProcessedData();c.modified=u.modified,this.cropped=u.cropped,this.cropStart=u.cropStart,this.closestPointRange=this.basePointRange=u.closestPointRange,pt(this,"afterProcessData")}cropData(o,l,c){let u=o.getColumn("x",!0)||[],p=u.length,g={},f,m,y=0,S=p;for(f=0;f<p;f++)if(u[f]>=l){y=Math.max(0,f-1);break}for(m=f;m<p;m++)if(u[m]>c){S=m+1;break}for(let w of this.dataColumnKeys()){let x=o.getColumn(w,!0);x&&(g[w]=x.slice(y,S))}return{modified:new Xc({columns:g}),start:y,end:S}}generatePoints(){let o=this.options,l=this.processedData||o.data,c=this.dataTable.modified,u=this.getColumn("x",!0),p=this.pointClass,g=c.rowCount,f=this.cropStart||0,m=this.hasGroupedData,y=o.keys,S=[],w=o.dataGrouping&&o.dataGrouping.groupAll?f:0,x=this.xAxis?.categories,E=this.pointArrayMap||["y"],M=this.dataColumnKeys(),I,F,T,P,_=this.data,B;if(!_&&!m){let z=[];z.length=l?.length||0,_=this.data=z}for(y&&m&&(this.options.keys=!1),P=0;P<g;P++)F=f+P,m?((T=new p(this,c.getRow(P,M)||[])).dataGroup=this.groupMap[w+P],T.dataGroup?.options&&(T.options=T.dataGroup.options,Co(T,T.dataGroup.options),delete T.dataLabels)):(T=_[F],B=l?l[F]:c.getRow(P,E),T||B===void 0||(_[F]=T=new p(this,B,u[P]))),T&&(T.index=m?w+P:F,S[P]=T,T.category=x?.[T.x]??T.x,T.key=T.name??T.category);if(this.options.keys=y,_&&(g!==(I=_.length)||m))for(P=0;P<I;P++)P!==f||m||(P+=g),_[P]&&(_[P].destroyElements(),_[P].plotX=void 0);this.data=_,this.points=S,pt(this,"afterGeneratePoints")}getXExtremes(o){return{min:Xy(o),max:eg(o)}}getExtremes(o,l){let{xAxis:c,yAxis:u}=this,p=l||this.getExtremesFromAll||this.options.getExtremesFromAll,g=p&&this.cropped?this.dataTable:this.dataTable.modified,f=g.rowCount,m=o||this.stackedYData,y=m?[m]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(z=>g.getColumn(z,!0)||[])||[],S=this.getColumn("x",!0),w=[],x=this.requireSorting&&!this.is("column")?1:0,E=!!u&&u.positiveValuesOnly,M=p||this.cropped||!c,I,F,T,P=0,_=0;for(c&&(P=(I=c.getExtremes()).min,_=I.max),T=0;T<f;T++)if(F=S[T],M||(S[T+x]||F)>=P&&(S[T-x]||F)<=_)for(let z of y){let G=z[T];qt(G)&&(G>0||!E)&&w.push(G)}let B={activeYData:w,dataMin:Xy(w),dataMax:eg(w)};return pt(this,"afterGetExtremes",{dataExtremes:B}),B}applyExtremes(){let o=this.getExtremes();return this.dataMin=o.dataMin,this.dataMax=o.dataMax,o}getFirstValidPoint(o,l=0,c=1){let u=o.length,p=l;for(;p>=0&&p<u;){if(Vt(o[p]))return o[p];p+=c}}translate(){this.generatePoints();let o=this.options,l=o.stacking,c=this.xAxis,u=this.enabledDataSorting,p=this.yAxis,g=this.points,f=g.length,m=this.pointPlacementToXValue(),y=!!m,S=o.threshold,w=o.startFromThreshold?S:0,x,E,M,I,F=Number.MAX_VALUE;function T(P){return Zy(P,-1e9,1e9)}for(x=0;x<f;x++){let P,_=g[x],B=_.x,z,G,N=_.y,V=_.low,q=l&&p.stacking?.stacks[(this.negStacks&&N<(w?0:S)?"-":"")+this.stackKey];E=c.translate(B,!1,!1,!1,!0,m),_.plotX=qt(E)?Qy(T(E)):void 0,l&&this.visible&&q&&q[B]&&(I=this.getStackIndicator(I,B,this.index),!_.isNull&&I.key&&(G=(z=q[B]).points[I.key]),z&&iw(G)&&(V=G[0],N=G[1],V===w&&I.key===q[B].base&&(V=gt(qt(S)?S:p.min)),p.positiveValuesOnly&&Vt(V)&&V<=0&&(V=void 0),_.total=_.stackTotal=gt(z.total),_.percentage=Vt(_.y)&&z.total?_.y/z.total*100:void 0,_.stackY=N,this.irregularWidths||z.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),_.yBottom=Vt(V)?T(p.translate(V,!1,!0,!1,!0)):void 0,this.dataModify&&(N=this.dataModify.modifyValue(N,x)),qt(N)&&_.plotX!==void 0&&(P=qt(P=p.translate(N,!1,!0,!1,!0))?T(P):void 0),_.plotY=P,_.isInside=this.isPointInside(_),_.clientX=y?Qy(c.translate(B,!1,!1,!1,!0,m)):E,_.negative=(_.y||0)<(S||0),_.isNull||_.visible===!1||(M!==void 0&&(F=Math.min(F,Math.abs(E-M))),M=E),_.zone=this.zones.length?_.getZone():void 0,!_.graphic&&this.group&&u&&(_.isNew=!0)}this.closestPointRangePx=F,pt(this,"afterTranslate")}getValidPoints(o,l,c){let u=this.chart;return(o||this.points||[]).filter(function(p){let{plotX:g,plotY:f}=p;return!!((c||!p.isNull&&qt(f))&&(!l||u.isInsidePlot(g,f,{inverted:u.inverted})))&&p.visible!==!1})}getClipBox(){let{chart:o,xAxis:l,yAxis:c}=this,{x:u,y:p,width:g,height:f}=bo(o.clipBox);return l&&l.len!==o.plotSizeX&&(g=l.len),c&&c.len!==o.plotSizeY&&(f=c.len),o.inverted&&!this.invertible&&([g,f]=[f,g]),{x:u,y:p,width:g,height:f}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:o,group:l,markerGroup:c}=this,u=o.sharedClips,p=o.renderer,g=this.getClipBox(),f=this.getSharedClipKey(),m=u[f];m?m.animate(g):u[f]=m=p.clipRect(g),l&&l.clip(this.options.clip===!1?void 0:m),c&&c.clip()}animate(o){let{chart:l,group:c,markerGroup:u}=this,p=l.inverted,g=Yy(this.options.animation),f=[this.getSharedClipKey(),g.duration,g.easing,g.defer].join(","),m=l.sharedClips[f],y=l.sharedClips[f+"m"];if(o&&c){let S=this.getClipBox();if(m)m.attr("height",S.height);else{S.width=0,p&&(S.x=l.plotHeight),m=l.renderer.clipRect(S),l.sharedClips[f]=m;let w={x:-99,y:-99,width:p?l.plotWidth+199:99,height:p?99:l.plotHeight+199};y=l.renderer.clipRect(w),l.sharedClips[f+"m"]=y}c.clip(m),u?.clip(y)}else if(m&&!m.hasClass("highcharts-animating")){let S=this.getClipBox(),w=g.step;(u?.element.childNodes.length||l.series.length>1)&&(g.step=function(x,E){w&&w.apply(E,arguments),E.prop==="width"&&y?.element&&y.attr(p?"height":"width",x+99)}),m.addClass("highcharts-animating").animate(S,g)}}afterAnimate(){this.setClip(),tg(this.chart.sharedClips,(o,l,c)=>{o&&!this.chart.container.querySelector(`[clip-path="url(#${o.id})"]`)&&(o.destroy(),delete c[l])}),this.finishedAnimating=!0,pt(this,"afterAnimate")}drawPoints(o=this.points){let l,c,u,p,g,f,m,y=this.chart,S=y.styledMode,{colorAxis:w,options:x}=this,E=x.marker,M=this[this.specialGroup||"markerGroup"],I=this.xAxis,F=gt(E.enabled,!I||!!I.isRadial||null,this.closestPointRangePx>=E.enabledThreshold*E.radius);if(E.enabled!==!1||this._hasPointMarkers)for(l=0;l<o.length;l++)if(p=(u=(c=o[l]).graphic)?"animate":"attr",g=c.marker||{},f=!!c.marker,(F&&g.enabled===void 0||g.enabled)&&!c.isNull&&c.visible!==!1){let T=gt(g.symbol,this.symbol,"rect");m=this.markerAttribs(c,c.selected&&"select"),this.enabledDataSorting&&(c.startXPos=I.reversed?-(m.width||0):I.width);let P=c.isInside!==!1;if(!u&&P&&((m.width||0)>0||c.hasImage)&&(c.graphic=u=y.renderer.symbol(T,m.x,m.y,m.width,m.height,f?g:E).add(M),this.enabledDataSorting&&y.hasRendered&&(u.attr({x:c.startXPos}),p="animate")),u&&p==="animate"&&u[P?"show":"hide"](P).animate(m),u){let _=this.pointAttribs(c,S||!c.selected?void 0:"select");S?w&&u.css({fill:_.fill}):u[p](_)}u&&u.addClass(c.getClassName(),!0)}else u&&(c.graphic=u.destroy())}markerAttribs(o,l){let c=this.options,u=c.marker,p=o.marker||{},g=p.symbol||u.symbol,f={},m,y,S=gt(p.radius,u&&u.radius);l&&(m=u.states[l],S=gt((y=p.states&&p.states[l])&&y.radius,m&&m.radius,S&&S+(m&&m.radiusPlus||0))),o.hasImage=g&&g.indexOf("url")===0,o.hasImage&&(S=0);let w=o.pos();return qt(S)&&w&&(c.crisp&&(w[0]=SP(w[0],o.hasImage?0:g==="rect"?u?.lineWidth||0:1)),f.x=w[0]-S,f.y=w[1]-S),S&&(f.width=f.height=2*S),f}pointAttribs(o,l){let c=this.options.marker,u=o&&o.options,p=u&&u.marker||{},g=u&&u.color,f=o&&o.color,m=o&&o.zone&&o.zone.color,y,S,w=this.color,x,E,M=gt(p.lineWidth,c.lineWidth),I=1;return w=g||m||f||w,x=p.fillColor||c.fillColor||w,E=p.lineColor||c.lineColor||w,l=l||"normal",y=c.states[l]||{},M=gt((S=p.states&&p.states[l]||{}).lineWidth,y.lineWidth,M+gt(S.lineWidthPlus,y.lineWidthPlus,0)),x=S.fillColor||y.fillColor||x,{stroke:E=S.lineColor||y.lineColor||E,"stroke-width":M,fill:x,opacity:I=gt(S.opacity,y.opacity,I)}}destroy(o){let l,c,u,p=this,g=p.chart,f=/AppleWebKit\/533/.test(wP.navigator.userAgent),m=p.data||[];for(pt(p,"destroy",{keepEventsForUpdate:o}),this.removeEvents(o),(p.axisTypes||[]).forEach(function(y){(u=p[y])&&u.series&&(Jy(u.series,p),u.isDirty=u.forceRedraw=!0)}),p.legendItem&&p.chart.legend.destroyItem(p),l=m.length;l--;)(c=m[l])&&c.destroy&&c.destroy();for(let y of p.zones)xP(y,void 0,!0);he.clearTimeout(p.animationTimeout),tg(p,function(y,S){y instanceof Fs&&!y.survive&&y[f&&S==="group"?"hide":"destroy"]()}),g.hoverSeries===p&&(g.hoverSeries=void 0),Jy(g.series,p),g.orderItems("series"),tg(p,function(y,S){o&&S==="hcEvents"||delete p[S]})}applyZones(){let{area:o,chart:l,graph:c,zones:u,points:p,xAxis:g,yAxis:f,zoneAxis:m}=this,{inverted:y,renderer:S}=l,w=this[`${m}Axis`],{isXAxis:x,len:E=0,minPointOffset:M=0}=w||{},I=(c?.strokeWidth()||0)/2+1,F=(T,P=0,_=0)=>{y&&(_=E-_);let{translated:B=0,lineClip:z}=T,G=_-B;z?.push(["L",P,Math.abs(G)<I?_-I*(G<=0?-1:1):B])};if(u.length&&(c||o)&&w&&qt(w.min)){let T=w.getExtremes().max+M,P=z=>{z.forEach((G,N)=>{(G[0]==="M"||G[0]==="L")&&(z[N]=[G[0],x?E-G[1]:G[1],x?G[2]:E-G[2]])})};if(u.forEach(z=>{z.lineClip=[],z.translated=Zy(w.toPixels(gt(z.value,T),!0)||0,0,E)}),c&&!this.showLine&&c.hide(),o&&o.hide(),m==="y"&&p.length<g.len)for(let z of p){let{plotX:G,plotY:N,zone:V}=z,q=V&&u[u.indexOf(V)-1];V&&F(V,G,N),q&&F(q,G,N)}let _=[],B=w.toPixels(w.getExtremes().min-M,!0);u.forEach(z=>{let G=z.lineClip||[],N=Math.round(z.translated||0);g.reversed&&G.reverse();let{clip:V,simpleClip:q}=z,Y=0,J=0,re=g.len,ne=f.len;x?(Y=N,re=B):(J=N,ne=B);let ae=[["M",Y,J],["L",re,J],["L",re,ne],["L",Y,ne],["Z"]],de=[ae[0],...G,ae[1],ae[2],..._,ae[3],ae[4]];_=G.reverse(),B=N,y&&(P(de),o&&P(ae)),V?(V.animate({d:de}),q?.animate({d:ae})):(V=z.clip=S.path(de),o&&(q=z.simpleClip=S.path(ae))),c&&z.graph?.clip(V),o&&z.area?.clip(q)})}else this.visible&&(c&&c.show(),o&&o.show())}plotGroup(o,l,c,u,p){let g=this[o],f=!g,m={visibility:c,zIndex:u||.1};return Vt(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(m.opacity=this.opacity),g||(this[o]=g=this.chart.renderer.g().add(p)),g.addClass("highcharts-"+l+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Vt(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(g.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),g.attr(m)[f?"attr":"animate"](this.getPlotBox(l)),g}getPlotBox(o){let l=this.xAxis,c=this.yAxis,u=this.chart,p=u.inverted&&!u.polar&&l&&this.invertible&&o==="series";return u.inverted&&(l=c,c=this.xAxis),{translateX:l?l.left:u.plotLeft,translateY:c?c.top:u.plotTop,rotation:p?90:0,rotationOriginX:p?(l.len-c.len)/2:0,rotationOriginY:p?(l.len+c.len)/2:0,scaleX:p?-1:1,scaleY:1}}removeEvents(o){let{eventsToUnbind:l}=this;o||TP(this),l.length&&(l.forEach(c=>{c()}),l.length=0)}render(){let o=this,{chart:l,options:c,hasRendered:u}=o,p=Yy(c.animation),g=o.visible?"inherit":"hidden",f=c.zIndex,m=l.seriesGroup,y=o.finishedAnimating?0:p.duration;pt(this,"render"),o.plotGroup("group","series",g,f,m),o.markerGroup=o.plotGroup("markerGroup","markers",g,f,m),c.clip!==!1&&o.setClip(),y&&o.animate?.(!0),o.drawGraph&&(o.drawGraph(),o.applyZones()),o.visible&&o.drawPoints(),o.drawDataLabels?.(),o.redrawPoints?.(),c.enableMouseTracking&&o.drawTracker?.(),y&&o.animate?.(),u||(y&&p.defer&&(y+=p.defer),o.animationTimeout=sw(()=>{o.afterAnimate()},y||0)),o.isDirty=!1,o.hasRendered=!0,pt(o,"afterRender")}redraw(){let o=this.isDirty||this.isDirtyData;this.translate(),this.render(),o&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(o,l){let{xAxis:c,yAxis:u}=this,p=this.chart.inverted;return this.searchKDTree({clientX:p?c.len-o.chartY+c.pos:o.chartX-c.pos,plotY:p?u.len-o.chartX+u.pos:o.chartY-u.pos},l,o)}buildKDTree(o){this.buildingKdTree=!0;let l=this,c=l.options.findNearestPointBy.indexOf("y")>-1?2:1;delete l.kdTree,sw(function(){l.kdTree=function u(p,g,f){let m,y,S=p?.length;if(S)return m=l.kdAxisArray[g%f],p.sort((w,x)=>(w[m]||0)-(x[m]||0)),{point:p[y=Math.floor(S/2)],left:u(p.slice(0,y),g+1,f),right:u(p.slice(y+1),g+1,f)}}(l.getValidPoints(void 0,!l.directTouch),c,c),l.buildingKdTree=!1},l.options.kdNow||o?.type==="touchstart"?0:1)}searchKDTree(o,l,c,u,p){let g=this,[f,m]=this.kdAxisArray,y=l?"distX":"dist",S=(g.options.findNearestPointBy||"").indexOf("y")>-1?2:1,w=!!g.isBubble,x=u||((M,I,F)=>[(M[F]||0)<(I[F]||0)?M:I,!1]),E=p||((M,I)=>M<I);if(this.kdTree||this.buildingKdTree||this.buildKDTree(c),this.kdTree)return function M(I,F,T,P){let _=F.point,B=g.kdAxisArray[T%P],z=_,G=!1;(function(Y,J){let re=Y[f],ne=J[f],ae=Vt(re)&&Vt(ne)?re-ne:null,de=Y[m],oe=J[m],Me=Vt(de)&&Vt(oe)?de-oe:0,we=w&&J.marker?.radius||0;J.dist=Math.sqrt((ae&&ae*ae||0)+Me*Me)-we,J.distX=Vt(ae)?Math.abs(ae)-we:Number.MAX_VALUE})(I,_);let N=(I[B]||0)-(_[B]||0)+(w&&_.marker?.radius||0),V=N<0?"left":"right",q=N<0?"right":"left";return F[V]&&([z,G]=x(_,M(I,F[V],T+1,P),y)),F[q]&&E(Math.sqrt(N*N),z[y],G)&&(z=x(z,M(I,F[q],T+1,P),y)[0]),z}(o,this.kdTree,S,S)}pointPlacementToXValue(){let{options:o,xAxis:l}=this,c=o.pointPlacement;return c==="between"&&(c=l.reversed?-.5:.5),qt(c)?c*(o.pointRange||l.pointRange):0}isPointInside(o){let{chart:l,xAxis:c,yAxis:u}=this,{plotX:p=-1,plotY:g=-1}=o;return g>=0&&g<=(u?u.len:l.plotHeight)&&p>=0&&p<=(c?c.len:l.plotWidth)}drawTracker(){let o=this,l=o.options,c=l.trackByArea,u=[].concat((c?o.areaPath:o.graphPath)||[]),p=o.chart,g=p.pointer,f=p.renderer,m=p.options.tooltip?.snap||0,y=()=>{l.enableMouseTracking&&p.hoverSeries!==o&&o.onMouseOver()},S="rgba(192,192,192,"+(yP?1e-4:.002)+")",w=o.tracker;w?w.attr({d:u}):o.graph&&(o.tracker=w=f.path(u).attr({visibility:o.visible?"inherit":"hidden",zIndex:2}).addClass(c?"highcharts-tracker-area":"highcharts-tracker-line").add(o.group),p.styledMode||w.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:S,fill:c?S:"none","stroke-width":o.graph.strokeWidth()+(c?0:2*m)}),[o.tracker,o.markerGroup,o.dataLabelsGroup].forEach(x=>{x&&(x.addClass("highcharts-tracker").on("mouseover",y).on("mouseout",E=>{g?.onTrackerMouseOut(E)}),l.cursor&&!p.styledMode&&x.css({cursor:l.cursor}),x.on("touchstart",y))})),pt(this,"afterDrawTracker")}addPoint(o,l,c,u,p){let g,f,m=this.options,{chart:y,data:S,dataTable:w,xAxis:x}=this,E=x&&x.hasNames&&x.names,M=m.data,I=this.getColumn("x");l=gt(l,!0);let F={series:this};this.pointClass.prototype.applyOptions.apply(F,[o]);let T=F.x;if(f=I.length,this.requireSorting&&T<I[f-1])for(g=!0;f&&I[f-1]>T;)f--;w.setRow(F,f,!0,{addColumns:!1}),E&&F.name&&(E[T]=F.name),M?.splice(f,0,o),(g||this.processedData)&&(this.data.splice(f,0,null),this.processData()),m.legendType==="point"&&this.generatePoints(),c&&(S[0]&&S[0].remove?S[0].remove(!1):([S,M,...Object.values(w.getColumns())].filter(Vt).forEach(P=>{P.shift()}),w.rowCount-=1,pt(w,"afterDeleteRows"))),p!==!1&&pt(this,"addPoint",{point:F}),this.isDirty=!0,this.isDirtyData=!0,l&&y.redraw(u)}removePoint(o,l,c){let u=this,{chart:p,data:g,points:f,dataTable:m}=u,y=g[o],S=function(){[f?.length===g.length?f:void 0,g,u.options.data,...Object.values(m.getColumns())].filter(Vt).forEach(w=>{w.splice(o,1)}),m.rowCount-=1,pt(m,"afterDeleteRows"),y?.destroy(),u.isDirty=!0,u.isDirtyData=!0,l&&p.redraw()};CP(c,p),l=gt(l,!0),y?y.firePointEvent("remove",null,S):S()}remove(o,l,c,u){let p=this,g=p.chart;function f(){p.destroy(u),g.isDirtyLegend=g.isDirtyBox=!0,g.linkSeries(u),gt(o,!0)&&g.redraw(l)}c!==!1?pt(p,"remove",null,f):f()}update(o,l){pt(this,"update",{options:o=DP(o,this.userOptions)});let c=this,u=c.chart,p=c.userOptions,g=c.initialType||c.type,f=u.options.plotOptions,m=vo[g].prototype,y=c.finishedAnimating&&{animation:!1},S={},w,x,E=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],M=o.type||p.type||u.options.chart.type,I=!(this.hasDerivedData||M&&M!==this.type||o.keys!==void 0||o.pointStart!==void 0||o.pointInterval!==void 0||o.relativeXValue!==void 0||o.joinBy||o.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(T=>c.hasOptionChanged(T)));M=M||g,I?(E.push("data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),o.visible!==!1&&E.push("area","graph"),c.parallelArrays.forEach(function(T){E.push(T+"Data")}),o.data&&(o.dataSorting&&Co(c.options.dataSorting,o.dataSorting),this.setData(o.data,!1))):this.dataTable.modified=this.dataTable,o=bo(p,{index:p.index===void 0?c.index:p.index,pointStart:f?.series?.pointStart??p.pointStart??c.getColumn("x")[0]},!I&&{data:c.options.data},o,y),I&&o.data&&(o.data=c.options.data),(E=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(E)).forEach(function(T){E[T]=c[T],delete c[T]});let F=!1;if(vo[M]){if(F=M!==c.type,c.remove(!1,!1,!1,!0),F)if(u.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(c,vo[M].prototype);else{let T=Object.hasOwnProperty.call(c,"hcEvents")&&c.hcEvents;for(x in m)c[x]=void 0;Co(c,vo[M].prototype),T?c.hcEvents=T:delete c.hcEvents}}else Qc(17,!0,u,{missingModuleFor:M});if(E.forEach(function(T){c[T]=E[T]}),c.init(u,o),I&&this.points)for(let T of((w=c.options).visible===!1?(S.graphic=1,S.dataLabel=1):(this.hasMarkerChanged(w,p)&&(S.graphic=1),c.hasDataLabels?.()||(S.dataLabel=1)),this.points))T&&T.series&&(T.resolveColor(),Object.keys(S).length&&T.destroyElements(S),w.showInLegend===!1&&T.legendItem&&u.legend.destroyItem(T));c.initialType=g,u.linkSeries(),u.setSortedData(),F&&c.linkedSeries.length&&(c.isDirtyData=!0),pt(this,"afterUpdate"),gt(l,!0)&&u.redraw(!!I&&void 0)}setName(o){this.name=this.options.name=this.userOptions.name=o,this.chart.isDirtyLegend=!0}hasOptionChanged(o){let l=this.chart,c=this.options[o],u=l.options.plotOptions,p=this.userOptions[o],g=gt(u?.[this.type]?.[o],u?.series?.[o]);return p&&!Vt(g)?c!==p:c!==gt(g,c)}onMouseOver(){let o=this.chart,l=o.hoverSeries;o.pointer?.setHoverChartIndex(),l&&l!==this&&l.onMouseOut(),this.options.events.mouseOver&&pt(this,"mouseOver"),this.setState("hover"),o.hoverSeries=this}onMouseOut(){let o=this.options,l=this.chart,c=l.tooltip,u=l.hoverPoint;l.hoverSeries=null,u&&u.onMouseOut(),this&&o.events.mouseOut&&pt(this,"mouseOut"),c&&!this.stickyTracking&&(!c.shared||this.noSharedTooltip)&&c.hide(),l.series.forEach(function(p){p.setState("",!0)})}setState(o,l){let c=this,u=c.options,p=c.graph,g=u.inactiveOtherPoints,f=u.states,m=gt(f[o||"normal"]&&f[o||"normal"].animation,c.chart.options.chart.animation),y=u.lineWidth,S=u.opacity;if(o=o||"",c.state!==o&&([c.group,c.markerGroup,c.dataLabelsGroup].forEach(function(w){w&&(c.state&&w.removeClass("highcharts-series-"+c.state),o&&w.addClass("highcharts-series-"+o))}),c.state=o,!c.chart.styledMode)){if(f[o]&&f[o].enabled===!1)return;if(o&&(y=f[o].lineWidth||y+(f[o].lineWidthPlus||0),S=gt(f[o].opacity,S)),p&&!p.dashstyle&&qt(y))for(let w of[p,...this.zones.map(x=>x.graph)])w?.animate({"stroke-width":y},m);g||[c.group,c.markerGroup,c.dataLabelsGroup,c.labelBySeries].forEach(function(w){w&&w.animate({opacity:S},m)})}l&&g&&c.points&&c.setAllPointsToState(o||void 0)}setAllPointsToState(o){this.points.forEach(function(l){l.setState&&l.setState(o)})}setVisible(o,l){let c=this,u=c.chart,p=u.options.chart.ignoreHiddenSeries,g=c.visible;c.visible=o=c.options.visible=c.userOptions.visible=o===void 0?!g:o;let f=o?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(m=>{c[m]?.[f]()}),(u.hoverSeries===c||u.hoverPoint?.series===c)&&c.onMouseOut(),c.legendItem&&u.legend.colorizeItem(c,o),c.isDirty=!0,c.options.stacking&&u.series.forEach(m=>{m.options.stacking&&m.visible&&(m.isDirty=!0)}),c.linkedSeries.forEach(m=>{m.setVisible(o,!1)}),p&&(u.isDirtyBox=!0),pt(c,f),l!==!1&&u.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(o){this.selected=o=this.options.selected=o===void 0?!this.selected:o,this.checkbox&&(this.checkbox.checked=o),pt(this,o?"select":"unselect")}shouldShowTooltip(o,l,c={}){return c.series=this,c.visiblePlotOnly=!0,this.chart.isInsidePlot(o,l,c)}drawLegendSymbol(o,l){Ky[this.options.legendSymbol||"rectangle"]?.call(this,o,l)}}yo.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:C}=this.series.chart;return typeof this.y!="number"?"":C(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},yo.types=xt.seriesTypes,yo.registerType=xt.registerSeriesType,Co(yo.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Ln,requireSorting:!0,sorted:!0}),xt.series=yo;let Ni=yo,{animObject:IP,setAnimation:AP}=si,{registerEventOptions:nw}=Lc,{composed:FP,marginNames:rw}=W,{distribute:PP}=Mc,{format:_P}=rs,{addEvent:Jc,createElement:kP,css:LP,defined:ig,discardElement:OP,find:NP,fireEvent:sn,isNumber:ow,merge:vr,pick:Ui,pushUnique:BP,relativeLength:GP,stableSort:VP,syncTimeout:HP}=he;class sg{constructor(o,l){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=o,this.setOptions(l),l.enabled&&(this.render(),nw(this,l),Jc(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Jc(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(o){let l=Ui(o.padding,8);this.options=o,this.chart.styledMode||(this.itemStyle=o.itemStyle,this.itemHiddenStyle=vr(this.itemStyle,o.itemHiddenStyle)),this.itemMarginTop=o.itemMarginTop,this.itemMarginBottom=o.itemMarginBottom,this.padding=l,this.initialItemY=l-5,this.symbolWidth=Ui(o.symbolWidth,16),this.pages=[],this.proximate=o.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(o,l){let c=this.chart;this.setOptions(vr(!0,this.options,o)),"events"in this.options&&nw(this,this.options),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,Ui(l,!0)&&c.redraw(),sn(this,"afterUpdate",{redraw:l})}colorizeItem(o,l){let c=o.color,{area:u,group:p,label:g,line:f,symbol:m}=o.legendItem||{};if((o instanceof Ni||o instanceof Ln)&&(o.color=o.options?.legendSymbolColor||c),p?.[l?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:y={}}=this,S=y.color,{fillColor:w,fillOpacity:x,lineColor:E,marker:M}=o.options,I=F=>(!l&&(F.fill&&(F.fill=S),F.stroke&&(F.stroke=S)),F);g?.css(vr(l?this.itemStyle:y)),f?.attr(I({stroke:E||o.color})),m&&m.attr(I(M&&m.isMarker?o.pointAttribs():{fill:o.color})),u?.attr(I({fill:w||o.color,"fill-opacity":w?1:x??.75}))}o.color=c,sn(this,"afterColorizeItem",{item:o,visible:l})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(o){let{group:l,x:c=0,y:u=0}=o.legendItem||{},p=this.options,g=p.symbolPadding,f=!p.rtl,m=o.checkbox;if(l&&l.element){let y={translateX:f?c:this.legendWidth-c-2*g-4,translateY:u};l[ig(l.translateY)?"animate":"attr"](y,void 0,()=>{sn(this,"afterPositionItem",{item:o})})}m&&(m.x=c,m.y=u)}destroyItem(o){let l=o.checkbox,c=o.legendItem||{};for(let u of["group","label","line","symbol"])c[u]&&(c[u]=c[u].destroy());l&&OP(l),o.legendItem=void 0}destroy(){for(let o of this.getAllItems())this.destroyItem(o);for(let o of["clipRect","up","down","pager","nav","box","title","group"])this[o]&&(this[o]=this[o].destroy());this.display=null}positionCheckboxes(){let o,l=this.group&&this.group.alignAttr,c=this.clipHeight||this.legendHeight,u=this.titleHeight;l&&(o=l.translateY,this.allItems.forEach(function(p){let g,f=p.checkbox;f&&(g=o+u+f.y+(this.scrollOffset||0)+3,LP(f,{left:l.translateX+p.checkboxOffset+f.x-20+"px",top:g+"px",display:this.proximate||g>o-6&&g<o+c-6?"":"none"}))},this))}renderTitle(){let o=this.options,l=this.padding,c=o.title,u,p=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,l-3,l-4,void 0,void 0,void 0,o.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(c.style),this.title.add(this.group)),c.width||this.title.css({width:this.maxLegendWidth+"px"}),p=(u=this.title.getBBox()).height,this.offsetWidth=u.width,this.contentGroup.attr({translateY:p})),this.titleHeight=p}setText(o){let l=this.options;o.legendItem.label.attr({text:l.labelFormat?_P(l.labelFormat,o,this.chart):l.labelFormatter.call(o)})}renderItem(o){let l=o.legendItem=o.legendItem||{},c=this.chart,u=c.renderer,p=this.options,g=p.layout==="horizontal",f=this.symbolWidth,m=p.symbolPadding||0,y=this.itemStyle,S=this.itemHiddenStyle,w=g?Ui(p.itemDistance,20):0,x=!p.rtl,E=!o.series,M=!E&&o.series.drawLegendSymbol?o.series:o,I=M.options,F=!!this.createCheckboxForItem&&I&&I.showCheckbox,T=p.useHTML,P=o.options.className,_=l.label,B=f+m+w+(F?20:0);!_&&(l.group=u.g("legend-item").addClass("highcharts-"+M.type+"-series highcharts-color-"+o.colorIndex+(P?" "+P:"")+(E?" highcharts-series-"+o.index:"")).attr({zIndex:1}).add(this.scrollGroup),l.label=_=u.text("",x?f+m:-m,this.baseline||0,T),c.styledMode||_.css(vr(o.visible?y:S)),_.attr({align:x?"left":"right",zIndex:2}).add(l.group),!this.baseline&&(this.fontMetrics=u.fontMetrics(_),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,_.attr("y",this.baseline),this.symbolHeight=Ui(p.symbolHeight,this.fontMetrics.f),p.squareSymbol&&(this.symbolWidth=Ui(p.symbolWidth,Math.max(this.symbolHeight,16)),B=this.symbolWidth+m+w+(F?20:0),x&&_.attr("x",this.symbolWidth+m))),M.drawLegendSymbol(this,o),this.setItemEvents&&this.setItemEvents(o,_,T)),F&&!o.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(o),this.colorizeItem(o,o.visible),(c.styledMode||!y.width)&&_.css({width:(p.itemWidth||this.widthOption||c.spacingBox.width)-B+"px"}),this.setText(o);let z=_.getBBox(),G=this.fontMetrics&&this.fontMetrics.h||0;o.itemWidth=o.checkboxOffset=p.itemWidth||l.labelWidth||z.width+B,this.maxItemWidth=Math.max(this.maxItemWidth,o.itemWidth),this.totalItemWidth+=o.itemWidth,this.itemHeight=o.itemHeight=Math.round(l.labelHeight||(z.height>1.5*G?z.height:G))}layoutItem(o){let l=this.options,c=this.padding,u=l.layout==="horizontal",p=o.itemHeight,g=this.itemMarginBottom,f=this.itemMarginTop,m=u?Ui(l.itemDistance,20):0,y=this.maxLegendWidth,S=l.alignColumns&&this.totalItemWidth>y?this.maxItemWidth:o.itemWidth,w=o.legendItem||{};u&&this.itemX-c+S>y&&(this.itemX=c,this.lastLineHeight&&(this.itemY+=f+this.lastLineHeight+g),this.lastLineHeight=0),this.lastItemY=f+this.itemY+g,this.lastLineHeight=Math.max(p,this.lastLineHeight),w.x=this.itemX,w.y=this.itemY,u?this.itemX+=S:(this.itemY+=f+p+g,this.lastLineHeight=p),this.offsetWidth=this.widthOption||Math.max((u?this.itemX-c-(o.checkbox?0:m):S)+c,this.offsetWidth)}getAllItems(){let o=[];return this.chart.series.forEach(function(l){let c=l&&l.options;l&&Ui(c.showInLegend,!ig(c.linkedTo)&&void 0,!0)&&(o=o.concat((l.legendItem||{}).labels||(c.legendType==="point"?l.data:l)))}),sn(this,"afterGetAllItems",{allItems:o}),o}getAlignment(){let o=this.options;return this.proximate?o.align.charAt(0)+"tv":o.floating?"":o.align.charAt(0)+o.verticalAlign.charAt(0)+o.layout.charAt(0)}adjustMargins(o,l){let c=this.chart,u=this.options,p=this.getAlignment();p&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(g,f){g.test(p)&&!ig(o[f])&&(c[rw[f]]=Math.max(c[rw[f]],c.legend[(f+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][f]*u[f%2?"x":"y"]+Ui(u.margin,12)+l[f]+(c.titleOffset[f]||0)))})}proximatePositions(){let o,l=this.chart,c=[],u=this.options.align==="left";for(let p of(this.allItems.forEach(function(g){let f,m,y=u,S,w;g.yAxis&&(g.xAxis.options.reversed&&(y=!y),g.points&&(f=NP(y?g.points:g.points.slice(0).reverse(),function(x){return ow(x.plotY)})),m=this.itemMarginTop+g.legendItem.label.getBBox().height+this.itemMarginBottom,w=g.yAxis.top-l.plotTop,S=g.visible?(f?f.plotY:g.yAxis.height)+(w-.3*m):w+g.yAxis.height,c.push({target:S,size:m,item:g}))},this),PP(c,l.plotHeight)))o=p.item.legendItem||{},ow(p.pos)&&(o.y=l.plotTop-l.spacing[0]+p.pos)}render(){let o=this.chart,l=o.renderer,c=this.options,u=this.padding,p=this.getAllItems(),g,f,m,y=this.group,S,w=this.box;this.itemX=u,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=GP(c.width,o.spacingBox.width-u),S=o.spacingBox.width-2*u-c.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(S/=2),this.maxLegendWidth=this.widthOption||S,y||(this.group=y=l.g("legend").addClass(c.className||"").attr({zIndex:7}).add(),this.contentGroup=l.g().attr({zIndex:1}).add(y),this.scrollGroup=l.g().add(this.contentGroup)),this.renderTitle(),VP(p,(x,E)=>(x.options&&x.options.legendIndex||0)-(E.options&&E.options.legendIndex||0)),c.reversed&&p.reverse(),this.allItems=p,this.display=g=!!p.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,p.forEach(this.renderItem,this),p.forEach(this.layoutItem,this),f=(this.widthOption||this.offsetWidth)+u,m=this.lastItemY+this.lastLineHeight+this.titleHeight,m=this.handleOverflow(m)+u,w||(this.box=w=l.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(y)),o.styledMode||w.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),f>0&&m>0&&w[w.placed?"animate":"attr"](w.crisp.call({},{x:0,y:0,width:f,height:m},w.strokeWidth())),y[g?"show":"hide"](),o.styledMode&&y.getStyle("display")==="none"&&(f=m=0),this.legendWidth=f,this.legendHeight=m,g&&this.align(),this.proximate||this.positionItems(),sn(this,"afterRender")}align(o=this.chart.spacingBox){let l=this.chart,c=this.options,u=o.y;/(lth|ct|rth)/.test(this.getAlignment())&&l.titleOffset[0]>0?u+=l.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&l.titleOffset[2]>0&&(u-=l.titleOffset[2]),u!==o.y&&(o=vr(o,{y:u})),l.hasRendered||(this.group.placed=!1),this.group.align(vr(c,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,o)}handleOverflow(o){let l=this,c=this.chart,u=c.renderer,p=this.options,g=p.y,f=p.verticalAlign==="top",m=this.padding,y=p.maxHeight,S=p.navigation,w=Ui(S.animation,!0),x=S.arrowSize||12,E=this.pages,M=this.allItems,I=function(N){typeof N=="number"?G.attr({height:N}):G&&(l.clipRect=G.destroy(),l.contentGroup.clip()),l.contentGroup.div&&(l.contentGroup.div.style.clip=N?"rect("+m+"px,9999px,"+(m+N)+"px,0)":"auto")},F=function(N){return l[N]=u.circle(0,0,1.3*x).translate(x/2,x/2).add(z),c.styledMode||l[N].attr("fill","rgba(0,0,0,0.0001)"),l[N]},T,P,_,B=c.spacingBox.height+(f?-g:g)-m,z=this.nav,G=this.clipRect;return p.layout!=="horizontal"||p.verticalAlign==="middle"||p.floating||(B/=2),y&&(B=Math.min(B,y)),E.length=0,o&&B>0&&o>B&&S.enabled!==!1?(this.clipHeight=T=Math.max(B-20-this.titleHeight-m,0),this.currentPage=Ui(this.currentPage,1),this.fullHeight=o,M.forEach((N,V)=>{let q=(_=N.legendItem||{}).y||0,Y=Math.round(_.label.getBBox().height),J=E.length;(!J||q-E[J-1]>T&&(P||q)!==E[J-1])&&(E.push(P||q),J++),_.pageIx=J-1,P&&((M[V-1].legendItem||{}).pageIx=J-1),V===M.length-1&&q+Y-E[J-1]>T&&q>E[J-1]&&(E.push(q),_.pageIx=J),q!==P&&(P=q)}),G||(G=l.clipRect=u.clipRect(0,m-2,9999,0),l.contentGroup.clip(G)),I(T),z||(this.nav=z=u.g().attr({zIndex:1}).add(this.group),this.up=u.symbol("triangle",0,0,x,x).add(z),F("upTracker").on("click",function(){l.scroll(-1,w)}),this.pager=u.text("",15,10).addClass("highcharts-legend-navigation"),!c.styledMode&&S.style&&this.pager.css(S.style),this.pager.add(z),this.down=u.symbol("triangle-down",0,0,x,x).add(z),F("downTracker").on("click",function(){l.scroll(1,w)})),l.scroll(0),o=B):z&&(I(),this.nav=z.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),o}scroll(o,l){let c=this.chart,u=this.pages,p=u.length,g=this.clipHeight,f=this.options.navigation,m=this.pager,y=this.padding,S=this.currentPage+o;S>p&&(S=p),S>0&&(l!==void 0&&AP(l,c),this.nav.attr({translateX:y,translateY:g+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(w){w.attr({class:S===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),m.attr({text:S+"/"+p}),[this.down,this.downTracker].forEach(function(w){w.attr({x:18+this.pager.getBBox().width,class:S===p?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),c.styledMode||(this.up.attr({fill:S===1?f.inactiveColor:f.activeColor}),this.upTracker.css({cursor:S===1?"default":"pointer"}),this.down.attr({fill:S===p?f.inactiveColor:f.activeColor}),this.downTracker.css({cursor:S===p?"default":"pointer"})),this.scrollOffset=-u[S-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=S,this.positionCheckboxes(),HP(()=>{sn(this,"afterScroll",{currentPage:S})},IP(Ui(l,c.renderer.globalAnimation,!0)).duration))}setItemEvents(o,l,c){let u=this,p=o.legendItem||{},g=u.chart.renderer.boxWrapper,f=o instanceof Ln,m=o instanceof Ni,y="highcharts-legend-"+(f?"point":"series")+"-active",S=u.chart.styledMode,w=c?[l,p.symbol]:[p.group],x=E=>{u.allItems.forEach(M=>{o!==M&&[M].concat(M.linkedSeries||[]).forEach(I=>{I.setState(E,!f)})})};for(let E of w)E&&E.on("mouseover",function(){o.visible&&x("inactive"),o.setState("hover"),o.visible&&g.addClass(y),S||l.css(u.options.itemHoverStyle)}).on("mouseout",function(){u.chart.styledMode||l.css(vr(o.visible?u.itemStyle:u.itemHiddenStyle)),x(""),g.removeClass(y),o.setState()}).on("click",function(M){let I=function(){o.setVisible&&o.setVisible(),x(o.visible?"inactive":"")};g.removeClass(y),sn(u,"itemClick",{browserEvent:M,legendItem:o},I),f?o.firePointEvent("legendItemClick",{browserEvent:M}):m&&sn(o,"legendItemClick",{browserEvent:M})})}createCheckboxForItem(o){o.checkbox=kP("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:o.selected,defaultChecked:o.selected},this.options.itemCheckboxStyle,this.chart.container),Jc(o.checkbox,"click",function(l){let c=l.target;sn(o.series||o,"checkboxClick",{checked:c.checked,item:o},function(){o.select()})})}}(function(C){C.compose=function(o){BP(FP,"Core.Legend")&&Jc(o,"beforeMargins",function(){this.legend=new C(this,this.options.legend)})}})(sg||(sg={}));let aw=sg,{animate:ng,animObject:zP,setAnimation:rg}=si,{defaultOptions:og}=Wi,{numberFormat:WP}=rs,{registerEventOptions:lw}=Lc,{charts:Cr,doc:$a,marginNames:cw,svg:jP,win:dw}=W,{seriesTypes:ag}=xt,{addEvent:lg,attr:uw,createElement:cg,css:cs,defined:Nn,diffObjects:hw,discardElement:UP,erase:$P,error:dg,extend:Bn,find:ug,fireEvent:$e,getAlignFactor:KP,getStyle:hg,isArray:qP,isNumber:wo,isObject:YP,isString:ed,merge:nn,objectEach:pg,pick:ni,pInt:XP,relativeLength:pw,removeEvent:gw,splat:td,syncTimeout:ZP,uniqueKey:QP}=he;class Gn{static chart(o,l,c){return new Gn(o,l,c)}constructor(o,l,c){this.sharedClips={};let u=[...arguments];(ed(o)||o.nodeName)&&(this.renderTo=u.shift()),this.init(u[0],u[1])}setZoomOptions(){let o=this.options.chart,l=o.zooming;this.zooming=be(U({},l),{type:ni(o.zoomType,l.type),key:ni(o.zoomKey,l.key),pinchType:ni(o.pinchType,l.pinchType),singleTouch:ni(o.zoomBySingleTouch,l.singleTouch,!1),resetButton:nn(l.resetButton,o.resetZoomButton)})}init(o,l){$e(this,"init",{args:arguments},function(){let c=nn(og,o),u=c.chart,p=this.renderTo||u.renderTo;this.userOptions=Bn({},o),(this.renderTo=ed(p)?$a.getElementById(p):p)||dg(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=l,this.isResizing=0,this.options=c,this.axes=[],this.series=[],this.locale=c.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new xp(Bn(c.time||{},{locale:this.locale})),c.time=this.time.options,this.numberFormatter=(u.numberFormatter||WP).bind(this),this.styledMode=u.styledMode,this.hasCartesianSeries=u.showAxes,this.index=Cr.length,Cr.push(this),W.chartCount++,lw(this,u),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),$e(this,"afterInit"),this.firstRender()})}initSeries(o){let l=this.options.chart,c=o.type||l.type,u=ag[c];u||dg(17,!0,this,{missingModuleFor:c});let p=new u;return typeof p.init=="function"&&p.init(this,o),p}setSortedData(){this.getSeriesOrderByLinks().forEach(function(o){o.points||o.data||!o.enabledDataSorting||o.setData(o.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(o,l){return o.linkedSeries.length||l.linkedSeries.length?l.linkedSeries.length-o.linkedSeries.length:0})}orderItems(o,l=0){let c=this[o],u=this.options[o]=td(this.options[o]).slice(),p=this.userOptions[o]=this.userOptions[o]?td(this.userOptions[o]).slice():[];if(this.hasRendered&&(u.splice(l),p.splice(l)),c)for(let g=l,f=c.length;g<f;++g){let m=c[g];m&&(m.index=g,m instanceof Ni&&(m.name=m.getName()),m.options.isInternal||(u[g]=m.options,p[g]=m.userOptions))}}isInsidePlot(o,l,c={}){let{inverted:u,plotBox:p,plotLeft:g,plotTop:f,scrollablePlotBox:m}=this,{scrollLeft:y=0,scrollTop:S=0}=c.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},w=c.series,x=c.visiblePlotOnly&&m||p,E=c.inverted?l:o,M=c.inverted?o:l,I={x:E,y:M,isInsidePlot:!0,options:c};if(!c.ignoreX){let F=w&&(u&&!this.polar?w.yAxis:w.xAxis)||{pos:g,len:1/0},T=c.paneCoordinates?F.pos+E:g+E;T>=Math.max(y+g,F.pos)&&T<=Math.min(y+g+x.width,F.pos+F.len)||(I.isInsidePlot=!1)}if(!c.ignoreY&&I.isInsidePlot){let F=!u&&c.axis&&!c.axis.isXAxis&&c.axis||w&&(u?w.xAxis:w.yAxis)||{pos:f,len:1/0},T=c.paneCoordinates?F.pos+M:f+M;T>=Math.max(S+f,F.pos)&&T<=Math.min(S+f+x.height,F.pos+F.len)||(I.isInsidePlot=!1)}return $e(this,"afterIsInsidePlot",I),I.isInsidePlot}redraw(o){$e(this,"beforeRedraw");let l=this.hasCartesianSeries?this.axes:this.colorAxis||[],c=this.series,u=this.pointer,p=this.legend,g=this.userOptions.legend,f=this.renderer,m=f.isHidden(),y=[],S,w,x,E=this.isDirtyBox,M=this.isDirtyLegend,I;for(f.rootFontSize=f.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),rg(!!this.hasRendered&&o,this),m&&this.temporaryDisplay(),this.layOutTitles(!1),x=c.length;x--;)if(((I=c[x]).options.stacking||I.options.centerInCategory)&&(w=!0,I.isDirty)){S=!0;break}if(S)for(x=c.length;x--;)(I=c[x]).options.stacking&&(I.isDirty=!0);c.forEach(function(F){F.isDirty&&(F.options.legendType==="point"?(typeof F.updateTotals=="function"&&F.updateTotals(),M=!0):g&&(g.labelFormatter||g.labelFormat)&&(M=!0)),F.isDirtyData&&$e(F,"updatedData")}),M&&p&&p.options.enabled&&(p.render(),this.isDirtyLegend=!1),w&&this.getStacks(),l.forEach(function(F){F.updateNames(),F.setScale()}),this.getMargins(),l.forEach(function(F){F.isDirty&&(E=!0)}),l.forEach(function(F){let T=F.min+","+F.max;F.extKey!==T&&(F.extKey=T,y.push(function(){$e(F,"afterSetExtremes",Bn(F.eventArgs,F.getExtremes())),delete F.eventArgs})),(E||w)&&F.redraw()}),E&&this.drawChartBox(),$e(this,"predraw"),c.forEach(function(F){(E||F.isDirty)&&F.visible&&F.redraw(),F.isDirtyData=!1}),u&&u.reset(!0),f.draw(),$e(this,"redraw"),$e(this,"render"),m&&this.temporaryDisplay(!0),y.forEach(function(F){F.call()})}get(o){let l=this.series;function c(p){return p.id===o||p.options&&p.options.id===o}let u=ug(this.axes,c)||ug(this.series,c);for(let p=0;!u&&p<l.length;p++)u=ug(l[p].points||[],c);return u}createAxes(){let o=this.userOptions;for(let l of($e(this,"createAxes"),["xAxis","yAxis"]))for(let c of o[l]=td(o[l]||{}))new $p(this,c,l);$e(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((o,l)=>(l.getPointsCollection().forEach(c=>{ni(c.selectedStaging,c.selected)&&o.push(c)}),o),[])}getSelectedSeries(){return this.series.filter(o=>o.selected)}setTitle(o,l,c){this.applyDescription("title",o),this.applyDescription("subtitle",l),this.applyDescription("caption",void 0),this.layOutTitles(c)}applyDescription(o,l){let c=this,u=this.options[o]=nn(this.options[o],l),p=this[o];p&&l&&(this[o]=p=p.destroy()),u&&!p&&((p=this.renderer.text(u.text,0,0,u.useHTML).attr({align:u.align,class:"highcharts-"+o,zIndex:u.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(g,f){c.applyDescription(o,g),c.layOutTitles(f)},this.styledMode||p.css(Bn(o==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},u.style)),p.textPxLength=p.getBBox().width,p.css({whiteSpace:u.style?.whiteSpace}),this[o]=p)}layOutTitles(o=!0){let l=[0,0,0],{options:c,renderer:u,spacingBox:p}=this;["title","subtitle","caption"].forEach(f=>{let m=this[f],y=this.options[f],S=nn(p),w=m?.textPxLength||0;if(m&&y){$e(this,"layOutTitle",{alignTo:S,key:f,textPxLength:w});let x=u.fontMetrics(m),E=x.b,M=x.h,I=y.verticalAlign||"top",F=I==="top",T=F&&y.minScale||1,P=f==="title"?F?-3:0:F?l[0]+2:0,_=Math.min(S.width/w,1),B=Math.max(T,_),z=nn({y:I==="bottom"?E:P+E},{align:f==="title"?_<T?"left":"center":this.title?.alignValue},y),G=y.width||(_>T?this.chartWidth:S.width)/B;m.alignValue!==z.align&&(m.placed=!1);let N=Math.round(m.css({width:`${G}px`}).getBBox(y.useHTML).height);if(z.height=N,m.align(z,!1,S).attr({align:z.align,scaleX:B,scaleY:B,"transform-origin":`${S.x+w*B*KP(z.align)} ${M}`}),!y.floating){let V=N*(N<1.2*M?1:B);I==="top"?l[0]=Math.ceil(l[0]+V):I==="bottom"&&(l[2]=Math.ceil(l[2]+V))}}},this),l[0]&&(c.title?.verticalAlign||"top")==="top"&&(l[0]+=c.title?.margin||0),l[2]&&c.caption?.verticalAlign==="bottom"&&(l[2]+=c.caption?.margin||0);let g=!this.titleOffset||this.titleOffset.join(",")!==l.join(",");this.titleOffset=l,$e(this,"afterLayOutTitles"),!this.isDirtyBox&&g&&(this.isDirtyBox=this.isDirtyLegend=g,this.hasRendered&&o&&this.isDirtyBox&&this.redraw())}getContainerBox(){let o=[].map.call(this.renderTo.children,c=>{if(c!==this.container){let u=c.style.display;return c.style.display="none",[c,u]}}),l={width:hg(this.renderTo,"width",!0)||0,height:hg(this.renderTo,"height",!0)||0};return o.filter(Boolean).forEach(([c,u])=>{c.style.display=u}),l}getChartSize(){let o=this.options.chart,l=o.width,c=o.height,u=this.getContainerBox(),p=u.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,l||u.width||600),this.chartHeight=Math.max(0,pw(c,this.chartWidth)||(p?400:u.height)),this.containerBox=u}temporaryDisplay(o){let l=this.renderTo,c;if(o)for(;l&&l.style;)l.hcOrigStyle&&(cs(l,l.hcOrigStyle),delete l.hcOrigStyle),l.hcOrigDetached&&($a.body.removeChild(l),l.hcOrigDetached=!1),l=l.parentNode;else for(;l&&l.style&&($a.body.contains(l)||l.parentNode||(l.hcOrigDetached=!0,$a.body.appendChild(l)),(hg(l,"display",!1)==="none"||l.hcOricDetached)&&(l.hcOrigStyle={display:l.style.display,height:l.style.height,overflow:l.style.overflow},c={display:"block",overflow:"hidden"},l!==this.renderTo&&(c.height=0),cs(l,c),l.offsetWidth||l.style.setProperty("display","block","important")),(l=l.parentNode)!==$a.body););}setClassName(o){this.container.className="highcharts-container "+(o||"")}getContainer(){let o,l=this.options,c=l.chart,u="data-highcharts-chart",p=QP(),g=this.renderTo,f=XP(uw(g,u));wo(f)&&Cr[f]&&Cr[f].hasRendered&&Cr[f].destroy(),uw(g,u,this.index),g.innerHTML=ht.emptyHTML,c.skipClone||g.offsetWidth||this.temporaryDisplay(),this.getChartSize();let m=this.chartHeight,y=this.chartWidth;cs(g,{overflow:"hidden"}),this.styledMode||(o=Bn({position:"relative",overflow:"hidden",width:y+"px",height:m+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},c.style||{}));let S=cg("div",{id:p},o,g);this.container=S,this.getChartSize(),y===this.chartWidth||(y=this.chartWidth,this.styledMode||cs(S,{width:ni(c.style?.width,y+"px")})),this.containerBox=this.getContainerBox(),this._cursor=S.style.cursor;let w=c.renderer||!jP?Oa.getRendererType(c.renderer):kc;if(this.renderer=new w(S,y,m,void 0,c.forExport,l.exporting&&l.exporting.allowHTML,this.styledMode),rg(void 0,this),this.setClassName(c.className),this.styledMode)for(let x in l.defs)this.renderer.definition(l.defs[x]);else this.renderer.setStyle(c.style);this.renderer.chartIndex=this.index,$e(this,"afterGetContainer")}getMargins(o){let{spacing:l,margin:c,titleOffset:u}=this;this.resetMargins(),u[0]&&!Nn(c[0])&&(this.plotTop=Math.max(this.plotTop,u[0]+l[0])),u[2]&&!Nn(c[2])&&(this.marginBottom=Math.max(this.marginBottom,u[2]+l[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(c,l),$e(this,"getMargins"),o||this.getAxisMargins()}getAxisMargins(){let o=this,l=o.axisOffset=[0,0,0,0],c=o.colorAxis,u=o.margin,p=function(g){g.forEach(function(f){f.visible&&f.getOffset()})};o.hasCartesianSeries?p(o.axes):c&&c.length&&p(c),cw.forEach(function(g,f){Nn(u[f])||(o[g]+=l[f])}),o.setChartSize()}getOptions(){return hw(this.userOptions,og)}reflow(o){let l=this,c=l.containerBox,u=l.getContainerBox();delete l.pointer?.chartPosition,!l.isPrinting&&!l.isResizing&&c&&u.width&&((u.width!==c.width||u.height!==c.height)&&(he.clearTimeout(l.reflowTimeout),l.reflowTimeout=ZP(function(){l.container&&l.setSize(void 0,void 0,!1)},o?100:0)),l.containerBox=u)}setReflow(){let o=this,l=c=>{o.options?.chart.reflow&&o.hasLoaded&&o.reflow(c)};if(typeof ResizeObserver=="function")new ResizeObserver(l).observe(o.renderTo);else{let c=lg(dw,"resize",l);lg(this,"destroy",c)}}setSize(o,l,c){let u=this,p=u.renderer;u.isResizing+=1,rg(c,u);let g=p.globalAnimation;u.oldChartHeight=u.chartHeight,u.oldChartWidth=u.chartWidth,o!==void 0&&(u.options.chart.width=o),l!==void 0&&(u.options.chart.height=l),u.getChartSize();let{chartWidth:f,chartHeight:m,scrollablePixelsX:y=0,scrollablePixelsY:S=0}=u;(u.isDirtyBox||f!==u.oldChartWidth||m!==u.oldChartHeight)&&(u.styledMode||(g?ng:cs)(u.container,{width:`${f+y}px`,height:`${m+S}px`},g),u.setChartSize(!0),p.setSize(f,m,g),u.axes.forEach(function(w){w.isDirty=!0,w.setScale()}),u.isDirtyLegend=!0,u.isDirtyBox=!0,u.layOutTitles(),u.getMargins(),u.redraw(g),u.oldChartHeight=void 0,$e(u,"resize"),setTimeout(()=>{u&&$e(u,"endResize")},zP(g).duration)),u.isResizing-=1}setChartSize(o){let l,c,u,p,{chartHeight:g,chartWidth:f,inverted:m,spacing:y,renderer:S}=this,w=this.clipOffset,x=Math[m?"floor":"round"];this.plotLeft=l=Math.round(this.plotLeft),this.plotTop=c=Math.round(this.plotTop),this.plotWidth=u=Math.max(0,Math.round(f-l-this.marginRight)),this.plotHeight=p=Math.max(0,Math.round(g-c-this.marginBottom)),this.plotSizeX=m?p:u,this.plotSizeY=m?u:p,this.spacingBox=S.spacingBox={x:y[3],y:y[0],width:f-y[3]-y[1],height:g-y[0]-y[2]},this.plotBox=S.plotBox={x:l,y:c,width:u,height:p},w&&(this.clipBox={x:x(w[3]),y:x(w[0]),width:x(this.plotSizeX-w[1]-w[3]),height:x(this.plotSizeY-w[0]-w[2])}),o||(this.axes.forEach(function(E){E.setAxisSize(),E.setAxisTranslation()}),S.alignElements()),$e(this,"afterSetChartSize",{skipAxes:o})}resetMargins(){$e(this,"resetMargins");let o=this,l=o.options.chart,c=l.plotBorderWidth||0,u=c/2;["margin","spacing"].forEach(function(p){let g=l[p],f=YP(g)?g:[g,g,g,g];["Top","Right","Bottom","Left"].forEach(function(m,y){o[p][y]=ni(l[p+m],f[y])})}),cw.forEach(function(p,g){o[p]=ni(o.margin[g],o.spacing[g])}),o.axisOffset=[0,0,0,0],o.clipOffset=[u,u,u,u],o.plotBorderWidth=c}drawChartBox(){let o=this.options.chart,l=this.renderer,c=this.chartWidth,u=this.chartHeight,p=this.styledMode,g=this.plotBGImage,f=o.backgroundColor,m=o.plotBackgroundColor,y=o.plotBackgroundImage,S=this.plotLeft,w=this.plotTop,x=this.plotWidth,E=this.plotHeight,M=this.plotBox,I=this.clipRect,F=this.clipBox,T=this.chartBackground,P=this.plotBackground,_=this.plotBorder,B,z,G,N="animate";T||(this.chartBackground=T=l.rect().addClass("highcharts-background").add(),N="attr"),p?B=z=T.strokeWidth():(z=(B=o.borderWidth||0)+(o.shadow?8:0),G={fill:f||"none"},(B||T["stroke-width"])&&(G.stroke=o.borderColor,G["stroke-width"]=B),T.attr(G).shadow(o.shadow)),T[N]({x:z/2,y:z/2,width:c-z-B%2,height:u-z-B%2,r:o.borderRadius}),N="animate",P||(N="attr",this.plotBackground=P=l.rect().addClass("highcharts-plot-background").add()),P[N](M),!p&&(P.attr({fill:m||"none"}).shadow(o.plotShadow),y&&(g?(y!==g.attr("href")&&g.attr("href",y),g.animate(M)):this.plotBGImage=l.image(y,S,w,x,E).add())),I?I.animate({width:F.width,height:F.height}):this.clipRect=l.clipRect(F),N="animate",_||(N="attr",this.plotBorder=_=l.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),p||_.attr({stroke:o.plotBorderColor,"stroke-width":o.plotBorderWidth||0,fill:"none"}),_[N](_.crisp({x:S,y:w,width:x,height:E},-_.strokeWidth())),this.isDirtyBox=!1,$e(this,"afterDrawChartBox")}propFromSeries(){let o,l,c,u=this,p=u.options.chart,g=u.options.series;["inverted","angular","polar"].forEach(function(f){for(l=ag[p.type],c=p[f]||l&&l.prototype[f],o=g&&g.length;!c&&o--;)(l=ag[g[o].type])&&l.prototype[f]&&(c=!0);u[f]=c})}linkSeries(o){let l=this,c=l.series;c.forEach(function(u){u.linkedSeries.length=0}),c.forEach(function(u){let{linkedTo:p}=u.options;if(ed(p)){let g;(g=p===":previous"?l.series[u.index-1]:l.get(p))&&g.linkedParent!==u&&(g.linkedSeries.push(u),u.linkedParent=g,g.enabledDataSorting&&u.setDataSortingOptions(),u.visible=ni(u.options.visible,g.options.visible,u.visible))}}),$e(this,"afterLinkSeries",{isUpdating:o})}renderSeries(){this.series.forEach(function(o){o.translate(),o.render()})}render(){let o=this.axes,l=this.colorAxis,c=this.renderer,u=this.options.chart.axisLayoutRuns||2,p=S=>{S.forEach(w=>{w.visible&&w.render()})},g=0,f=!0,m,y=0;for(let S of(this.setTitle(),$e(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),o)){let{options:w}=S,{labels:x}=w;if(this.hasCartesianSeries&&S.horiz&&S.visible&&x.enabled&&S.series.length&&S.coll!=="colorAxis"&&!this.polar){g=w.tickLength,S.createGroups();let E=new go(S,0,"",!0),M=E.createLabel("x",x);if(E.destroy(),M&&ni(x.reserveSpace,!wo(w.crossing))&&(g=M.getBBox().height+x.distance+Math.max(w.offset||0,0)),g){M?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-g,0);(f||m||u>1)&&y<u;){let S=this.plotWidth,w=this.plotHeight;for(let x of o)y===0?x.setScale():(x.horiz&&f||!x.horiz&&m)&&x.setTickInterval(!0);y===0?this.getAxisMargins():this.getMargins(),f=S/this.plotWidth>(y?1:1.1),m=w/this.plotHeight>(y?1:1.05),y++}this.drawChartBox(),this.hasCartesianSeries?p(o):l&&l.length&&p(l),this.seriesGroup||(this.seriesGroup=c.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(o){let l=this,c=nn(!0,this.options.credits,o);c.enabled&&!this.credits&&(this.credits=this.renderer.text(c.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){c.href&&(dw.location.href=c.href)}).attr({align:c.position.align,zIndex:8}),l.styledMode||this.credits.css(c.style),this.credits.add().align(c.position),this.credits.update=function(u){l.credits=l.credits.destroy(),l.addCredits(u)})}destroy(){let o,l=this,c=l.axes,u=l.series,p=l.container,g=p&&p.parentNode;for($e(l,"destroy"),l.renderer.forExport?$P(Cr,l):Cr[l.index]=void 0,W.chartCount--,l.renderTo.removeAttribute("data-highcharts-chart"),gw(l),o=c.length;o--;)c[o]=c[o].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),o=u.length;o--;)u[o]=u[o].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(f){let m=l[f];m&&m.destroy&&(l[f]=m.destroy())}),p&&(p.innerHTML=ht.emptyHTML,gw(p),g&&UP(p)),pg(l,function(f,m){delete l[m]})}firstRender(){let o=this,l=o.options;o.getContainer(),o.resetMargins(),o.setChartSize(),o.propFromSeries(),o.createAxes();let c=qP(l.series)?l.series:[];l.series=[],c.forEach(function(u){o.initSeries(u)}),o.linkSeries(),o.setSortedData(),$e(o,"beforeRender"),o.render(),o.pointer?.getChartPosition(),o.renderer.imgCount||o.hasLoaded||o.onload(),o.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(o){o&&this.index!==void 0&&o.apply(this,[this])},this),$e(this,"load"),$e(this,"render"),Nn(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:o,title:l}=this;!o||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(l&&l.element.textContent||"").replace(/</g,"&lt;")}),o.accessibility&&o.accessibility.enabled===!1||dg('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(o,l,c){let u,p=this;return o&&(l=ni(l,!0),$e(p,"addSeries",{options:o},function(){u=p.initSeries(o),p.isDirtyLegend=!0,p.linkSeries(),u.enabledDataSorting&&u.setData(o.data,!1),$e(p,"afterAddSeries",{series:u}),l&&p.redraw(c)})),u}addAxis(o,l,c,u){return this.createAxis(l?"xAxis":"yAxis",{axis:o,redraw:c,animation:u})}addColorAxis(o,l,c){return this.createAxis("colorAxis",{axis:o,redraw:l,animation:c})}createAxis(o,l){let c=new $p(this,l.axis,o);return ni(l.redraw,!0)&&this.redraw(l.animation),c}showLoading(o){let l=this,c=l.options,u=c.loading,p=function(){g&&cs(g,{left:l.plotLeft+"px",top:l.plotTop+"px",width:l.plotWidth+"px",height:l.plotHeight+"px"})},g=l.loadingDiv,f=l.loadingSpan;g||(l.loadingDiv=g=cg("div",{className:"highcharts-loading highcharts-loading-hidden"},null,l.container)),f||(l.loadingSpan=f=cg("span",{className:"highcharts-loading-inner"},null,g),lg(l,"redraw",p)),g.className="highcharts-loading",ht.setElementHTML(f,ni(o,c.lang.loading,"")),l.styledMode||(cs(g,Bn(u.style,{zIndex:10})),cs(f,u.labelStyle),l.loadingShown||(cs(g,{opacity:0,display:""}),ng(g,{opacity:u.style.opacity||.5},{duration:u.showDuration||0}))),l.loadingShown=!0,p()}hideLoading(){let o=this.options,l=this.loadingDiv;l&&(l.className="highcharts-loading highcharts-loading-hidden",this.styledMode||ng(l,{opacity:0},{duration:o.loading.hideDuration||100,complete:function(){cs(l,{display:"none"})}})),this.loadingShown=!1}update(o,l,c,u){let p,g,f,m=this,y={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},S=o.isResponsiveOptions,w=[];$e(m,"update",{options:o}),S||m.setResponsive(!1,!0),o=hw(o,m.options),m.userOptions=nn(m.userOptions,o);let x=o.chart;x&&(nn(!0,m.options.chart,x),this.setZoomOptions(),"className"in x&&m.setClassName(x.className),("inverted"in x||"polar"in x||"type"in x)&&(m.propFromSeries(),p=!0),"alignTicks"in x&&(p=!0),"events"in x&&lw(this,x),pg(x,function(I,F){m.propsRequireUpdateSeries.indexOf("chart."+F)!==-1&&(g=!0),m.propsRequireDirtyBox.indexOf(F)!==-1&&(m.isDirtyBox=!0),m.propsRequireReflow.indexOf(F)===-1||(m.isDirtyBox=!0,S||(f=!0))}),!m.styledMode&&x.style&&m.renderer.setStyle(m.options.chart.style||{})),!m.styledMode&&o.colors&&(this.options.colors=o.colors),pg(o,function(I,F){m[F]&&typeof m[F].update=="function"?m[F].update(I,!1):typeof m[y[F]]=="function"?m[y[F]](I):F!=="colors"&&m.collectionsWithUpdate.indexOf(F)===-1&&nn(!0,m.options[F],o[F]),F!=="chart"&&m.propsRequireUpdateSeries.indexOf(F)!==-1&&(g=!0)}),this.collectionsWithUpdate.forEach(function(I){o[I]&&(td(o[I]).forEach(function(F,T){let P,_=Nn(F.id);_&&(P=m.get(F.id)),!P&&m[I]&&(P=m[I][ni(F.index,T)])&&(_&&Nn(P.options.id)||P.options.isInternal)&&(P=void 0),P&&P.coll===I&&(P.update(F,!1),c&&(P.touched=!0)),!P&&c&&m.collectionsWithInit[I]&&(m.collectionsWithInit[I][0].apply(m,[F].concat(m.collectionsWithInit[I][1]||[]).concat([!1])).touched=!0)}),c&&m[I].forEach(function(F){F.touched||F.options.isInternal?delete F.touched:w.push(F)}))}),w.forEach(function(I){I.chart&&I.remove&&I.remove(!1)}),p&&m.axes.forEach(function(I){I.update({},!1)}),g&&m.getSeriesOrderByLinks().forEach(function(I){I.chart&&I.update({},!1)},this);let E=x&&x.width,M=x&&(ed(x.height)?pw(x.height,E||m.chartWidth):x.height);f||wo(E)&&E!==m.chartWidth||wo(M)&&M!==m.chartHeight?m.setSize(E,M,u):ni(l,!0)&&m.redraw(u),$e(m,"afterUpdate",{options:o,redraw:l,animation:u})}setSubtitle(o,l){this.applyDescription("subtitle",o),this.layOutTitles(l)}setCaption(o,l){this.applyDescription("caption",o),this.layOutTitles(l)}showResetZoom(){let o=this,l=og.lang,c=o.zooming.resetButton,u=c.theme,p=c.relativeTo==="chart"||c.relativeTo==="spacingBox"?null:"plotBox";function g(){o.zoomOut()}$e(this,"beforeShowResetZoom",null,function(){o.resetZoomButton=o.renderer.button(l.resetZoom,null,null,g,u).attr({align:c.position.align,title:l.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,!1,p)}),$e(this,"afterShowResetZoom")}zoomOut(){$e(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(o,l){let c=this,u=typeof l=="object"?l:{enabled:l,type:"x"},p=u.type,g=p&&c[{x:"xAxis",xy:"axes",y:"yAxis"}[p]].filter(m=>m.options.panningEnabled&&!m.options.isInternal),f=c.options.chart;f?.panning&&(f.panning=u),$e(this,"pan",{originalEvent:o},()=>{c.transform({axes:g,event:o,to:{x:o.chartX-(c.mouseDownX||0),y:o.chartY-(c.mouseDownY||0)},trigger:"pan"}),cs(c.container,{cursor:"move"})})}transform(o){let{axes:l=this.axes,event:c,from:u={},reset:p,selection:g,to:f={},trigger:m}=o,{inverted:y,time:S}=this,w=!1,x,E;for(let M of(this.hoverPoints?.forEach(I=>I.setState()),l)){let{horiz:I,len:F,minPointOffset:T=0,options:P,reversed:_}=M,B=I?"width":"height",z=I?"x":"y",G=ni(f[B],M.len),N=ni(u[B],M.len),V=10>Math.abs(G)?1:G/N,q=(u[z]||0)+N/2-M.pos,Y=q-((f[z]??M.pos)+G/2-M.pos)/V,J=_&&!y||!_&&y?-1:1;if(!p&&(q<0||q>M.len))continue;let re=M.toValue(Y,!0)+(g||M.isOrdinal?0:T*J),ne=M.toValue(Y+F/V,!0)-(g||M.isOrdinal?0:T*J||0),ae=M.allExtremes;if(re>ne&&([re,ne]=[ne,re]),V===1&&!p&&M.coll==="yAxis"&&!ae){for(let bi of M.series){let _s=bi.getExtremes(bi.getProcessedData(!0).modified.getColumn("y")||[],!0);ae??(ae={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),wo(_s.dataMin)&&wo(_s.dataMax)&&(ae.dataMin=Math.min(_s.dataMin,ae.dataMin),ae.dataMax=Math.max(_s.dataMax,ae.dataMax))}M.allExtremes=ae}let{dataMin:de,dataMax:oe,min:Me,max:we}=Bn(M.getExtremes(),ae||{}),Se=S.parse(P.min),ke=S.parse(P.max),ve=de??Se,Mt=oe??ke,yt=ne-re,Be=M.categories?0:Math.min(yt,Mt-ve),ot=ve-Be*(Nn(Se)?0:P.minPadding),Lt=Mt+Be*(Nn(ke)?0:P.maxPadding),ft=M.allowZoomOutside||V===1||m!=="zoom"&&V>1,ri=Math.min(Se??ot,ot,ft?Me:ot),Ot=Math.max(ke??Lt,Lt,ft?we:Lt);(!M.isOrdinal||M.options.overscroll||V!==1||p)&&(re<ri&&(re=ri,V>=1&&(ne=re+yt)),ne>Ot&&(ne=Ot,V>=1&&(re=ne-yt)),(p||M.series.length&&(re!==Me||ne!==we)&&re>=ri&&ne<=Ot)&&(g?g[M.coll].push({axis:M,min:re,max:ne}):(M.isPanning=m!=="zoom",M.isPanning&&(E=!0),M.setExtremes(p?void 0:re,p?void 0:ne,!1,!1,{move:Y,trigger:m,scale:V}),!p&&(re>ri||ne<Ot)&&m!=="mousewheel"&&(x=!0)),w=!0),c&&(this[I?"mouseDownX":"mouseDownY"]=c[I?"chartX":"chartY"]))}return w&&(g?$e(this,"selection",g,()=>{delete o.selection,o.trigger="zoom",this.transform(o)}):(!x||E||this.resetZoomButton?!x&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(m==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),w}}Bn(Gn.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Gn.prototype.addAxis,[!0]],yAxis:[Gn.prototype.addAxis,[!1]],series:[Gn.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:JP}=si,{composed:e_}=W,{addEvent:Vn,createElement:id,css:gg,defined:fg,erase:t_,merge:fw,pushUnique:mw}=he;function i_(){let C=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!C&&(this.scrollablePlotArea=C=new Cw(this)),C?.applyFixed()}function vw(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}let Cw=(()=>{class C{static compose(l,c,u){mw(e_,this.compose)&&(Vn(l,"afterInit",vw),Vn(c,"afterSetChartSize",p=>this.afterSetSize(p.target,p)),Vn(c,"render",i_),Vn(u,"show",vw))}static afterSetSize(l,c){let u,p,g,{minWidth:f,minHeight:m}=l.options.chart.scrollablePlotArea||{},{clipBox:y,plotBox:S,inverted:w,renderer:x}=l;if(!x.forExport&&(f?(l.scrollablePixelsX=u=Math.max(0,f-l.chartWidth),u&&(l.scrollablePlotBox=fw(l.plotBox),S.width=l.plotWidth+=u,y[w?"height":"width"]+=u,g=!0)):m&&(l.scrollablePixelsY=p=Math.max(0,m-l.chartHeight),fg(p)&&(l.scrollablePlotBox=fw(l.plotBox),S.height=l.plotHeight+=p,y[w?"width":"height"]+=p,g=!1)),fg(g)&&!c.skipAxes))for(let E of l.axes)(E.horiz===g||l.hasParallelCoordinates&&E.coll==="yAxis")&&(E.setAxisSize(),E.setAxisTranslation())}constructor(l){let c,u=l.options.chart,p=Oa.getRendererType(),g=u.scrollablePlotArea||{},f=this.moveFixedElements.bind(this),m={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};l.scrollablePixelsX&&(m.overflowX="auto"),l.scrollablePixelsY&&(m.overflowY="auto"),this.chart=l;let y=this.parentDiv=id("div",{className:"highcharts-scrolling-parent"},{position:"relative"},l.renderTo),S=this.scrollingContainer=id("div",{className:"highcharts-scrolling"},m,y),w=this.innerContainer=id("div",{className:"highcharts-inner-container"},void 0,S),x=this.fixedDiv=id("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(u.style?.zIndex||0)+2,top:0},void 0,!0),E=this.fixedRenderer=new p(x,l.chartWidth,l.chartHeight,u.style);this.mask=E.path().attr({fill:u.backgroundColor||"#fff","fill-opacity":g.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),S.parentNode.insertBefore(x,S),gg(l.renderTo,{overflow:"visible"}),Vn(l,"afterShowResetZoom",f),Vn(l,"afterApplyDrilldown",f),Vn(l,"afterLayOutTitles",f),Vn(S,"scroll",()=>{let{pointer:M,hoverPoint:I}=l;M&&(delete M.chartPosition,I&&(c=I),M.runPointActions(void 0,c,!0))}),w.appendChild(l.container)}applyFixed(){let{chart:l,fixedRenderer:c,isDirty:u,scrollingContainer:p}=this,{axisOffset:g,chartWidth:f,chartHeight:m,container:y,plotHeight:S,plotLeft:w,plotTop:x,plotWidth:E,scrollablePixelsX:M=0,scrollablePixelsY:I=0}=l,{scrollPositionX:F=0,scrollPositionY:T=0}=l.options.chart.scrollablePlotArea||{},P=f+M,_=m+I;c.setSize(f,m),(u??!0)&&(this.isDirty=!1,this.moveFixedElements()),JP(l.container),gg(y,{width:`${P}px`,height:`${_}px`}),l.renderer.boxWrapper.attr({width:P,height:_,viewBox:[0,0,P,_].join(" ")}),l.chartBackground?.attr({width:P,height:_}),gg(p,{width:`${f}px`,height:`${m}px`}),fg(u)||(p.scrollLeft=M*F,p.scrollTop=I*T);let B=x-g[0]-1,z=w-g[3]-1,G=x+S+g[2]+1,N=w+E+g[1]+1,V=w+E-M,q=x+S-I,Y=[["M",0,0]];M?Y=[["M",0,B],["L",w-1,B],["L",w-1,G],["L",0,G],["Z"],["M",V,B],["L",f,B],["L",f,G],["L",V,G],["Z"]]:I&&(Y=[["M",z,0],["L",z,x-1],["L",N,x-1],["L",N,0],["Z"],["M",z,q],["L",z,m],["L",N,m],["L",N,q],["Z"]]),l.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:Y})}moveFixedElements(){let l,{container:c,inverted:u,scrollablePixelsX:p,scrollablePixelsY:g}=this.chart,f=this.fixedRenderer,m=C.fixedSelectors;if(p&&!u?l=".highcharts-yaxis":p&&u||g&&!u?l=".highcharts-xaxis":g&&u&&(l=".highcharts-yaxis"),l&&!(this.chart.hasParallelCoordinates&&l===".highcharts-yaxis"))for(let y of[`${l}:not(.highcharts-radial-axis)`,`${l}-labels:not(.highcharts-radial-axis-labels)`])mw(m,y);else for(let y of[".highcharts-xaxis",".highcharts-yaxis"])for(let S of[`${y}:not(.highcharts-radial-axis)`,`${y}-labels:not(.highcharts-radial-axis-labels)`])t_(m,S);for(let y of m)[].forEach.call(c.querySelectorAll(y),S=>{(S.namespaceURI===f.SVG_NS?f.box:f.box.parentNode).appendChild(S),S.style.pointerEvents="auto"})}}return C.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],C})(),{format:s_}=rs,{series:n_}=xt,{destroyObjectProperties:r_,fireEvent:bw,getAlignFactor:mg,isNumber:vg,pick:Ka}=he,yw=class{constructor(C,o,l,c,u){let p=C.chart.inverted,g=C.reversed;this.axis=C;let f=this.isNegative=!!l!=!!g;this.options=o=o||{},this.x=c,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=u,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:o.align||(p?f?"left":"right":"center"),verticalAlign:o.verticalAlign||(p?"middle":f?"bottom":"top"),y:o.y,x:o.x},this.textAlign=o.textAlign||(p?f?"right":"left":"center")}destroy(){r_(this,this.axis)}render(C){let o=this.axis.chart,l=this.options,c=l.format,u=c?s_(c,this,o):l.formatter.call(this);if(this.label)this.label.attr({text:u,visibility:"hidden"});else{this.label=o.renderer.label(u,null,void 0,l.shape,void 0,void 0,l.useHTML,!1,"stack-labels");let p={r:l.borderRadius||0,text:u,padding:Ka(l.padding,5),visibility:"hidden"};o.styledMode||(p.fill=l.backgroundColor,p.stroke=l.borderColor,p["stroke-width"]=l.borderWidth,this.label.css(l.style||{})),this.label.attr(p),this.label.added||this.label.add(C)}this.label.labelrank=o.plotSizeY,bw(this,"afterRender")}setOffset(C,o,l,c,u,p){let{alignOptions:g,axis:f,label:m,options:y,textAlign:S}=this,w=f.chart,x=this.getStackBox({xOffset:C,width:o,boxBottom:l,boxTop:c,defaultX:u,xAxis:p}),{verticalAlign:E}=g;if(m&&x){let M=m.getBBox(void 0,0),I=m.padding,F=Ka(y.overflow,"justify")==="justify",T;g.x=y.x||0,g.y=y.y||0;let{x:P,y:_}=this.adjustStackPosition({labelBox:M,verticalAlign:E,textAlign:S});x.x-=P,x.y-=_,m.align(g,!1,x),(T=w.isInsidePlot(m.alignAttr.x+g.x+P,m.alignAttr.y+g.y+_))||(F=!1),F&&n_.prototype.justifyDataLabel.call(f,m,g,m.alignAttr,M,x),m.attr({x:m.alignAttr.x,y:m.alignAttr.y,rotation:y.rotation,rotationOriginX:M.width*mg(y.textAlign||"center"),rotationOriginY:M.height/2}),Ka(!F&&y.crop,!0)&&(T=vg(m.x)&&vg(m.y)&&w.isInsidePlot(m.x-I+(m.width||0),m.y)&&w.isInsidePlot(m.x+I,m.y)),m[T?"show":"hide"]()}bw(this,"afterSetOffset",{xOffset:C,width:o})}adjustStackPosition({labelBox:C,verticalAlign:o,textAlign:l}){return{x:C.width/2+C.width/2*(2*mg(l)-1),y:C.height/2*2*(1-mg(o))}}getStackBox(C){let o=this.axis,l=o.chart,{boxTop:c,defaultX:u,xOffset:p,width:g,boxBottom:f}=C,m=o.stacking.usePercentage?100:Ka(c,this.total,0),y=o.toPixels(m),S=C.xAxis||l.xAxis[0],w=Ka(u,S.translate(this.x))+p,x=Math.abs(y-o.toPixels(f||vg(o.min)&&o.logarithmic&&o.logarithmic.lin2log(o.min)||0)),E=l.inverted,M=this.isNegative;return E?{x:(M?y:y-x)-l.plotLeft,y:S.height-w-g+S.top-l.plotTop,width:x,height:g}:{x:w+S.transB-l.plotLeft,y:(M?y-x:y)-l.plotTop,width:g,height:x}}},{getDeferredAnimation:o_}=si,{series:{prototype:a_}}=xt,{addEvent:ww,correctFloat:qa,defined:Sw,destroyObjectProperties:l_,fireEvent:c_,isNumber:Cg,objectEach:br,pick:bg}=he;function d_(){let C=this.inverted;this.axes.forEach(o=>{o.stacking&&o.stacking.stacks&&o.hasVisibleSeries&&(o.stacking.oldStacks=o.stacking.stacks)}),this.series.forEach(o=>{let l=o.xAxis&&o.xAxis.options||{};o.options.stacking&&o.reserveSpace()&&(o.stackKey=[o.type,bg(o.options.stack,""),C?l.top:l.left,C?l.height:l.width].join(","))})}function u_(){let C=this.stacking;if(C){let o=C.stacks;br(o,(l,c)=>{l_(l),delete o[c]}),C.stackTotalGroup?.destroy()}}function h_(){this.stacking||(this.stacking=new C_(this))}function p_(C,o,l,c){return!Sw(C)||C.x!==o||c&&C.stackKey!==c?C={x:o,index:0,key:c,stackKey:c}:C.index++,C.key=[l,o,C.index].join(","),C}function g_(){let C,o=this,l=o.yAxis,c=o.stackKey||"",u=l.stacking.stacks,p=o.getColumn("x",!0),g=o.options.stacking,f=o[g+"Stacker"];f&&[c,"-"+c].forEach(m=>{let y=p.length,S,w,x;for(;y--;)S=p[y],C=o.getStackIndicator(C,S,o.index,m),w=u[m]?.[S],(x=w?.points[C.key||""])&&f.call(o,x,w,y)})}function f_(C,o,l){let c=o.total?100/o.total:0;C[0]=qa(C[0]*c),C[1]=qa(C[1]*c),this.stackedYData[l]=C[1]}function m_(C){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?a_.setStackedPoints.call(this,C,"group"):C.stacking.resetStacks())}function v_(C,o){let l,c,u,p,g,f,m,y=o||this.options.stacking;if(!y||!this.reserveSpace()||({group:"xAxis"}[y]||"yAxis")!==C.coll)return;let S=this.getColumn("x",!0),w=this.getColumn(this.pointValKey||"y",!0),x=[],E=w.length,M=this.options,I=M.threshold||0,F=M.startFromThreshold?I:0,T=M.stack,P=o?`${this.type},${y}`:this.stackKey||"",_="-"+P,B=this.negStacks,z=C.stacking,G=z.stacks,N=z.oldStacks;for(z.stacksTouched+=1,m=0;m<E;m++){let V=S[m]||0,q=w[m],Y=Cg(q)&&q||0;f=(l=this.getStackIndicator(l,V,this.index)).key||"",G[g=(c=B&&Y<(F?0:I))?_:P]||(G[g]={}),G[g][V]||(N[g]?.[V]?(G[g][V]=N[g][V],G[g][V].total=null):G[g][V]=new yw(C,C.options.stackLabels,!!c,V,T)),u=G[g][V],q!==null?(u.points[f]=u.points[this.index]=[bg(u.cumulative,F)],Sw(u.cumulative)||(u.base=f),u.touched=z.stacksTouched,l.index>0&&this.singleStacks===!1&&(u.points[f][0]=u.points[this.index+","+V+",0"][0])):(delete u.points[f],delete u.points[this.index]);let J=u.total||0;y==="percent"?(p=c?P:_,J=B&&G[p]?.[V]?(p=G[p][V]).total=Math.max(p.total||0,J)+Math.abs(Y):qa(J+Math.abs(Y))):y==="group"?Cg(q)&&J++:J=qa(J+Y),y==="group"?u.cumulative=(J||1)-1:u.cumulative=qa(bg(u.cumulative,F)+Y),u.total=J,q!==null&&(u.points[f].push(u.cumulative),x[m]=u.cumulative,u.hasValidPoints=!0)}y==="percent"&&(z.usePercentage=!0),y!=="group"&&(this.stackedYData=x),z.oldStacks={}}class C_{constructor(o){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=o}buildStacks(){let o,l,c=this.axis,u=c.series,p=c.coll==="xAxis",g=c.options.reversedStacks,f=u.length;for(this.resetStacks(),this.usePercentage=!1,l=f;l--;)o=u[g?l:f-l-1],p&&o.setGroupedPoints(c),o.setStackedPoints(c);if(!p)for(l=0;l<f;l++)u[l].modifyStacks();c_(c,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,br(this.stacks,o=>{br(o,l=>{l.cumulative=l.total})}))}resetStacks(){br(this.stacks,o=>{br(o,(l,c)=>{Cg(l.touched)&&l.touched<this.stacksTouched?(l.destroy(),delete o[c]):(l.total=null,l.cumulative=null)})})}renderStackTotals(){let o=this.axis,l=o.chart,c=l.renderer,u=this.stacks,p=o_(l,o.options.stackLabels?.animation||!1),g=this.stackTotalGroup=this.stackTotalGroup||c.g("stack-labels").attr({zIndex:6,opacity:0}).add();g.translate(l.plotLeft,l.plotTop),br(u,f=>{br(f,m=>{m.render(g)})}),g.animate({opacity:1},p)}}(R||(R={})).compose=function(C,o,l){let c=o.prototype,u=l.prototype;c.getStacks||(ww(C,"init",h_),ww(C,"destroy",u_),c.getStacks=d_,u.getStackIndicator=p_,u.modifyStacks=g_,u.percentStacker=f_,u.setGroupedPoints=m_,u.setStackedPoints=v_)};let b_=R,{defined:y_,merge:xw,isObject:w_}=he;class Dw extends Ni{drawGraph(){let o=this.options,l=(this.gappedPath||this.getGraphPath).call(this),c=this.chart.styledMode;[this,...this.zones].forEach((u,p)=>{let g,f=u.graph,m=f?"animate":"attr",y=u.dashStyle||o.dashStyle;f?(f.endX=this.preventGraphAnimation?null:l.xMap,f.animate({d:l})):l.length&&(u.graph=f=this.chart.renderer.path(l).addClass("highcharts-graph"+(p?` highcharts-zone-graph-${p-1} `:" ")+(p&&u.className||"")).attr({zIndex:1}).add(this.group)),f&&!c&&(g={stroke:!p&&o.lineColor||u.color||this.color||"#cccccc","stroke-width":o.lineWidth||0,fill:this.fillGraph&&this.color||"none"},y?g.dashstyle=y:o.linecap!=="square"&&(g["stroke-linecap"]=g["stroke-linejoin"]="round"),f[m](g).shadow(o.shadow&&xw({filterUnits:"userSpaceOnUse"},w_(o.shadow)?o.shadow:{}))),f&&(f.startX=l.xMap,f.isArea=l.isArea)})}getGraphPath(o,l,c){let u=this,p=u.options,g=[],f=[],m,y=p.step,S=(o=o||u.points).reversed;return S&&o.reverse(),(y={right:1,center:2}[y]||y&&3)&&S&&(y=4-y),(o=this.getValidPoints(o,!1,!(p.connectNulls&&!l&&!c))).forEach(function(w,x){let E,M=w.plotX,I=w.plotY,F=o[x-1],T=w.isNull||typeof I!="number";(w.leftCliff||F&&F.rightCliff)&&!c&&(m=!0),T&&!y_(l)&&x>0?m=!p.connectNulls:T&&!l?m=!0:(x===0||m?E=[["M",w.plotX,w.plotY]]:u.getPointSpline?E=[u.getPointSpline(o,w,x)]:y?(E=y===1?[["L",F.plotX,I]]:y===2?[["L",(F.plotX+M)/2,F.plotY],["L",(F.plotX+M)/2,I]]:[["L",M,F.plotY]]).push(["L",M,I]):E=[["L",M,I]],f.push(w.x),y&&(f.push(w.x),y===2&&f.push(w.x)),g.push.apply(g,E),m=!1)}),g.xMap=f,u.graphPath=g,g}}Dw.defaultOptions=xw(Ni.defaultOptions,{legendSymbol:"lineMarker"}),xt.registerSeriesType("line",Dw);let{seriesTypes:{line:yg}}=xt,{extend:S_,merge:x_,objectEach:D_,pick:sd}=he;class wg extends yg{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:o,options:l}=this;[this,...this.zones].forEach((c,u)=>{let p={},g=c.fillColor||l.fillColor,f=c.area,m=f?"animate":"attr";f?(f.endX=this.preventGraphAnimation?null:o.xMap,f.animate({d:o})):(p.zIndex=0,(f=c.area=this.chart.renderer.path(o).addClass("highcharts-area"+(u?` highcharts-zone-area-${u-1} `:" ")+(u&&c.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(p.fill=g||c.color||this.color,p["fill-opacity"]=g?1:l.fillOpacity??.75,f.css({pointerEvents:this.stickyTracking?"none":"auto"})),f[m](p),f.startX=o.xMap,f.shiftUnit=l.step?2:1})}getGraphPath(o){let l,c,u,p=yg.prototype.getGraphPath,g=this.options,f=g.stacking,m=this.yAxis,y=[],S=[],w=this.index,x=m.stacking.stacks[this.stackKey],E=g.threshold,M=Math.round(m.getThreshold(g.threshold)),I=sd(g.connectNulls,f==="percent"),F=function(G,N,V){let q=o[G],Y=f&&x[q.x].points[w],J=q[V+"Null"]||0,re=q[V+"Cliff"]||0,ne,ae,de=!0;re||J?(ne=(J?Y[0]:Y[1])+re,ae=Y[0]+re,de=!!J):!f&&o[N]&&o[N].isNull&&(ne=ae=E),ne!==void 0&&(S.push({plotX:l,plotY:ne===null?M:m.getThreshold(ne),isNull:de,isCliff:!0}),y.push({plotX:l,plotY:ae===null?M:m.getThreshold(ae),doCurve:!1}))};o=o||this.points,f&&(o=this.getStackPoints(o));for(let G=0,N=o.length;G<N;++G)f||(o[G].leftCliff=o[G].rightCliff=o[G].leftNull=o[G].rightNull=void 0),c=o[G].isNull,l=sd(o[G].rectPlotX,o[G].plotX),u=f?sd(o[G].yBottom,M):M,c&&!I||(I||F(G,G-1,"left"),c&&!f&&I||(S.push(o[G]),y.push({x:G,plotX:l,plotY:u})),I||F(G,G+1,"right"));let T=p.call(this,S,!0,!0);y.reversed=!0;let P=p.call(this,y,!0,!0),_=P[0];_&&_[0]==="M"&&(P[0]=["L",_[1],_[2]]);let B=T.concat(P);B.length&&B.push(["Z"]);let z=p.call(this,S,!1,I);return this.chart.series.length>1&&f&&S.some(G=>G.isCliff)&&(B.hasStackedCliffs=z.hasStackedCliffs=!0),B.xMap=T.xMap,this.areaPath=B,z}getStackPoints(o){let l=this,c=[],u=[],p=this.xAxis,g=this.yAxis,f=g.stacking.stacks[this.stackKey],m={},y=g.series,S=y.length,w=g.options.reversedStacks?1:-1,x=y.indexOf(l);if(o=o||this.points,this.options.stacking){for(let M=0;M<o.length;M++)o[M].leftNull=o[M].rightNull=void 0,m[o[M].x]=o[M];D_(f,function(M,I){M.total!==null&&u.push(I)}),u.sort(function(M,I){return M-I});let E=y.map(M=>M.visible);u.forEach(function(M,I){let F=0,T,P;if(m[M]&&!m[M].isNull)c.push(m[M]),[-1,1].forEach(function(_){let B=_===1?"rightNull":"leftNull",z=f[u[I+_]],G=0;if(z){let N=x;for(;N>=0&&N<S;){let V=y[N].index;!(T=z.points[V])&&(V===l.index?m[M][B]=!0:E[N]&&(P=f[M].points[V])&&(G-=P[1]-P[0])),N+=w}}m[M][_===1?"rightCliff":"leftCliff"]=G});else{let _=x;for(;_>=0&&_<S;){let B=y[_].index;if(T=f[M].points[B]){F=T[1];break}_+=w}F=sd(F,0),F=g.translate(F,0,1,0,1),c.push({isNull:!0,plotX:p.translate(M,0,0,0,1),x:M,plotY:F,yBottom:F})}})}return c}}wg.defaultOptions=x_(yg.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),S_(wg.prototype,{singleStacks:!1}),xt.registerSeriesType("area",wg);let{line:Ew}=xt.seriesTypes,{merge:E_,pick:nd}=he;class Sg extends Ew{getPointSpline(o,l,c){let u,p,g,f,m=l.plotX||0,y=l.plotY||0,S=o[c-1],w=o[c+1];function x(M){return M&&!M.isNull&&M.doCurve!==!1&&!l.isCliff}if(x(S)&&x(w)){let M=S.plotX||0,I=S.plotY||0,F=w.plotX||0,T=w.plotY||0,P=0;u=(1.5*m+M)/2.5,p=(1.5*y+I)/2.5,g=(1.5*m+F)/2.5,f=(1.5*y+T)/2.5,g!==u&&(P=(f-p)*(g-m)/(g-u)+y-f),p+=P,f+=P,p>I&&p>y?(p=Math.max(I,y),f=2*y-p):p<I&&p<y&&(p=Math.min(I,y),f=2*y-p),f>T&&f>y?(f=Math.max(T,y),p=2*y-f):f<T&&f<y&&(f=Math.min(T,y),p=2*y-f),l.rightContX=g,l.rightContY=f,l.controlPoints={low:[u,p],high:[g,f]}}let E=["C",nd(S.rightContX,S.plotX,0),nd(S.rightContY,S.plotY,0),nd(u,m,0),nd(p,y,0),m,y];return S.rightContX=S.rightContY=void 0,E}}Sg.defaultOptions=E_(Ew.defaultOptions),xt.registerSeriesType("spline",Sg);let Mw=Sg,{area:M_,area:{prototype:xg}}=xt.seriesTypes,{extend:R_,merge:T_}=he;class Dg extends Mw{}Dg.defaultOptions=T_(Mw.defaultOptions,M_.defaultOptions),R_(Dg.prototype,{getGraphPath:xg.getGraphPath,getStackPoints:xg.getStackPoints,drawGraph:xg.drawGraph}),xt.registerSeriesType("areaspline",Dg);let{animObject:I_}=si,{parse:A_}=kt,{noop:F_}=W,{clamp:rd,crisp:od,defined:Rw,extend:Tw,fireEvent:Iw,isArray:Aw,isNumber:ad,merge:Eg,pick:So,objectEach:P_}=he;class ld extends Ni{animate(o){let l,c,u=this,p=this.yAxis,g=p.pos,f=p.reversed,m=u.options,{clipOffset:y,inverted:S}=this.chart,w={},x=S?"translateX":"translateY";o&&y?(w.scaleY=.001,c=rd(p.toPixels(m.threshold||0),g,g+p.len),S?(c+=f?-Math.floor(y[0]):Math.ceil(y[2]),w.translateX=c-p.len):(c+=f?Math.ceil(y[0]):-Math.floor(y[2]),w.translateY=c),u.clipBox&&u.setClip(),u.group.attr(w)):(l=Number(u.group.attr(x)),u.group.animate({scaleY:1},Tw(I_(u.options.animation),{step:function(E,M){u.group&&(w[x]=l+M.pos*(g-l),u.group.attr(w))}})))}init(o,l){super.init.apply(this,arguments);let c=this;(o=c.chart).hasRendered&&o.series.forEach(function(u){u.type===c.type&&(u.isDirty=!0)})}getColumnMetrics(){let o=this,l=o.options,c=o.xAxis,u=o.yAxis,p=c.options.reversedStacks,g=c.reversed&&!p||!c.reversed&&p,f={},m,y=0;l.grouping===!1?y=1:o.chart.series.forEach(function(I){let F,T=I.yAxis,P=I.options;I.type===o.type&&I.reserveSpace()&&u.len===T.len&&u.pos===T.pos&&(P.stacking&&P.stacking!=="group"?(f[m=I.stackKey]===void 0&&(f[m]=y++),F=f[m]):P.grouping!==!1&&(F=y++),I.columnIndex=F)});let S=Math.min(Math.abs(c.transA)*(!c.brokenAxis?.hasBreaks&&c.ordinal?.slope||l.pointRange||c.closestPointRange||c.tickInterval||1),c.len),w=S*l.groupPadding,x=(S-2*w)/(y||1),E=Math.min(l.maxPointWidth||c.len,So(l.pointWidth,x*(1-2*l.pointPadding))),M=(o.columnIndex||0)+(g?1:0);return o.columnMetrics={width:E,offset:(x-E)/2+(w+M*x-S/2)*(g?-1:1),paddedWidth:x,columnCount:y},o.columnMetrics}crispCol(o,l,c,u){let p=this.borderWidth,g=this.chart.inverted;return u=od(l+u,p,g)-(l=od(l,p,g)),this.options.crisp&&(c=od(o+c,p)-(o=od(o,p))),{x:o,y:l,width:c,height:u}}adjustForMissingColumns(o,l,c,u){if(!c.isNull&&u.columnCount>1){let p=this.xAxis.series.filter(y=>y.visible).map(y=>y.index),g=0,f=0;P_(this.xAxis.stacking?.stacks,y=>{let S=typeof c.x=="number"?y[c.x.toString()]?.points:void 0,w=S?.[this.index],x={};if(S&&Aw(w)){let E=this.index,M=Object.keys(S).filter(I=>!I.match(",")&&S[I]&&S[I].length>1).map(parseFloat).filter(I=>p.indexOf(I)!==-1).filter(I=>{let F=this.chart.series[I].options,T=F.stacking&&F.stack;if(Rw(T)){if(ad(x[T]))return E===I&&(E=x[T]),!1;x[T]=I}return!0}).sort((I,F)=>F-I);g=M.indexOf(E),f=M.length}}),g=this.xAxis.reversed?f-1-g:g;let m=(f-1)*u.paddedWidth+l;o=(c.plotX||0)+m/2-l-g*u.paddedWidth}return o}translate(){let o=this,l=o.chart,c=o.options,u=o.dense=o.closestPointRange*o.xAxis.transA<2,p=o.borderWidth=So(c.borderWidth,u?0:1),g=o.xAxis,f=o.yAxis,m=c.threshold,y=So(c.minPointLength,5),S=o.getColumnMetrics(),w=S.width,x=o.pointXOffset=S.offset,E=o.dataMin,M=o.dataMax,I=o.translatedThreshold=f.getThreshold(m),F=o.barW=Math.max(w,1+2*p);c.pointPadding&&c.crisp&&(F=Math.ceil(F)),Ni.prototype.translate.apply(o),o.points.forEach(function(T){let P=So(T.yBottom,I),_=999+Math.abs(P),B=T.plotX||0,z=rd(T.plotY,-_,f.len+_),G,N=Math.min(z,P),V=Math.max(z,P)-N,q=w,Y=B+x,J=F;y&&Math.abs(V)<y&&(V=y,G=!f.reversed&&!T.negative||f.reversed&&T.negative,ad(m)&&ad(M)&&T.y===m&&M<=m&&(f.min||0)<m&&(E!==M||(f.max||0)<=m)&&(G=!G,T.negative=!T.negative),N=Math.abs(N-I)>y?P-y:I-(G?y:0)),Rw(T.options.pointWidth)&&(Y-=Math.round(((q=J=Math.ceil(T.options.pointWidth))-w)/2)),c.centerInCategory&&(Y=o.adjustForMissingColumns(Y,q,T,S)),T.barX=Y,T.pointWidth=q,T.tooltipPos=l.inverted?[rd(f.len+f.pos-l.plotLeft-z,f.pos-l.plotLeft,f.len+f.pos-l.plotLeft),g.len+g.pos-l.plotTop-Y-J/2,V]:[g.left-l.plotLeft+Y+J/2,rd(z+f.pos-l.plotTop,f.pos-l.plotTop,f.len+f.pos-l.plotTop),V],T.shapeType=o.pointClass.prototype.shapeType||"roundedRect",T.shapeArgs=o.crispCol(Y,T.isNull?I:N,J,T.isNull?0:V)}),Iw(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(o,l){let c=this.options,u=this.pointAttrToOptions||{},p=u.stroke||"borderColor",g=u["stroke-width"]||"borderWidth",f,m,y,S=o&&o.color||this.color,w=o&&o[p]||c[p]||S,x=o&&o.options.dashStyle||c.dashStyle,E=o&&o[g]||c[g]||this[g]||0,M=So(o&&o.opacity,c.opacity,1);o&&this.zones.length&&(m=o.getZone(),S=o.options.color||m&&(m.color||o.nonZonedColor)||this.color,m&&(w=m.borderColor||w,x=m.dashStyle||x,E=m.borderWidth||E)),l&&o&&(y=(f=Eg(c.states[l],o.options.states&&o.options.states[l]||{})).brightness,S=f.color||y!==void 0&&A_(S).brighten(f.brightness).get()||S,w=f[p]||w,E=f[g]||E,x=f.dashStyle||x,M=So(f.opacity,M));let I={fill:S,stroke:w,"stroke-width":E,opacity:M};return x&&(I.dashstyle=x),I}drawPoints(o=this.points){let l,c=this,u=this.chart,p=c.options,g=u.renderer,f=p.animationLimit||250;o.forEach(function(m){let y=m.plotY,S=m.graphic,w=!!S,x=S&&u.pointCount<f?"animate":"attr";ad(y)&&m.y!==null?(l=m.shapeArgs,S&&m.hasNewShapeType()&&(S=S.destroy()),c.enabledDataSorting&&(m.startXPos=c.xAxis.reversed?-(l&&l.width||0):c.xAxis.width),!S&&(m.graphic=S=g[m.shapeType](l).add(m.group||c.group),S&&c.enabledDataSorting&&u.hasRendered&&u.pointCount<f&&(S.attr({x:m.startXPos}),w=!0,x="animate")),S&&w&&S[x](Eg(l)),u.styledMode||S[x](c.pointAttribs(m,m.selected&&"select")).shadow(m.allowShadow!==!1&&p.shadow),S&&(S.addClass(m.getClassName(),!0),S.attr({visibility:m.visible?"inherit":"hidden"}))):S&&(m.graphic=S.destroy())})}drawTracker(o=this.points){let l,c=this,u=c.chart,p=u.pointer,g=function(f){p?.normalize(f);let m=p?.getPointFromEvent(f),y=!u.scrollablePlotArea||u.isInsidePlot(f.chartX-u.plotLeft,f.chartY-u.plotTop,{visiblePlotOnly:!0});p&&m&&c.options.enableMouseTracking&&y&&(p.isDirectTouch=!0,m.onMouseOver(f))};o.forEach(function(f){l=Aw(f.dataLabels)?f.dataLabels:f.dataLabel?[f.dataLabel]:[],f.graphic&&(f.graphic.element.point=f),l.forEach(function(m){(m.div||m.element).point=f})}),c._hasTracking||(c.trackerGroups.forEach(function(f){c[f]&&(c[f].addClass("highcharts-tracker").on("mouseover",g).on("mouseout",function(m){p?.onTrackerMouseOut(m)}).on("touchstart",g),!u.styledMode&&c.options.cursor&&c[f].css({cursor:c.options.cursor}))}),c._hasTracking=!0),Iw(this,"afterDrawTracker")}remove(){let o=this,l=o.chart;l.hasRendered&&l.series.forEach(function(c){c.type===o.type&&(c.isDirty=!0)}),Ni.prototype.remove.apply(o,arguments)}}ld.defaultOptions=Eg(Ni.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Tw(ld.prototype,{directTouch:!0,getSymbol:F_,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),xt.registerSeriesType("column",ld);let cd=ld,{getDeferredAnimation:__}=si,{format:k_}=rs,{defined:yr,extend:Fw,fireEvent:Mg,getAlignFactor:Pw,isArray:Hn,isString:Rg,merge:Ya,objectEach:L_,pick:Xa,pInt:O_,splat:_w}=he;(function(C){function o(){return m(this).some(S=>S?.enabled)}function l(S,w,x,E,M){let{chart:I,enabledDataSorting:F}=this,T=this.isCartesian&&I.inverted,P=S.plotX,_=S.plotY,B=x.rotation||0,z=yr(P)&&yr(_)&&I.isInsidePlot(P,Math.round(_),{inverted:T,paneCoordinates:!0,series:this}),G=B===0&&Xa(x.overflow,F?"none":"justify")==="justify",N=this.visible&&S.visible!==!1&&yr(P)&&(S.series.forceDL||F&&!G||z||Xa(x.inside,!!this.options.stacking)&&E&&I.isInsidePlot(P,T?E.x+1:E.y+E.height-1,{inverted:T,paneCoordinates:!0,series:this})),V=S.pos();if(N&&V){var q;let Y=w.getBBox(),J=w.getBBox(void 0,0);if(E=Fw({x:V[0],y:Math.round(V[1]),width:0,height:0},E||{}),x.alignTo==="plotEdges"&&this.isCartesian&&(E[T?"x":"y"]=0,E[T?"width":"height"]=this.yAxis?.len||0),Fw(x,{width:Y.width,height:Y.height}),q=E,F&&this.xAxis&&!G&&this.setDataLabelStartPos(S,w,M,z,q),w.align(Ya(x,{width:J.width,height:J.height}),!1,E,!1),w.alignAttr.x+=Pw(x.align)*(J.width-Y.width),w.alignAttr.y+=Pw(x.verticalAlign)*(J.height-Y.height),w[w.placed?"animate":"attr"]({"text-align":w.alignAttr["text-align"]||"center",x:w.alignAttr.x+(Y.width-J.width)/2,y:w.alignAttr.y+(Y.height-J.height)/2,rotationOriginX:(w.width||0)/2,rotationOriginY:(w.height||0)/2}),G&&E.height>=0)this.justifyDataLabel(w,x,w.alignAttr,Y,E,M);else if(Xa(x.crop,!0)){let{x:re,y:ne}=w.alignAttr;N=I.isInsidePlot(re,ne,{paneCoordinates:!0,series:this})&&I.isInsidePlot(re+Y.width-1,ne+Y.height-1,{paneCoordinates:!0,series:this})}x.shape&&!B&&w[M?"attr":"animate"]({anchorX:V[0],anchorY:V[1]})}M&&F&&(w.placed=!1),N||F&&!G?(w.show(),w.placed=!0):(w.hide(),w.placed=!1)}function c(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function u(S){let w=this.hasRendered||0,x=this.initDataLabelsGroup().attr({opacity:+w});return!w&&x&&(this.visible&&x.show(),this.options.animation?x.animate({opacity:1},S):x.attr({opacity:1})),x}function p(S){let w;S=S||this.points;let x=this,E=x.chart,M=x.options,I=E.renderer,{backgroundColor:F,plotBackgroundColor:T}=E.options.chart,P=I.getContrast(Rg(T)&&T||Rg(F)&&F||"#000000"),_=m(x),{animation:B,defer:z}=_[0],G=z?__(E,B,x):{defer:0,duration:0};Mg(this,"drawDataLabels"),x.hasDataLabels?.()&&(w=this.initDataLabels(G),S.forEach(N=>{let V=N.dataLabels||[];_w(f(_,N.dlOptions||N.options?.dataLabels)).forEach((Y,J)=>{let re=Y.enabled&&(N.visible||N.dataLabelOnHidden)&&(!N.isNull||N.dataLabelOnNull)&&function(Be,ot){let Lt=ot.filter;if(Lt){let ft=Lt.operator,ri=Be[Lt.property],Ot=Lt.value;return ft===">"&&ri>Ot||ft==="<"&&ri<Ot||ft===">="&&ri>=Ot||ft==="<="&&ri<=Ot||ft==="=="&&ri==Ot||ft==="==="&&ri===Ot||ft==="!="&&ri!=Ot||ft==="!=="&&ri!==Ot}return!0}(N,Y),{backgroundColor:ne,borderColor:ae,distance:de,style:oe={}}=Y,Me,we,Se,ke={},ve=V[J],Mt=!ve,yt;re&&(we=yr(Me=Xa(Y[N.formatPrefix+"Format"],Y.format))?k_(Me,N,E):(Y[N.formatPrefix+"Formatter"]||Y.formatter).call(N,Y),Se=Y.rotation,!E.styledMode&&(oe.color=Xa(Y.color,oe.color,Rg(x.color)?x.color:void 0,"#000000"),oe.color==="contrast"?(ne!=="none"&&(yt=ne),N.contrastColor=I.getContrast(yt!=="auto"&&yt||N.color||x.color),oe.color=yt||!yr(de)&&Y.inside||0>O_(de||0)||M.stacking?N.contrastColor:P):delete N.contrastColor,M.cursor&&(oe.cursor=M.cursor)),ke={r:Y.borderRadius||0,rotation:Se,padding:Y.padding,zIndex:1},E.styledMode||(ke.fill=ne==="auto"?N.color:ne,ke.stroke=ae==="auto"?N.color:ae,ke["stroke-width"]=Y.borderWidth),L_(ke,(Be,ot)=>{Be===void 0&&delete ke[ot]})),!ve||re&&yr(we)&&!!ve.div==!!Y.useHTML&&(ve.rotation&&Y.rotation||ve.rotation===Y.rotation)||(ve=void 0,Mt=!0),re&&yr(we)&&(ve?ke.text=we:(ve=I.label(we,0,0,Y.shape,void 0,void 0,Y.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+N.colorIndex+" "+(Y.className||"")+(Y.useHTML?" highcharts-tracker":"")),ve&&(ve.options=Y,ve.attr(ke),E.styledMode?oe.width&&ve.css({width:oe.width,textOverflow:oe.textOverflow,whiteSpace:oe.whiteSpace}):ve.css(oe).shadow(Y.shadow),Mg(ve,"beforeAddingDataLabel",{labelOptions:Y,point:N}),ve.added||ve.add(w),x.alignDataLabel(N,ve,Y,void 0,Mt),ve.isActive=!0,V[J]&&V[J]!==ve&&V[J].destroy(),V[J]=ve))});let q=V.length;for(;q--;)V[q]&&V[q].isActive?V[q].isActive=!1:(V[q]?.destroy(),V.splice(q,1));N.dataLabel=V[0],N.dataLabels=V})),Mg(this,"afterDrawDataLabels")}function g(S,w,x,E,M,I){let F=this.chart,T=w.align,P=w.verticalAlign,_=S.box?0:S.padding||0,B=F.inverted?this.yAxis:this.xAxis,z=B?B.left-F.plotLeft:0,G=F.inverted?this.xAxis:this.yAxis,N=G?G.top-F.plotTop:0,{x:V=0,y:q=0}=w,Y,J;return(Y=(x.x||0)+_+z)<0&&(T==="right"&&V>=0?(w.align="left",w.inside=!0):V-=Y,J=!0),(Y=(x.x||0)+E.width-_+z)>F.plotWidth&&(T==="left"&&V<=0?(w.align="right",w.inside=!0):V+=F.plotWidth-Y,J=!0),(Y=x.y+_+N)<0&&(P==="bottom"&&q>=0?(w.verticalAlign="top",w.inside=!0):q-=Y,J=!0),(Y=(x.y||0)+E.height-_+N)>F.plotHeight&&(P==="top"&&q<=0?(w.verticalAlign="bottom",w.inside=!0):q+=F.plotHeight-Y,J=!0),J&&(w.x=V,w.y=q,S.placed=!I,S.align(w,void 0,M)),J}function f(S,w){let x=[],E;if(Hn(S)&&!Hn(w))x=S.map(function(M){return Ya(M,w)});else if(Hn(w)&&!Hn(S))x=w.map(function(M){return Ya(S,M)});else if(Hn(S)||Hn(w)){if(Hn(S)&&Hn(w))for(E=Math.max(S.length,w.length);E--;)x[E]=Ya(S[E],w[E])}else x=Ya(S,w);return x}function m(S){let w=S.chart.options.plotOptions;return _w(f(f(w?.series?.dataLabels,w?.[S.type]?.dataLabels),S.options.dataLabels))}function y(S,w,x,E,M){let I=this.chart,F=I.inverted,T=this.xAxis,P=T.reversed,_=((F?w.height:w.width)||0)/2,B=S.pointWidth,z=B?B/2:0;w.startXPos=F?M.x:P?-_-z:T.width-_+z,w.startYPos=F?P?this.yAxis.height-_+z:-_-z:M.y,E?w.visibility==="hidden"&&(w.show(),w.attr({opacity:0}).animate({opacity:1})):w.attr({opacity:1}).animate({opacity:0},void 0,w.hide),I.hasRendered&&(x&&w.attr({x:w.startXPos,y:w.startYPos}),w.placed=!0)}C.compose=function(S){let w=S.prototype;w.initDataLabels||(w.initDataLabels=u,w.initDataLabelsGroup=c,w.alignDataLabel=l,w.drawDataLabels=p,w.justifyDataLabel=g,w.setDataLabelStartPos=y,w.hasDataLabels=o)}})(A||(A={}));let dd=A,{composed:N_}=W,{series:kw}=xt,{merge:B_,pick:Za,pushUnique:G_}=he;(function(C){function o(l,c,u,p,g){let f=this.chart.inverted,m=l.series,y=(m.xAxis?m.xAxis.len:this.chart.plotSizeX)||0,S=(m.yAxis?m.yAxis.len:this.chart.plotSizeY)||0,w=l.dlBox||l.shapeArgs,x=Za(l.below,l.plotY>Za(this.translatedThreshold,S)),E=Za(u.inside,!!this.options.stacking);if(w){if(p=B_(w),!(u.overflow==="allow"&&u.crop===!1)){p.y<0&&(p.height+=p.y,p.y=0);let M=p.y+p.height-S;M>0&&M<p.height-1&&(p.height-=M)}f&&(p={x:S-p.y-p.height,y:y-p.x-p.width,width:p.height,height:p.width}),E||(f?(p.x+=x?0:p.width,p.width=0):(p.y+=x?p.height:0,p.height=0))}u.align=Za(u.align,!f||E?"center":x?"right":"left"),u.verticalAlign=Za(u.verticalAlign,f||E?"middle":x?"top":"bottom"),kw.prototype.alignDataLabel.call(this,l,c,u,p,g),u.inside&&l.contrastColor&&c.css({color:l.contrastColor})}C.compose=function(l){dd.compose(kw),G_(N_,"ColumnDataLabel")&&(l.prototype.alignDataLabel=o)}})(k||(k={}));let V_=k,{extend:H_,merge:z_}=he;class Tg extends cd{}Tg.defaultOptions=z_(cd.defaultOptions,{}),H_(Tg.prototype,{inverted:!0}),xt.registerSeriesType("bar",Tg);let{column:W_,line:Lw}=xt.seriesTypes,{addEvent:j_,extend:U_,merge:$_}=he;class ud extends Lw{applyJitter(){let o=this,l=this.options.jitter,c=this.points.length;l&&this.points.forEach(function(u,p){["x","y"].forEach(function(g,f){if(l[g]&&!u.isNull){let m=`plot${g.toUpperCase()}`,y=o[`${g}Axis`],S=l[g]*y.transA;if(y&&!y.logarithmic){let w=Math.max(0,(u[m]||0)-S),x=Math.min(y.len,(u[m]||0)+S);u[m]=w+(x-w)*function(E){let M=1e4*Math.sin(E);return M-Math.floor(M)}(p+f*c),g==="x"&&(u.clientX=u.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}ud.defaultOptions=$_(Lw.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),U_(ud.prototype,{drawTracker:W_.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),j_(ud,"afterTranslate",function(){this.applyJitter()}),xt.registerSeriesType("scatter",ud);let{deg2rad:Ow}=W,{fireEvent:K_,isNumber:Ig,pick:hd,relativeLength:q_}=he;(function(C){C.getCenter=function(){let o=this.options,l=this.chart,c=2*(o.slicedOffset||0),u=l.plotWidth-2*c,p=l.plotHeight-2*c,g=o.center,f=Math.min(u,p),m=o.thickness,y,S=o.size,w=o.innerSize||0,x,E;typeof S=="string"&&(S=parseFloat(S)),typeof w=="string"&&(w=parseFloat(w));let M=[hd(g?.[0],"50%"),hd(g?.[1],"50%"),hd(S&&S<0?void 0:o.size,"100%"),hd(w&&w<0?void 0:o.innerSize||0,"0%")];for(!l.angular||this instanceof Ni||(M[3]=0),x=0;x<4;++x)E=M[x],y=x<2||x===2&&/%$/.test(E),M[x]=q_(E,[u,p,f,M[2]][x])+(y?c:0);return M[3]>M[2]&&(M[3]=M[2]),Ig(m)&&2*m<M[2]&&m>0&&(M[3]=M[2]-2*m),K_(this,"afterGetCenter",{positions:M}),M},C.getStartAndEndRadians=function(o,l){let c=Ig(o)?o:0,u=Ig(l)&&l>c&&l-c<360?l:c+360;return{start:Ow*(c+-90),end:Ow*(u+-90)}}})(L||(L={}));let Nw=L,{setAnimation:Y_}=si,{addEvent:Bw,defined:X_,extend:Z_,isNumber:Q_,pick:J_,relativeLength:ek}=he;class Gw extends Ln{getConnectorPath(o){let l=o.dataLabelPosition,c=o.options||{},u=c.connectorShape,p=this.connectorShapes[u]||u;return l&&p.call(this,be(U({},l.computed),{alignment:l.alignment}),l.connectorPosition,c)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(o){let l=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(l.x,l.y,l.r+o,l.r+o,{innerR:l.r-1,start:l.start,end:l.end,borderRadius:l.borderRadius})}constructor(o,l,c){super(o,l,c),this.half=0,this.name??(this.name="Slice");let u=p=>{this.slice(p.type==="select")};Bw(this,"select",u),Bw(this,"unselect",u)}isValid(){return Q_(this.y)&&this.y>=0}setVisible(o,l=!0){o!==this.visible&&this.update({visible:o??!this.visible},l,void 0,!1)}slice(o,l,c){let u=this.series;Y_(c,u.chart),l=J_(l,!0),this.sliced=this.options.sliced=o=X_(o)?o:!this.sliced,u.options.data[u.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Z_(Gw.prototype,{connectorShapes:{fixedOffset:function(C,o,l){let c=o.breakAt,u=o.touchingSliceAt,p=l.softConnector?["C",C.x+(C.alignment==="left"?-5:5),C.y,2*c.x-u.x,2*c.y-u.y,c.x,c.y]:["L",c.x,c.y];return[["M",C.x,C.y],p,["L",u.x,u.y]]},straight:function(C,o){let l=o.touchingSliceAt;return[["M",C.x,C.y],["L",l.x,l.y]]},crookedLine:function(C,o,l){let{angle:c=this.angle||0,breakAt:u,touchingSliceAt:p}=o,{series:g}=this,[f,m,y]=g.center,S=y/2,{plotLeft:w,plotWidth:x}=g.chart,E=C.alignment==="left",{x:M,y:I}=C,F=u.x;if(l.crookDistance){let P=ek(l.crookDistance,1);F=E?f+S+(x+w-f-S)*(1-P):w+(f-S)*P}else F=f+(m-I)*Math.tan(c-Math.PI/2);let T=[["M",M,I]];return(E?F<=M&&F>=u.x:F>=M&&F<=u.x)&&T.push(["L",F,I]),T.push(["L",u.x,u.y],["L",p.x,p.y]),T}}});let{getStartAndEndRadians:tk}=Nw,{noop:Vw}=W,{clamp:ik,extend:sk,fireEvent:Hw,merge:Ag,pick:nk}=he;class Fg extends Ni{animate(o){let l=this,c=l.points,u=l.startAngleRad;o||c.forEach(function(p){let g=p.graphic,f=p.shapeArgs;g&&f&&(g.attr({r:nk(p.startR,l.center&&l.center[3]/2),start:u,end:u}),g.animate({r:f.r,start:f.start,end:f.end},l.options.animation))})}drawEmpty(){let o,l,c=this.startAngleRad,u=this.endAngleRad,p=this.options;this.total===0&&this.center?(o=this.center[0],l=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(o,l,this.center[1]/2,0,c,u).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:gy.arc(o,l,this.center[2]/2,0,{start:c,end:u,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":p.borderWidth,fill:p.fillColor||"none",stroke:p.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let o=this.chart.renderer;this.points.forEach(function(l){l.graphic&&l.hasNewShapeType()&&(l.graphic=l.graphic.destroy()),l.graphic||(l.graphic=o[l.shapeType](l.shapeArgs).add(l.series.group),l.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(o,l,c,u){let p=this.center,g=this.radii?this.radii[c.index]||0:p[2]/2,f=u.dataLabelPosition,m=f?.distance||0,y=Math.asin(ik((o-p[1])/(g+m),-1,1));return p[0]+Math.cos(y)*(g+m)*(l?-1:1)+(m>0?(l?-1:1)*(u.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let o,l,c,u,p=this,g=p.chart;this.drawEmpty(),p.group&&!g.styledMode&&p.group.shadow(p.options.shadow),p.points.forEach(function(f){let m={};l=f.graphic,!f.isNull&&l?(u=f.shapeArgs,o=f.getTranslate(),g.styledMode||(c=p.pointAttribs(f,f.selected&&"select")),f.delayedRendering?(l.setRadialReference(p.center).attr(u).attr(o),g.styledMode||l.attr(c).attr({"stroke-linejoin":"round"}),f.delayedRendering=!1):(l.setRadialReference(p.center),g.styledMode||Ag(!0,m,c),Ag(!0,m,u,o),l.animate(m)),l.attr({visibility:f.visible?"inherit":"hidden"}),l.addClass(f.getClassName(),!0)):l&&(f.graphic=l.destroy())})}sortByAngle(o,l){o.sort(function(c,u){return c.angle!==void 0&&(u.angle-c.angle)*l})}translate(o){Hw(this,"translate"),this.generatePoints();let l=this.options,c=l.slicedOffset,u=tk(l.startAngle,l.endAngle),p=this.startAngleRad=u.start,g=(this.endAngleRad=u.end)-p,f=this.points,m=l.ignoreHiddenPoint,y=f.length,S,w,x,E,M,I,F,T=0;for(o||(this.center=o=this.getCenter()),I=0;I<y;I++){F=f[I],S=p+T*g,F.isValid()&&(!m||F.visible)&&(T+=F.percentage/100),w=p+T*g;let P={x:o[0],y:o[1],r:o[2]/2,innerR:o[3]/2,start:Math.round(1e3*S)/1e3,end:Math.round(1e3*w)/1e3};F.shapeType="arc",F.shapeArgs=P,(x=(w+S)/2)>1.5*Math.PI?x-=2*Math.PI:x<-Math.PI/2&&(x+=2*Math.PI),F.slicedTranslation={translateX:Math.round(Math.cos(x)*c),translateY:Math.round(Math.sin(x)*c)},E=Math.cos(x)*o[2]/2,M=Math.sin(x)*o[2]/2,F.tooltipPos=[o[0]+.7*E,o[1]+.7*M],F.half=x<-Math.PI/2||x>Math.PI/2?1:0,F.angle=x}Hw(this,"afterTranslate")}updateTotals(){let o=this.points,l=o.length,c=this.options.ignoreHiddenPoint,u,p,g=0;for(u=0;u<l;u++)(p=o[u]).isValid()&&(!c||p.visible)&&(g+=p.y);for(u=0,this.total=g;u<l;u++)(p=o[u]).percentage=g>0&&(p.visible||!c)?p.y/g*100:0,p.total=g}}Fg.defaultOptions=Ag(Ni.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),sk(Fg.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:cd.prototype.drawTracker,getCenter:Nw.getCenter,getSymbol:Vw,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:cd.prototype.pointAttribs,pointClass:Gw,requireSorting:!1,searchPoint:Vw,trackerGroups:["group","dataLabelsGroup"]}),xt.registerSeriesType("pie",Fg);let{composed:rk,noop:ok}=W,{distribute:ak}=Mc,{series:zw}=xt,{arrayMax:lk,clamp:Ww,defined:jw,pick:ck,pushUnique:dk,relativeLength:Uw}=he;(function(C){let o={radialDistributionY:function(g,f){return(f.dataLabelPosition?.top||0)+g.distributeBox.pos},radialDistributionX:function(g,f,m,y,S){let w=S.dataLabelPosition;return g.getX(m<(w?.top||0)+2||m>(w?.bottom||0)-2?y:m,f.half,f,S)},justify:function(g,f,m,y){return y[0]+(g.half?-1:1)*(m+(f.dataLabelPosition?.distance||0))},alignToPlotEdges:function(g,f,m,y){let S=g.getBBox().width;return f?S+y:m-S-y},alignToConnectors:function(g,f,m,y){let S=0,w;return g.forEach(function(x){(w=x.dataLabel.getBBox().width)>S&&(S=w)}),f?S+y:m-S-y}};function l(g,f){let m=Math.PI/2,{start:y=0,end:S=0}=g.shapeArgs||{},w=g.angle||0;f>0&&y<m&&S>m&&w>m/2&&w<1.5*m&&(w=w<=m?Math.max(m/2,(y+m)/2):Math.min(1.5*m,(m+S)/2));let{center:x,options:E}=this,M=x[2]/2,I=Math.cos(w),F=Math.sin(w),T=x[0]+I*M,P=x[1]+F*M,_=Math.min((E.slicedOffset||0)+(E.borderWidth||0),f/5);return{natural:{x:T+I*f,y:P+F*f},computed:{},alignment:f<0?"center":g.half?"right":"left",connectorPosition:{angle:w,breakAt:{x:T+I*_,y:P+F*_},touchingSliceAt:{x:T,y:P}},distance:f}}function c(){let g=this,f=g.points,m=g.chart,y=m.plotWidth,S=m.plotHeight,w=m.plotLeft,x=Math.round(m.chartWidth/3),E=g.center,M=E[2]/2,I=E[1],F=[[],[]],T=[0,0,0,0],P=g.dataLabelPositioners,_,B,z,G=0;g.visible&&g.hasDataLabels?.()&&(f.forEach(N=>{(N.dataLabels||[]).forEach(V=>{V.shortened&&(V.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),V.shortened=!1)})}),zw.prototype.drawDataLabels.apply(g),f.forEach(N=>{(N.dataLabels||[]).forEach((V,q)=>{let Y=E[2]/2,J=V.options,re=Uw(J?.distance||0,Y);q===0&&F[N.half].push(N),!jw(J?.style?.width)&&V.getBBox().width>x&&(V.css({width:Math.round(.7*x)+"px"}),V.shortened=!0),V.dataLabelPosition=this.getDataLabelPosition(N,re),G=Math.max(G,re)})}),F.forEach((N,V)=>{let q=N.length,Y=[],J,re,ne=0,ae;q&&(g.sortByAngle(N,V-.5),G>0&&(J=Math.max(0,I-M-G),re=Math.min(I+M+G,m.plotHeight),N.forEach(de=>{(de.dataLabels||[]).forEach(oe=>{let Me=oe.dataLabelPosition;Me&&Me.distance>0&&(Me.top=Math.max(0,I-M-Me.distance),Me.bottom=Math.min(I+M+Me.distance,m.plotHeight),ne=oe.getBBox().height||21,oe.lineHeight=m.renderer.fontMetrics(oe.text||oe).h+2*oe.padding,de.distributeBox={target:(oe.dataLabelPosition?.natural.y||0)-Me.top+oe.lineHeight/2,size:ne,rank:de.y},Y.push(de.distributeBox))})}),ak(Y,ae=re+ne-J,ae/5)),N.forEach(de=>{(de.dataLabels||[]).forEach(oe=>{let Me=oe.options||{},we=de.distributeBox,Se=oe.dataLabelPosition,ke=Se?.natural.y||0,ve=Me.connectorPadding||0,Mt=oe.lineHeight||21,yt=(Mt-oe.getBBox().height)/2,Be=0,ot=ke,Lt="inherit";if(Se){if(Y&&jw(we)&&Se.distance>0&&(we.pos===void 0?Lt="hidden":(z=we.size,ot=P.radialDistributionY(de,oe))),Me.justify)Be=P.justify(de,oe,M,E);else switch(Me.alignTo){case"connectors":Be=P.alignToConnectors(N,V,y,w);break;case"plotEdges":Be=P.alignToPlotEdges(oe,V,y,w);break;default:Be=P.radialDistributionX(g,de,ot-yt,ke,oe)}if(Se.attribs={visibility:Lt,align:Se.alignment},Se.posAttribs={x:Be+(Me.x||0)+({left:ve,right:-ve}[Se.alignment]||0),y:ot+(Me.y||0)-Mt/2},Se.computed.x=Be,Se.computed.y=ot-yt,ck(Me.crop,!0)){let ft;Be-(B=oe.getBBox().width)<ve&&V===1?(ft=Math.round(B-Be+ve),T[3]=Math.max(ft,T[3])):Be+B>y-ve&&V===0&&(ft=Math.round(Be+B-y+ve),T[1]=Math.max(ft,T[1])),ot-z/2<0?T[0]=Math.max(Math.round(-ot+z/2),T[0]):ot+z/2>S&&(T[2]=Math.max(Math.round(ot+z/2-S),T[2])),Se.sideOverflow=ft}}})}))}),(lk(T)===0||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),this.points.forEach(N=>{(N.dataLabels||[]).forEach(V=>{let{connectorColor:q,connectorWidth:Y=1}=V.options||{},J=V.dataLabelPosition;if(Y){let re;_=V.connector,J&&J.distance>0?(re=!_,_||(V.connector=_=m.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+N.colorIndex+(N.className?" "+N.className:"")).add(g.dataLabelsGroup)),m.styledMode||_.attr({"stroke-width":Y,stroke:q||N.color||"#666666"}),_[re?"attr":"animate"]({d:N.getConnectorPath(V)}),_.attr({visibility:J.attribs?.visibility})):_&&(V.connector=_.destroy())}})})))}function u(){this.points.forEach(g=>{(g.dataLabels||[]).forEach(f=>{let m=f.dataLabelPosition;m?(m.sideOverflow&&(f.css({width:Math.max(f.getBBox().width-m.sideOverflow,0)+"px",textOverflow:(f.options?.style||{}).textOverflow||"ellipsis"}),f.shortened=!0),f.attr(m.attribs),f[f.moved?"animate":"attr"](m.posAttribs),f.moved=!0):f&&f.attr({y:-9999})}),delete g.distributeBox},this)}function p(g){let f=this.center,m=this.options,y=m.center,S=m.minSize||80,w=S,x=m.size!==null;return!x&&(y[0]!==null?w=Math.max(f[2]-Math.max(g[1],g[3]),S):(w=Math.max(f[2]-g[1]-g[3],S),f[0]+=(g[3]-g[1])/2),y[1]!==null?w=Ww(w,S,f[2]-Math.max(g[0],g[2])):(w=Ww(w,S,f[2]-g[0]-g[2]),f[1]+=(g[0]-g[2])/2),w<f[2]?(f[2]=w,f[3]=Math.min(m.thickness?Math.max(0,w-2*m.thickness):Math.max(0,Uw(m.innerSize||0,w)),w),this.translate(f),this.drawDataLabels&&this.drawDataLabels()):x=!0),x}C.compose=function(g){if(dd.compose(zw),dk(rk,"PieDataLabel")){let f=g.prototype;f.dataLabelPositioners=o,f.alignDataLabel=ok,f.drawDataLabels=c,f.getDataLabelPosition=l,f.placeDataLabels=u,f.verifyDataLabelOverflow=p}}})(H||(H={}));let uk=H;(function(C){C.getCenterOfPoints=function(o){let l=o.reduce((c,u)=>(c.x+=u.x,c.y+=u.y,c),{x:0,y:0});return{x:l.x/o.length,y:l.y/o.length}},C.getDistanceBetweenPoints=function(o,l){return Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2))},C.getAngleBetweenPoints=function(o,l){return Math.atan2(l.x-o.x,l.y-o.y)},C.pointInPolygon=function({x:o,y:l},c){let u=c.length,p,g,f=!1;for(p=0,g=u-1;p<u;g=p++){let[m,y]=c[p],[S,w]=c[g];y>l!=w>l&&o<(S-m)*(l-y)/(w-y)+m&&(f=!f)}return f}})($||($={}));let{pointInPolygon:hk}=$,{addEvent:pk,fireEvent:$w,objectEach:Kw,pick:gk}=he;function fk(C){let o=C.length,l=(S,w)=>!(w.x>=S.x+S.width||w.x+w.width<=S.x||w.y>=S.y+S.height||w.y+w.height<=S.y),c=(S,w)=>{for(let x of S)if(hk({x:x[0],y:x[1]},w))return!0;return!1},u,p,g,f,m,y=!1;for(let S=0;S<o;S++)(u=C[S])&&(u.oldOpacity=u.opacity,u.newOpacity=1,u.absoluteBox=function(w){if(w&&(!w.alignAttr||w.placed)){let x=w.box?0:w.padding||0,E=w.alignAttr||{x:w.attr("x"),y:w.attr("y")},M=w.getBBox();return w.width=M.width,w.height=M.height,{x:E.x+(w.parentGroup?.translateX||0)+x,y:E.y+(w.parentGroup?.translateY||0)+x,width:(w.width||0)-2*x,height:(w.height||0)-2*x,polygon:M?.polygon}}}(u));C.sort((S,w)=>(w.labelrank||0)-(S.labelrank||0));for(let S=0;S<o;++S){f=(p=C[S])&&p.absoluteBox;let w=f?.polygon;for(let x=S+1;x<o;++x){m=(g=C[x])&&g.absoluteBox;let E=!1;if(f&&m&&p!==g&&p.newOpacity!==0&&g.newOpacity!==0&&p.visibility!=="hidden"&&g.visibility!=="hidden"){let M=m.polygon;if(w&&M&&w!==M?c(w,M)&&(E=!0):l(f,m)&&(E=!0),E){let I=p.labelrank<g.labelrank?p:g,F=I.text;I.newOpacity=0,F?.element.querySelector("textPath")&&F.hide()}}}}for(let S of C)qw(S,this)&&(y=!0);y&&$w(this,"afterHideAllOverlappingLabels")}function qw(C,o){let l,c,u=!1;return C&&(c=C.newOpacity,C.oldOpacity!==c&&(C.hasClass("highcharts-data-label")?(C[c?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=function(){o.styledMode||C.css({pointerEvents:c?"auto":"none"})},u=!0,C[C.isOld?"animate":"attr"]({opacity:c},void 0,l),$w(o,"afterHideOverlappingLabel")):C.attr({opacity:c})),C.isOld=!0),u}function mk(){let C=this,o=[];for(let l of C.labelCollectors||[])o=o.concat(l());for(let l of C.yAxis||[])l.stacking&&l.options.stackLabels&&!l.options.stackLabels.allowOverlap&&Kw(l.stacking.stacks,c=>{Kw(c,u=>{u.label&&o.push(u.label)})});for(let l of C.series||[])if(l.visible&&l.hasDataLabels?.()){let c=u=>{for(let p of u)p.visible&&(p.dataLabels||[]).forEach(g=>{let f=g.options||{};g.labelrank=gk(f.labelrank,p.labelrank,p.shapeArgs?.height),f.allowOverlap??Number(f.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,qw(g,C)):o.push(g)})};c(l.nodes||[]),c(l.points)}this.hideOverlappingLabels(o)}let Yw={compose:function(C){let o=C.prototype;o.hideOverlappingLabels||(o.hideOverlappingLabels=fk,pk(C,"render",mk))}},{defaultOptions:vk}=Wi,{noop:Xw}=W,{addEvent:Zw,extend:Ck,isObject:Qw,merge:bk,relativeLength:Pg}=he,yk={radius:0,scope:"stack",where:void 0},Jw=Xw,e0=Xw;function wk(C,o,l,c,u={}){let p=Jw(C,o,l,c,u),{innerR:g=0,r:f=l,start:m=0,end:y=0}=u;if(u.open||!u.borderRadius)return p;let S=y-m,w=Math.sin(S/2),x=Math.max(Math.min(Pg(u.borderRadius||0,f-g),(f-g)/2,f*w/(1+w)),0),E=Math.min(x,S/Math.PI*2*g),M=p.length-1;for(;M--;)(function(I,F,T){let P,_,B,z=I[F],G=I[F+1];if(G[0]==="Z"&&(G=I[0]),(z[0]==="M"||z[0]==="L")&&G[0]==="A"?(P=z,_=G,B=!0):z[0]==="A"&&(G[0]==="M"||G[0]==="L")&&(P=G,_=z),P&&_&&_.params){let N=_[1],V=_[5],q=_.params,{start:Y,end:J,cx:re,cy:ne}=q,ae=V?N-T:N+T,de=ae?Math.asin(T/ae):0,oe=V?de:-de,Me=Math.cos(de)*ae;B?(q.start=Y+oe,P[1]=re+Me*Math.cos(Y),P[2]=ne+Me*Math.sin(Y),I.splice(F+1,0,["A",T,T,0,0,1,re+N*Math.cos(q.start),ne+N*Math.sin(q.start)])):(q.end=J-oe,_[6]=re+N*Math.cos(q.end),_[7]=ne+N*Math.sin(q.end),I.splice(F+1,0,["A",T,T,0,0,1,re+Me*Math.cos(J),ne+Me*Math.sin(J)])),_[4]=Math.abs(q.end-q.start)<Math.PI?0:1}})(p,M,M>1?E:x);return p}function Sk(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:C,yAxis:o}=this,l=C.stacking==="percent",c=vk.plotOptions?.[this.type]?.borderRadius,u=_g(C.borderRadius,Qw(c)?c:{}),p=o.options.reversed;for(let g of this.points){let{shapeArgs:f}=g;if(g.shapeType==="roundedRect"&&f){let{width:m=0,height:y=0,y:S=0}=f,w=S,x=y;if(u.scope==="stack"&&g.stackTotal){let F=o.translate(l?100:g.stackTotal,!1,!0,!1,!0),T=o.translate(C.threshold||0,!1,!0,!1,!0),P=this.crispCol(0,Math.min(F,T),0,Math.abs(F-T));w=P.y,x=P.height}let E=(g.negative?-1:1)*(p?-1:1)==-1,M=u.where;!M&&this.is("waterfall")&&Math.abs((g.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(M="all"),M||(M="end");let I=Math.min(Pg(u.radius,m),m/2,M==="all"?y/2:1/0)||0;M==="end"&&(E&&(w-=I),x+=I),Ck(f,{brBoxHeight:x,brBoxY:w,r:I})}}}}function _g(C,o){return Qw(C)||(C={radius:C||0}),bk(yk,o,C)}function xk(){let C=_g(this.options.borderRadius);for(let o of this.points){let l=o.shapeArgs;l&&(l.borderRadius=Pg(C.radius,(l.r||0)-(l.innerR||0)))}}function Dk(C,o,l,c,u={}){let p=e0(C,o,l,c,u),{r:g=0,brBoxHeight:f=c,brBoxY:m=o}=u,y=o-m,S=m+f-(o+c),w=y-g>-.1?0:g,x=S-g>-.1?0:g,E=Math.max(w&&y,0),M=Math.max(x&&S,0),I=[C+w,o],F=[C+l-w,o],T=[C+l,o+w],P=[C+l,o+c-x],_=[C+l-x,o+c],B=[C+x,o+c],z=[C,o+c-x],G=[C,o+w],N=(V,q)=>Math.sqrt(Math.pow(V,2)-Math.pow(q,2));if(E){let V=N(w,w-E);I[0]-=V,F[0]+=V,T[1]=G[1]=o+w-E}if(c<w-E){let V=N(w,w-E-c);T[0]=P[0]=C+l-w+V,_[0]=Math.min(T[0],_[0]),B[0]=Math.max(P[0],B[0]),z[0]=G[0]=C+w-V,T[1]=G[1]=o+c}if(M){let V=N(x,x-M);_[0]+=V,B[0]-=V,P[1]=z[1]=o+c-x+M}if(c<x-M){let V=N(x,x-M-c);T[0]=P[0]=C+l-x+V,F[0]=Math.min(T[0],F[0]),I[0]=Math.max(P[0],I[0]),z[0]=G[0]=C+x-V,P[1]=z[1]=o}return p.length=0,p.push(["M",...I],["L",...F],["A",w,w,0,0,1,...T],["L",...P],["A",x,x,0,0,1,..._],["L",...B],["A",x,x,0,0,1,...z],["L",...G],["A",w,w,0,0,1,...I],["Z"]),p}let{diffObjects:Ek,extend:Mk,find:Rk,merge:Tk,pick:pd,uniqueKey:Ik}=he;(function(C){function o(c,u){let p=c.condition;(p.callback||function(){return this.chartWidth<=pd(p.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=pd(p.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=pd(p.minWidth,0)&&this.chartHeight>=pd(p.minHeight,0)}).call(this)&&u.push(c._id)}function l(c,u){let p=this.options.responsive,g=this.currentResponsive,f=[],m;!u&&p&&p.rules&&p.rules.forEach(w=>{w._id===void 0&&(w._id=Ik()),this.matchResponsiveRule(w,f)},this);let y=Tk(...f.map(w=>Rk((p||{}).rules||[],x=>x._id===w)).map(w=>w&&w.chartOptions));y.isResponsiveOptions=!0,f=f.toString()||void 0;let S=g&&g.ruleIds;f===S||(g&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(g.undoOptions,c,!0),this.updatingResponsive=!1),f?((m=Ek(y,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:f,mergedOptions:y,undoOptions:m},this.updatingResponsive||this.update(y,c,!0)):this.currentResponsive=void 0)}C.compose=function(c){let u=c.prototype;return u.matchResponsiveRule||Mk(u,{matchResponsiveRule:o,setResponsive:l}),c}})(Z||(Z={}));let Ak=Z;W.AST=ht,W.Axis=$p,W.Chart=Gn,W.Color=kt,W.DataLabel=dd,W.DataTableCore=Xc,W.Fx=hr,W.HTMLElement=Wa,W.Legend=aw,W.LegendSymbol=Ky,W.OverlappingDataLabels=W.OverlappingDataLabels||Yw,W.PlotLineOrBand=Wc,W.Point=Ln,W.Pointer=jy,W.RendererRegistry=Oa,W.Series=Ni,W.SeriesRegistry=xt,W.StackItem=yw,W.SVGElement=Fs,W.SVGRenderer=kc,W.Templating=rs,W.Tick=go,W.Time=xp,W.Tooltip=Gy,W.animate=si.animate,W.animObject=si.animObject,W.chart=Gn.chart,W.color=kt.parse,W.dateFormat=rs.dateFormat,W.defaultOptions=Wi.defaultOptions,W.distribute=Mc.distribute,W.format=rs.format,W.getDeferredAnimation=si.getDeferredAnimation,W.getOptions=Wi.getOptions,W.numberFormat=rs.numberFormat,W.seriesType=xt.seriesType,W.setAnimation=si.setAnimation,W.setOptions=Wi.setOptions,W.stop=si.stop,W.time=Wi.defaultTime,W.timers=hr.timers,{compose:function(C,o,l){let c=C.types.pie;if(!o.symbolCustomAttribs.includes("borderRadius")){let u=l.prototype.symbols;Zw(C,"afterColumnTranslate",Sk,{order:9}),Zw(c,"afterTranslate",xk),o.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),Jw=u.arc,e0=u.roundedRect,u.arc=wk,u.roundedRect=Dk}},optionsToObject:_g}.compose(W.Series,W.SVGElement,W.SVGRenderer),V_.compose(W.Series.types.column),dd.compose(W.Series),wF.compose(W.Axis),Wa.compose(W.SVGRenderer),aw.compose(W.Chart),DF.compose(W.Axis),Yw.compose(W.Chart),uk.compose(W.Series.types.pie),Wc.compose(W.Chart,W.Axis),jy.compose(W.Chart),Ak.compose(W.Chart),Cw.compose(W.Axis,W.Chart,W.Series),b_.compose(W.Axis,W.Chart,W.Series),Gy.compose(W.Pointer),he.extend(W,he);let Fk=W;return se.default})())});function zk(e,t){return Object.is(e,t)}var Ht=null,fd=!1,Lg=1,ks=Symbol("SIGNAL");function Ge(e){let t=Ht;return Ht=e,t}function a0(){return Ht}var el={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function l0(e){if(fd)throw new Error("");if(Ht===null)return;Ht.consumerOnSignalRead(e);let t=Ht.nextProducerIndex++;if(bd(Ht),t<Ht.producerNode.length&&Ht.producerNode[t]!==e&&Ja(Ht)){let i=Ht.producerNode[t];Cd(i,Ht.producerIndexOfThis[t])}Ht.producerNode[t]!==e&&(Ht.producerNode[t]=e,Ht.producerIndexOfThis[t]=Ja(Ht)?u0(e,Ht,t):0),Ht.producerLastReadVersion[t]=e.version}function Wk(){Lg++}function jk(e){if(!(Ja(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Lg)){if(!e.producerMustRecompute(e)&&!vd(e)){o0(e);return}e.producerRecomputeValue(e),o0(e)}}function c0(e){if(e.liveConsumerNode===void 0)return;let t=fd;fd=!0;try{for(let i of e.liveConsumerNode)i.dirty||Uk(i)}finally{fd=t}}function d0(){return Ht?.consumerAllowSignalWrites!==!1}function Uk(e){e.dirty=!0,c0(e),e.consumerMarkedDirty?.(e)}function o0(e){e.dirty=!1,e.lastCleanEpoch=Lg}function md(e){return e&&(e.nextProducerIndex=0),Ge(e)}function Og(e,t){if(Ge(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ja(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Cd(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function vd(e){bd(e);for(let t=0;t<e.producerNode.length;t++){let i=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==i.version||(jk(i),s!==i.version))return!0}return!1}function tl(e){if(bd(e),Ja(e))for(let t=0;t<e.producerNode.length;t++)Cd(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function u0(e,t,i){if(h0(e),e.liveConsumerNode.length===0&&p0(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=u0(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function Cd(e,t){if(h0(e),e.liveConsumerNode.length===1&&p0(e))for(let s=0;s<e.producerNode.length;s++)Cd(e.producerNode[s],e.producerIndexOfThis[s]);let i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let s=e.liveConsumerIndexOfThis[t],n=e.liveConsumerNode[t];bd(n),n.producerIndexOfThis[s]=t}}function Ja(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function bd(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function h0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function p0(e){return e.producerNode!==void 0}function $k(){throw new Error}var g0=$k;function f0(e){g0(e)}function m0(e){g0=e}var Kk=null;function v0(e){let t=Object.create(b0);t.value=e;let i=()=>(l0(t),t.value);return i[ks]=t,i}function Ng(e,t){d0()||f0(e),e.equal(e.value,t)||(e.value=t,qk(e))}function C0(e,t){d0()||f0(e),Ng(e,t(e.value))}var b0=be(U({},el),{equal:zk,value:void 0,kind:"signal"});function qk(e){e.version++,Wk(),c0(e),Kk?.()}var Bg;function il(){return Bg}function rn(e){let t=Bg;return Bg=e,t}var Gg=Symbol("NotFound");function Oe(e){return typeof e=="function"}function yd(e){let i=e(s=>{Error.call(s),s.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var wd=yd(e=>function(i){e(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((s,n)=>`${n+1}) ${s.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function wr(e,t){if(e){let i=e.indexOf(t);0<=i&&e.splice(i,1)}}var it=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let r of i)r.remove(this);else i.remove(this);let{initialTeardown:s}=this;if(Oe(s))try{s()}catch(r){t=r instanceof wd?r.errors:[r]}let{_finalizers:n}=this;if(n){this._finalizers=null;for(let r of n)try{y0(r)}catch(a){t=t??[],a instanceof wd?t=[...t,...a.errors]:t.push(a)}}if(t)throw new wd(t)}}add(t){var i;if(t&&t!==this)if(this.closed)y0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}}_hasParent(t){let{_parentage:i}=this;return i===t||Array.isArray(i)&&i.includes(t)}_addParent(t){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t}_removeParent(t){let{_parentage:i}=this;i===t?this._parentage=null:Array.isArray(i)&&wr(i,t)}remove(t){let{_finalizers:i}=this;i&&wr(i,t),t instanceof e&&t._removeParent(this)}};it.EMPTY=(()=>{let e=new it;return e.closed=!0,e})();var Vg=it.EMPTY;function Sd(e){return e instanceof it||e&&"closed"in e&&Oe(e.remove)&&Oe(e.add)&&Oe(e.unsubscribe)}function y0(e){Oe(e)?e():e.unsubscribe()}var ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Eo={setTimeout(e,t,...i){let{delegate:s}=Eo;return s?.setTimeout?s.setTimeout(e,t,...i):setTimeout(e,t,...i)},clearTimeout(e){let{delegate:t}=Eo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function xd(e){Eo.setTimeout(()=>{let{onUnhandledError:t}=ds;if(t)t(e);else throw e})}function sl(){}var w0=Hg("C",void 0,void 0);function S0(e){return Hg("E",void 0,e)}function x0(e){return Hg("N",e,void 0)}function Hg(e,t,i){return{kind:e,value:t,error:i}}var Sr=null;function Mo(e){if(ds.useDeprecatedSynchronousErrorHandling){let t=!Sr;if(t&&(Sr={errorThrown:!1,error:null}),e(),t){let{errorThrown:i,error:s}=Sr;if(Sr=null,i)throw s}}else e()}function D0(e){ds.useDeprecatedSynchronousErrorHandling&&Sr&&(Sr.errorThrown=!0,Sr.error=e)}var xr=class extends it{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Sd(t)&&t.add(this)):this.destination=Zk}static create(t,i,s){return new on(t,i,s)}next(t){this.isStopped?Wg(x0(t),this):this._next(t)}error(t){this.isStopped?Wg(S0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wg(w0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Yk=Function.prototype.bind;function zg(e,t){return Yk.call(e,t)}var jg=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:i}=this;if(i.next)try{i.next(t)}catch(s){Dd(s)}}error(t){let{partialObserver:i}=this;if(i.error)try{i.error(t)}catch(s){Dd(s)}else Dd(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(i){Dd(i)}}},on=class extends xr{constructor(t,i,s){super();let n;if(Oe(t)||!t)n={next:t??void 0,error:i??void 0,complete:s??void 0};else{let r;this&&ds.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),n={next:t.next&&zg(t.next,r),error:t.error&&zg(t.error,r),complete:t.complete&&zg(t.complete,r)}):n=t}this.destination=new jg(n)}};function Dd(e){ds.useDeprecatedSynchronousErrorHandling?D0(e):xd(e)}function Xk(e){throw e}function Wg(e,t){let{onStoppedNotification:i}=ds;i&&Eo.setTimeout(()=>i(e,t))}var Zk={closed:!0,next:sl,error:Xk,complete:sl};var Ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function us(e){return e}function E0(e){return e.length===0?us:e.length===1?e[0]:function(i){return e.reduce((s,n)=>n(s),i)}}var Ve=(()=>{class e{constructor(i){i&&(this._subscribe=i)}lift(i){let s=new e;return s.source=this,s.operator=i,s}subscribe(i,s,n){let r=Jk(i)?i:new on(i,s,n);return Mo(()=>{let{operator:a,source:d}=this;r.add(a?a.call(r,d):d?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return s=M0(s),new s((n,r)=>{let a=new on({next:d=>{try{i(d)}catch(h){r(h),a.unsubscribe()}},error:r,complete:n});this.subscribe(a)})}_subscribe(i){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(i)}[Ro](){return this}pipe(...i){return E0(i)(this)}toPromise(i){return i=M0(i),new i((s,n)=>{let r;this.subscribe(a=>r=a,a=>n(a),()=>s(r))})}}return e.create=t=>new e(t),e})();function M0(e){var t;return(t=e??ds.Promise)!==null&&t!==void 0?t:Promise}function Qk(e){return e&&Oe(e.next)&&Oe(e.error)&&Oe(e.complete)}function Jk(e){return e&&e instanceof xr||Qk(e)&&Sd(e)}function eL(e){return Oe(e?.lift)}function st(e){return t=>{if(eL(t))return t.lift(function(i){try{return e(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(e,t,i,s,n){return new Ug(e,t,i,s,n)}var Ug=class extends xr{constructor(t,i,s,n,r,a){super(t),this.onFinalize=r,this.shouldUnsubscribe=a,this._next=i?function(d){try{i(d)}catch(h){t.error(h)}}:super._next,this._error=n?function(d){try{n(d)}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var R0=yd(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=(()=>{class e extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let s=new Ed(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new R0}next(i){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let s of this.currentObservers)s.next(i)}})}error(i){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:s,isStopped:n,observers:r}=this;return s||n?Vg:(this.currentObservers=null,r.push(i),new it(()=>{this.currentObservers=null,wr(r,i)}))}_checkFinalizedStatuses(i){let{hasError:s,thrownError:n,isStopped:r}=this;s?i.error(n):r&&i.complete()}asObservable(){let i=new Ve;return i.source=this,i}}return e.create=(t,i)=>new Ed(t,i),e})(),Ed=class extends pe{constructor(t,i){super(),this.destination=t,this.source=i}next(t){var i,s;(s=(i=this.destination)===null||i===void 0?void 0:i.next)===null||s===void 0||s.call(i,t)}error(t){var i,s;(s=(i=this.destination)===null||i===void 0?void 0:i.error)===null||s===void 0||s.call(i,t)}complete(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)}_subscribe(t){var i,s;return(s=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&s!==void 0?s:Vg}};var Wn=class extends pe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let i=super._subscribe(t);return!i.closed&&t.next(this._value),i}getValue(){let{hasError:t,thrownError:i,_value:s}=this;if(t)throw i;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}};var nl={now(){return(nl.delegate||Date).now()},delegate:void 0};var Md=class extends pe{constructor(t=1/0,i=1/0,s=nl){super(),this._bufferSize=t,this._windowTime=i,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,i)}next(t){let{isStopped:i,_buffer:s,_infiniteTimeWindow:n,_timestampProvider:r,_windowTime:a}=this;i||(s.push(t),!n&&s.push(r.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:n}=this,r=n.slice();for(let a=0;a<r.length&&!t.closed;a+=s?1:2)t.next(r[a]);return this._checkFinalizedStatuses(t),i}_trimBuffer(){let{_bufferSize:t,_timestampProvider:i,_buffer:s,_infiniteTimeWindow:n}=this,r=(n?1:2)*t;if(t<1/0&&r<s.length&&s.splice(0,s.length-r),!n){let a=i.now(),d=0;for(let h=1;h<s.length&&s[h]<=a;h+=2)d=h;d&&s.splice(0,d+1)}}};var Rd=class extends it{constructor(t,i){super()}schedule(t,i=0){return this}};var rl={setInterval(e,t,...i){let{delegate:s}=rl;return s?.setInterval?s.setInterval(e,t,...i):setInterval(e,t,...i)},clearInterval(e){let{delegate:t}=rl;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Td=class extends Rd{constructor(t,i){super(t,i),this.scheduler=t,this.work=i,this.pending=!1}schedule(t,i=0){var s;if(this.closed)return this;this.state=t;let n=this.id,r=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(r,n,i)),this.pending=!0,this.delay=i,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(r,this.id,i),this}requestAsyncId(t,i,s=0){return rl.setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,i,s=0){if(s!=null&&this.delay===s&&this.pending===!1)return i;i!=null&&rl.clearInterval(i)}execute(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let s=this._execute(t,i);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,i){let s=!1,n;try{this.work(t)}catch(r){s=!0,n=r||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){let{id:t,scheduler:i}=this,{actions:s}=i;this.work=this.state=this.scheduler=null,this.pending=!1,wr(s,this),t!=null&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,super.unsubscribe()}}};var To=class e{constructor(t,i=e.now){this.schedulerActionCtor=t,this.now=i}schedule(t,i=0,s){return new this.schedulerActionCtor(this,t).schedule(s,i)}};To.now=nl.now;var Id=class extends To{constructor(t,i=To.now){super(t,i),this.actions=[],this._active=!1}flush(t){let{actions:i}=this;if(this._active){i.push(t);return}let s;this._active=!0;do if(s=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,s){for(;t=i.shift();)t.unsubscribe();throw s}}};var ol=new Id(Td),T0=ol;var Dr=new Ve(e=>e.complete());function Ad(e){return e&&Oe(e.schedule)}function $g(e){return e[e.length-1]}function I0(e){return Oe($g(e))?e.pop():void 0}function Ls(e){return Ad($g(e))?e.pop():void 0}function A0(e,t){return typeof $g(e)=="number"?e.pop():t}function P0(e,t,i,s){function n(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function d(b){try{v(s.next(b))}catch(D){a(D)}}function h(b){try{v(s.throw(b))}catch(D){a(D)}}function v(b){b.done?r(b.value):n(b.value).then(d,h)}v((s=s.apply(e,t||[])).next())})}function F0(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Er(e){return this instanceof Er?(this.v=e,this):new Er(e)}function _0(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(e,t||[]),n,r=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",a),n[Symbol.asyncIterator]=function(){return this},n;function a(A){return function(k){return Promise.resolve(k).then(A,D)}}function d(A,k){s[A]&&(n[A]=function(L){return new Promise(function(H,$){r.push([A,L,H,$])>1||h(A,L)})},k&&(n[A]=k(n[A])))}function h(A,k){try{v(s[A](k))}catch(L){R(r[0][3],L)}}function v(A){A.value instanceof Er?Promise.resolve(A.value.v).then(b,D):R(r[0][2],A)}function b(A){h("next",A)}function D(A){h("throw",A)}function R(A,k){A(k),r.shift(),r.length&&h(r[0][0],r[0][1])}}function k0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof F0=="function"?F0(e):e[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(r){i[r]=e[r]&&function(a){return new Promise(function(d,h){a=e[r](a),n(d,h,a.done,a.value)})}}function n(r,a,d,h){Promise.resolve(h).then(function(v){r({value:v,done:d})},a)}}var Fd=e=>e&&typeof e.length=="number"&&typeof e!="function";function Pd(e){return Oe(e?.then)}function _d(e){return Oe(e[Ro])}function kd(e){return Symbol.asyncIterator&&Oe(e?.[Symbol.asyncIterator])}function Ld(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Od=tL();function Nd(e){return Oe(e?.[Od])}function Bd(e){return _0(this,arguments,function*(){let i=e.getReader();try{for(;;){let{value:s,done:n}=yield Er(i.read());if(n)return yield Er(void 0);yield yield Er(s)}}finally{i.releaseLock()}})}function Gd(e){return Oe(e?.getReader)}function Dt(e){if(e instanceof Ve)return e;if(e!=null){if(_d(e))return iL(e);if(Fd(e))return sL(e);if(Pd(e))return nL(e);if(kd(e))return L0(e);if(Nd(e))return rL(e);if(Gd(e))return oL(e)}throw Ld(e)}function iL(e){return new Ve(t=>{let i=e[Ro]();if(Oe(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sL(e){return new Ve(t=>{for(let i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function nL(e){return new Ve(t=>{e.then(i=>{t.closed||(t.next(i),t.complete())},i=>t.error(i)).then(null,xd)})}function rL(e){return new Ve(t=>{for(let i of e)if(t.next(i),t.closed)return;t.complete()})}function L0(e){return new Ve(t=>{aL(e,t).catch(i=>t.error(i))})}function oL(e){return L0(Bd(e))}function aL(e,t){var i,s,n,r;return P0(this,void 0,void 0,function*(){try{for(i=k0(e);s=yield i.next(),!s.done;){let a=s.value;if(t.next(a),t.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&(yield r.call(i))}finally{if(n)throw n.error}}t.complete()})}function Ti(e,t,i,s=0,n=!1){let r=t.schedule(function(){i(),n?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(r),!n)return r}function Vd(e,t=0){return st((i,s)=>{i.subscribe(dt(s,n=>Ti(s,e,()=>s.next(n),t),()=>Ti(s,e,()=>s.complete(),t),n=>Ti(s,e,()=>s.error(n),t)))})}function Hd(e,t=0){return st((i,s)=>{s.add(e.schedule(()=>i.subscribe(s),t))})}function O0(e,t){return Dt(e).pipe(Hd(t),Vd(t))}function N0(e,t){return Dt(e).pipe(Hd(t),Vd(t))}function B0(e,t){return new Ve(i=>{let s=0;return t.schedule(function(){s===e.length?i.complete():(i.next(e[s++]),i.closed||this.schedule())})})}function G0(e,t){return new Ve(i=>{let s;return Ti(i,t,()=>{s=e[Od](),Ti(i,t,()=>{let n,r;try{({value:n,done:r}=s.next())}catch(a){i.error(a);return}r?i.complete():i.next(n)},0,!0)}),()=>Oe(s?.return)&&s.return()})}function zd(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ve(i=>{Ti(i,t,()=>{let s=e[Symbol.asyncIterator]();Ti(i,t,()=>{s.next().then(n=>{n.done?i.complete():i.next(n.value)})},0,!0)})})}function V0(e,t){return zd(Bd(e),t)}function H0(e,t){if(e!=null){if(_d(e))return O0(e,t);if(Fd(e))return B0(e,t);if(Pd(e))return N0(e,t);if(kd(e))return zd(e,t);if(Nd(e))return G0(e,t);if(Gd(e))return V0(e,t)}throw Ld(e)}function $i(e,t){return t?H0(e,t):Dt(e)}function Ki(...e){let t=Ls(e);return $i(e,t)}function z0(e){return e instanceof Date&&!isNaN(e)}function zt(e,t){return st((i,s)=>{let n=0;i.subscribe(dt(s,r=>{s.next(e.call(t,r,n++))}))})}var{isArray:lL}=Array;function cL(e,t){return lL(t)?e(...t):e(t)}function W0(e){return zt(t=>cL(e,t))}var{isArray:dL}=Array,{getPrototypeOf:uL,prototype:hL,keys:pL}=Object;function j0(e){if(e.length===1){let t=e[0];if(dL(t))return{args:t,keys:null};if(gL(t)){let i=pL(t);return{args:i.map(s=>t[s]),keys:i}}}return{args:e,keys:null}}function gL(e){return e&&typeof e=="object"&&uL(e)===hL}function U0(e,t){return e.reduce((i,s,n)=>(i[s]=t[n],i),{})}function Kg(...e){let t=Ls(e),i=I0(e),{args:s,keys:n}=j0(e);if(s.length===0)return $i([],t);let r=new Ve(fL(s,t,n?a=>U0(n,a):us));return i?r.pipe(W0(i)):r}function fL(e,t,i=us){return s=>{$0(t,()=>{let{length:n}=e,r=new Array(n),a=n,d=n;for(let h=0;h<n;h++)$0(t,()=>{let v=$i(e[h],t),b=!1;v.subscribe(dt(s,D=>{r[h]=D,b||(b=!0,d--),d||s.next(i(r.slice()))},()=>{--a||s.complete()}))},s)},s)}}function $0(e,t,i){e?Ti(i,e,t):t()}function K0(e,t,i,s,n,r,a,d){let h=[],v=0,b=0,D=!1,R=()=>{D&&!h.length&&!v&&t.complete()},A=L=>v<s?k(L):h.push(L),k=L=>{r&&t.next(L),v++;let H=!1;Dt(i(L,b++)).subscribe(dt(t,$=>{n?.($),r?A($):t.next($)},()=>{H=!0},void 0,()=>{if(H)try{for(v--;h.length&&v<s;){let $=h.shift();a?Ti(t,a,()=>k($)):k($)}R()}catch($){t.error($)}}))};return e.subscribe(dt(t,A,()=>{D=!0,R()})),()=>{d?.()}}function Io(e,t,i=1/0){return Oe(t)?Io((s,n)=>zt((r,a)=>t(s,r,n,a))(Dt(e(s,n))),i):(typeof t=="number"&&(i=t),st((s,n)=>K0(s,n,e,i)))}function Wd(e=1/0){return Io(us,e)}function q0(){return Wd(1)}function Ao(...e){return q0()($i(e,Ls(e)))}function al(e){return new Ve(t=>{Dt(e()).subscribe(t)})}function ll(e=0,t,i=T0){let s=-1;return t!=null&&(Ad(t)?i=t:s=t),new Ve(n=>{let r=z0(e)?+e-i.now():e;r<0&&(r=0);let a=0;return i.schedule(function(){n.closed||(n.next(a++),0<=s?this.schedule(void 0,s):n.complete())},r)})}function an(...e){let t=Ls(e),i=A0(e,1/0),s=e;return s.length?s.length===1?Dt(s[0]):Wd(i)($i(s,t)):Dr}function Rt(e,t){return st((i,s)=>{let n=0;i.subscribe(dt(s,r=>e.call(t,r,n++)&&s.next(r)))})}function Y0(e){return st((t,i)=>{let s=!1,n=null,r=null,a=!1,d=()=>{if(r?.unsubscribe(),r=null,s){s=!1;let v=n;n=null,i.next(v)}a&&i.complete()},h=()=>{r=null,a&&i.complete()};t.subscribe(dt(i,v=>{s=!0,n=v,r||Dt(e(v)).subscribe(r=dt(i,d,h))},()=>{a=!0,(!s||!r||r.closed)&&i.complete()}))})}function jd(e,t=ol){return Y0(()=>ll(e,t))}function qg(e,t){return Oe(t)?Io(e,t,1):Io(e,1)}function ln(e,t=ol){return st((i,s)=>{let n=null,r=null,a=null,d=()=>{if(n){n.unsubscribe(),n=null;let v=r;r=null,s.next(v)}};function h(){let v=a+e,b=t.now();if(b<v){n=this.schedule(void 0,v-b),s.add(n);return}d()}i.subscribe(dt(s,v=>{r=v,a=t.now(),n||(n=t.schedule(h,e),s.add(n))},()=>{d(),s.complete()},void 0,()=>{r=n=null}))})}function Mr(e){return e<=0?()=>Dr:st((t,i)=>{let s=0;t.subscribe(dt(i,n=>{++s<=e&&(i.next(n),e<=s&&i.complete())}))})}function Ud(e,t=us){return e=e??mL,st((i,s)=>{let n,r=!0;i.subscribe(dt(s,a=>{let d=t(a);(r||!e(n,d))&&(r=!1,n=d,s.next(a))}))})}function mL(e,t){return e===t}function Yg(e){return st((t,i)=>{try{t.subscribe(i)}finally{i.add(e)}})}function X0(e={}){let{connector:t=()=>new pe,resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:n=!0}=e;return r=>{let a,d,h,v=0,b=!1,D=!1,R=()=>{d?.unsubscribe(),d=void 0},A=()=>{R(),a=h=void 0,b=D=!1},k=()=>{let L=a;A(),L?.unsubscribe()};return st((L,H)=>{v++,!D&&!b&&R();let $=h=h??t();H.add(()=>{v--,v===0&&!D&&!b&&(d=Xg(k,n))}),$.subscribe(H),!a&&v>0&&(a=new on({next:Z=>$.next(Z),error:Z=>{D=!0,R(),d=Xg(A,i,Z),$.error(Z)},complete:()=>{b=!0,R(),d=Xg(A,s),$.complete()}}),Dt(L).subscribe(a))})(r)}}function Xg(e,t,...i){if(t===!0){e();return}if(t===!1)return;let s=new on({next:()=>{s.unsubscribe(),e()}});return Dt(t(...i)).subscribe(s)}function $d(e,t,i){let s,n=!1;return e&&typeof e=="object"?{bufferSize:s=1/0,windowTime:t=1/0,refCount:n=!1,scheduler:i}=e:s=e??1/0,X0({connector:()=>new Md(s,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:n})}function Rr(e){return Rt((t,i)=>e<=i)}function qi(...e){let t=Ls(e);return st((i,s)=>{(t?Ao(e,i,t):Ao(e,i)).subscribe(s)})}function Fo(e,t){return st((i,s)=>{let n=null,r=0,a=!1,d=()=>a&&!n&&s.complete();i.subscribe(dt(s,h=>{n?.unsubscribe();let v=0,b=r++;Dt(e(h,b)).subscribe(n=dt(s,D=>s.next(t?t(h,D,b,v++):D),()=>{n=null,d()}))},()=>{a=!0,d()}))})}function yi(e){return st((t,i)=>{Dt(e).subscribe(dt(i,()=>i.complete(),sl)),!i.closed&&t.subscribe(i)})}function Kd(e,t,i){let s=Oe(e)||t||i?{next:e,error:t,complete:i}:e;return s?st((n,r)=>{var a;(a=s.subscribe)===null||a===void 0||a.call(s);let d=!0;n.subscribe(dt(r,h=>{var v;(v=s.next)===null||v===void 0||v.call(s,h),r.next(h)},()=>{var h;d=!1,(h=s.complete)===null||h===void 0||h.call(s),r.complete()},h=>{var v;d=!1,(v=s.error)===null||v===void 0||v.call(s,h),r.error(h)},()=>{var h,v;d&&((h=s.unsubscribe)===null||h===void 0||h.call(s)),(v=s.finalize)===null||v===void 0||v.call(s)}))}):us}var vL="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Te=class extends Error{code;constructor(t,i){super(Mu(t,i)),this.code=t}};function Mu(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function El(e){return{toString:e}.toString()}var qd="__parameters__";function CL(e){return function(...i){if(e){let s=e(...i);for(let n in s)this[n]=s[n]}}}function kS(e,t,i){return El(()=>{let s=CL(t);function n(...r){if(this instanceof n)return s.apply(this,r),this;let a=new n(...r);return d.annotation=a,d;function d(h,v,b){let D=h.hasOwnProperty(qd)?h[qd]:Object.defineProperty(h,qd,{value:[]})[qd];for(;D.length<=b;)D.push(null);return(D[b]=D[b]||[]).push(a),h}}return n.prototype.ngMetadataName=e,n.annotationCls=n,n})}function mt(e){for(let t in e)if(e[t]===mt)return t;throw Error("Could not find renamed property on target object.")}function bL(e,t){for(let i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function Xi(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Xi).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let i=e.toString();if(i==null)return""+i;let s=i.indexOf(`
`);return s>=0?i.slice(0,s):i}function hf(e,t){return e?t?`${e} ${t}`:e:t||""}var yL=mt({__forward_ref__:mt});function dm(e){return e.__forward_ref__=dm,e.toString=function(){return Xi(this())},e}function wi(e){return LS(e)?e():e}function LS(e){return typeof e=="function"&&e.hasOwnProperty(yL)&&e.__forward_ref__===dm}function ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ye(e){return{providers:e.providers||[],imports:e.imports||[]}}function um(e){return Z0(e,OS)||Z0(e,NS)}function Z0(e,t){return e.hasOwnProperty(t)?e[t]:null}function wL(e){let t=e&&(e[OS]||e[NS]);return t||null}function Q0(e){return e&&(e.hasOwnProperty(J0)||e.hasOwnProperty(SL))?e[J0]:null}var OS=mt({\u0275prov:mt}),J0=mt({\u0275inj:mt}),NS=mt({ngInjectableDef:mt}),SL=mt({ngInjectorDef:mt}),ce=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,i){this._desc=t,this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=ie({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function BS(e){return e&&!!e.\u0275providers}var xL=mt({\u0275cmp:mt}),DL=mt({\u0275dir:mt}),EL=mt({\u0275pipe:mt});var iu=mt({\u0275fac:mt}),hl=mt({__NG_ELEMENT_ID__:mt}),eS=mt({__NG_ENV_ID__:mt});function hm(e){return typeof e=="string"?e:e==null?"":String(e)}function ML(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():hm(e)}function GS(e,t){throw new Te(-200,e)}function pm(e,t){throw new Te(-201,!1)}var We=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(We||{}),pf;function VS(){return pf}function Yi(e){let t=pf;return pf=e,t}function HS(e,t,i){let s=um(e);if(s&&s.providedIn=="root")return s.value===void 0?s.value=s.factory():s.value;if(i&We.Optional)return null;if(t!==void 0)return t;pm(e,"Injector")}var RL={},Tr=RL,gf="__NG_DI_FLAG__",su=class{injector;constructor(t){this.injector=t}retrieve(t,i){let s=i;return this.injector.get(t,s.optional?Gg:Tr,s)}},nu="ngTempTokenPath",TL="ngTokenPath",IL=/\n/gm,AL="\u0275",tS="__source";function FL(e,t=We.Default){if(il()===void 0)throw new Te(-203,!1);if(il()===null)return HS(e,void 0,t);{let i=il(),s;return i instanceof su?s=i.injector:s=i,s.get(e,t&We.Optional?null:void 0,t)}}function xe(e,t=We.Default){return(VS()||FL)(wi(e),t)}function O(e,t=We.Default){return xe(e,Ru(t))}function Ru(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ff(e){let t=[];for(let i=0;i<e.length;i++){let s=wi(e[i]);if(Array.isArray(s)){if(s.length===0)throw new Te(900,!1);let n,r=We.Default;for(let a=0;a<s.length;a++){let d=s[a],h=PL(d);typeof h=="number"?h===-1?n=d.token:r|=h:n=d}t.push(xe(n,r))}else t.push(xe(s))}return t}function zS(e,t){return e[gf]=t,e.prototype[gf]=t,e}function PL(e){return e[gf]}function _L(e,t,i,s){let n=e[nu];throw t[tS]&&n.unshift(t[tS]),e.message=kL(`
`+e.message,n,i,s),e[TL]=n,e[nu]=null,e}function kL(e,t,i,s=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==AL?e.slice(2):e;let n=Xi(t);if(Array.isArray(t))n=t.map(Xi).join(" -> ");else if(typeof t=="object"){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let d=t[a];r.push(a+":"+(typeof d=="string"?JSON.stringify(d):Xi(d)))}n=`{${r.join(", ")}}`}return`${i}${s?"("+s+")":""}[${n}]: ${e.replace(IL,`
  `)}`}var gm=zS(kS("Optional"),8);var LL=zS(kS("SkipSelf"),4);function Bo(e,t){let i=e.hasOwnProperty(iu);return i?e[iu]:null}function OL(e,t,i){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let n=e[s],r=t[s];if(i&&(n=i(n),r=i(r)),r!==n)return!1}return!0}function NL(e){return e.flat(Number.POSITIVE_INFINITY)}function fm(e,t){e.forEach(i=>Array.isArray(i)?fm(i,t):t(i))}function WS(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function ru(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function BL(e,t){let i=[];for(let s=0;s<e;s++)i.push(t);return i}function GL(e,t,i,s){let n=e.length;if(n==t)e.push(i,s);else if(n===1)e.push(s,e[0]),e[0]=i;else{for(n--,e.push(e[n-1],e[n]);n>t;){let r=n-2;e[n]=e[r],n--}e[t]=i,e[t+1]=s}}function mm(e,t,i){let s=Ml(e,t);return s>=0?e[s|1]=i:(s=~s,GL(e,s,t,i)),s}function Zg(e,t){let i=Ml(e,t);if(i>=0)return e[i|1]}function Ml(e,t){return VL(e,t,1)}function VL(e,t,i){let s=0,n=e.length>>i;for(;n!==s;){let r=s+(n-s>>1),a=e[r<<i];if(t===a)return r<<i;a>t?n=r:s=r+1}return~(n<<i)}var Ar={},Ii=[],pl=new ce(""),jS=new ce("",-1),US=new ce(""),ou=class{get(t,i=Tr){if(i===Tr){let s=new Error(`NullInjectorError: No provider for ${Xi(t)}!`);throw s.name="NullInjectorError",s}return i}};function Go(e){return e[xL]||null}function HL(e){return e[DL]||null}function zL(e){return e[EL]||null}function vm(e){return{\u0275providers:e}}function WL(...e){return{\u0275providers:$S(!0,e),\u0275fromNgModule:!0}}function $S(e,...t){let i=[],s=new Set,n,r=a=>{i.push(a)};return fm(t,a=>{let d=a;mf(d,r,[],s)&&(n||=[],n.push(d))}),n!==void 0&&KS(n,r),i}function KS(e,t){for(let i=0;i<e.length;i++){let{ngModule:s,providers:n}=e[i];Cm(n,r=>{t(r,s)})}}function mf(e,t,i,s){if(e=wi(e),!e)return!1;let n=null,r=Q0(e),a=!r&&Go(e);if(!r&&!a){let h=e.ngModule;if(r=Q0(h),r)n=h;else return!1}else{if(a&&!a.standalone)return!1;n=e}let d=s.has(n);if(a){if(d)return!1;if(s.add(n),a.dependencies){let h=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let v of h)mf(v,t,i,s)}}else if(r){if(r.imports!=null&&!d){s.add(n);let v;try{fm(r.imports,b=>{mf(b,t,i,s)&&(v||=[],v.push(b))})}finally{}v!==void 0&&KS(v,t)}if(!d){let v=Bo(n)||(()=>new n);t({provide:n,useFactory:v,deps:Ii},n),t({provide:US,useValue:n,multi:!0},n),t({provide:pl,useValue:()=>xe(n),multi:!0},n)}let h=r.providers;if(h!=null&&!d){let v=e;Cm(h,b=>{t(b,v)})}}else return!1;return n!==e&&e.providers!==void 0}function Cm(e,t){for(let i of e)BS(i)&&(i=i.\u0275providers),Array.isArray(i)?Cm(i,t):t(i)}var jL=mt({provide:String,useValue:mt});function qS(e){return e!==null&&typeof e=="object"&&jL in e}function UL(e){return!!(e&&e.useExisting)}function $L(e){return!!(e&&e.useFactory)}function Vo(e){return typeof e=="function"}function KL(e){return!!e.useClass}var Tu=new ce(""),Xd={},iS={},Qg;function Iu(){return Qg===void 0&&(Qg=new ou),Qg}var hi=class{},gl=class extends hi{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,i,s,n){super(),this.parent=i,this.source=s,this.scopes=n,Cf(t,a=>this.processProvider(a)),this.records.set(jS,Po(void 0,this)),n.has("environment")&&this.records.set(hi,Po(void 0,this));let r=this.records.get(Tu);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(US,Ii,We.Self))}retrieve(t,i){let s=i;return this.get(t,s.optional?Gg:Tr,s)}destroy(){dl(this),this._destroyed=!0;let t=Ge(null);try{for(let s of this._ngOnDestroyHooks)s.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(t)}}onDestroy(t){return dl(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){dl(this);let i=rn(this),s=Yi(void 0),n;try{return t()}finally{rn(i),Yi(s)}}get(t,i=Tr,s=We.Default){if(dl(this),t.hasOwnProperty(eS))return t[eS](this);s=Ru(s);let n,r=rn(this),a=Yi(void 0);try{if(!(s&We.SkipSelf)){let h=this.records.get(t);if(h===void 0){let v=QL(t)&&um(t);v&&this.injectableDefInScope(v)?h=Po(vf(t),Xd):h=null,this.records.set(t,h)}if(h!=null)return this.hydrate(t,h)}let d=s&We.Self?Iu():this.parent;return i=s&We.Optional&&i===Tr?null:i,d.get(t,i)}catch(d){if(d.name==="NullInjectorError"){if((d[nu]=d[nu]||[]).unshift(Xi(t)),r)throw d;return _L(d,t,"R3InjectorError",this.source)}else throw d}finally{Yi(a),rn(r)}}resolveInjectorInitializers(){let t=Ge(null),i=rn(this),s=Yi(void 0),n;try{let r=this.get(pl,Ii,We.Self);for(let a of r)a()}finally{rn(i),Yi(s),Ge(t)}}toString(){let t=[],i=this.records;for(let s of i.keys())t.push(Xi(s));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=wi(t);let i=Vo(t)?t:wi(t&&t.provide),s=YL(t);if(!Vo(t)&&t.multi===!0){let n=this.records.get(i);n||(n=Po(void 0,Xd,!0),n.factory=()=>ff(n.multi),this.records.set(i,n)),i=t,n.multi.push(t)}this.records.set(i,s)}hydrate(t,i){let s=Ge(null);try{return i.value===iS?GS(Xi(t)):i.value===Xd&&(i.value=iS,i.value=i.factory()),typeof i.value=="object"&&i.value&&ZL(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Ge(s)}}injectableDefInScope(t){if(!t.providedIn)return!1;let i=wi(t.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){let i=this._onDestroyHooks.indexOf(t);i!==-1&&this._onDestroyHooks.splice(i,1)}};function vf(e){let t=um(e),i=t!==null?t.factory:Bo(e);if(i!==null)return i;if(e instanceof ce)throw new Te(204,!1);if(e instanceof Function)return qL(e);throw new Te(204,!1)}function qL(e){if(e.length>0)throw new Te(204,!1);let i=wL(e);return i!==null?()=>i.factory(e):()=>new e}function YL(e){if(qS(e))return Po(void 0,e.useValue);{let t=YS(e);return Po(t,Xd)}}function YS(e,t,i){let s;if(Vo(e)){let n=wi(e);return Bo(n)||vf(n)}else if(qS(e))s=()=>wi(e.useValue);else if($L(e))s=()=>e.useFactory(...ff(e.deps||[]));else if(UL(e))s=()=>xe(wi(e.useExisting));else{let n=wi(e&&(e.useClass||e.provide));if(XL(e))s=()=>new n(...ff(e.deps));else return Bo(n)||vf(n)}return s}function dl(e){if(e.destroyed)throw new Te(205,!1)}function Po(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function XL(e){return!!e.deps}function ZL(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function QL(e){return typeof e=="function"||typeof e=="object"&&e instanceof ce}function Cf(e,t){for(let i of e)Array.isArray(i)?Cf(i,t):i&&BS(i)?Cf(i.\u0275providers,t):t(i)}function Au(e,t){let i;e instanceof gl?(dl(e),i=e):i=new su(e);let s,n=rn(i),r=Yi(void 0);try{return t()}finally{rn(n),Yi(r)}}function XS(){return VS()!==void 0||il()!=null}function Fu(e){if(!XS())throw new Te(-203,!1)}function JL(e){return typeof e=="function"}var hn=0,Pe=1,Re=2,pi=3,gs=4,Ai=5,Ho=6,au=7,Wt=8,fl=9,$n=10,Nt=11,ml=12,sS=13,Ko=14,Bi=15,Fr=16,_o=17,cn=18,Pu=19,ZS=20,jn=21,Jg=22,Pr=23,Zi=24,Oo=25,Si=26,QS=1;var _r=7,lu=8,zo=9,ui=10;function Un(e){return Array.isArray(e)&&typeof e[QS]=="object"}function pn(e){return Array.isArray(e)&&e[QS]===!0}function JS(e){return(e.flags&4)!==0}function qo(e){return e.componentOffset>-1}function bm(e){return(e.flags&1)===1}function Ns(e){return!!e.template}function cu(e){return(e[Re]&512)!==0}function Rl(e){return(e[Re]&256)===256}var bf=class{previousValue;currentValue;firstChange;constructor(t,i,s){this.previousValue=t,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}};function ex(e,t,i,s){t!==null?t.applyValueToInputSignal(t,s):e[i]=s}var ms=(()=>{let e=()=>tx;return e.ngInherit=!0,e})();function tx(e){return e.type.prototype.ngOnChanges&&(e.setInput=tO),eO}function eO(){let e=sx(this),t=e?.current;if(t){let i=e.previous;if(i===Ar)e.previous=t;else for(let s in t)i[s]=t[s];e.current=null,this.ngOnChanges(t)}}function tO(e,t,i,s,n){let r=this.declaredInputs[s],a=sx(e)||iO(e,{previous:Ar,current:null}),d=a.current||(a.current={}),h=a.previous,v=h[r];d[r]=new bf(v&&v.currentValue,i,h===Ar),ex(e,t,n,i)}var ix="__ngSimpleChanges__";function sx(e){return e[ix]||null}function iO(e,t){return e[ix]=t}var nS=null;var at=function(e,t=null,i){nS?.(e,t,i)},sO="svg",nO="math";function Bs(e){for(;Array.isArray(e);)e=e[hn];return e}function nx(e,t){return Bs(t[e])}function zs(e,t){return Bs(t[e.index])}function ym(e,t){return e.data[t]}function rO(e,t){return e[t]}function Gs(e,t){let i=t[e];return Un(i)?i:i[hn]}function oO(e){return(e[Re]&4)===4}function wm(e){return(e[Re]&128)===128}function aO(e){return pn(e[pi])}function Wo(e,t){return t==null?null:e[t]}function rx(e){e[_o]=0}function ox(e){e[Re]&1024||(e[Re]|=1024,wm(e)&&Yo(e))}function lO(e,t){for(;e>0;)t=t[Ko],e--;return t}function _u(e){return!!(e[Re]&9216||e[Zi]?.dirty)}function yf(e){e[$n].changeDetectionScheduler?.notify(8),e[Re]&64&&(e[Re]|=1024),_u(e)&&Yo(e)}function Yo(e){e[$n].changeDetectionScheduler?.notify(0);let t=kr(e);for(;t!==null&&!(t[Re]&8192||(t[Re]|=8192,!wm(t)));)t=kr(t)}function ax(e,t){if(Rl(e))throw new Te(911,!1);e[jn]===null&&(e[jn]=[]),e[jn].push(t)}function cO(e,t){if(e[jn]===null)return;let i=e[jn].indexOf(t);i!==-1&&e[jn].splice(i,1)}function kr(e){let t=e[pi];return pn(t)?t[pi]:t}function lx(e){return e[au]??=[]}function cx(e){return e.cleanup??=[]}function dO(e,t,i,s){let n=lx(t);n.push(i),e.firstCreatePass&&cx(e).push(s,n.length-1)}var Le={lFrame:yx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var wf=!1;function uO(){return Le.lFrame.elementDepthCount}function hO(){Le.lFrame.elementDepthCount++}function pO(){Le.lFrame.elementDepthCount--}function dx(){return Le.bindingsEnabled}function ux(){return Le.skipHydrationRootTNode!==null}function gO(e){return Le.skipHydrationRootTNode===e}function fO(){Le.skipHydrationRootTNode=null}function Ke(){return Le.lFrame.lView}function Yt(){return Le.lFrame.tView}function Xt(e){return Le.lFrame.contextLView=e,e[Wt]}function Zt(e){return Le.lFrame.contextLView=null,e}function Gi(){let e=hx();for(;e!==null&&e.type===64;)e=e.parent;return e}function hx(){return Le.lFrame.currentTNode}function mO(){let e=Le.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Tl(e,t){let i=Le.lFrame;i.currentTNode=e,i.isParent=t}function px(){return Le.lFrame.isParent}function gx(){Le.lFrame.isParent=!1}function vO(){return Le.lFrame.contextLView}function fx(){return wf}function du(e){let t=wf;return wf=e,t}function CO(){let e=Le.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function bO(e){return Le.lFrame.bindingIndex=e}function Xo(){return Le.lFrame.bindingIndex++}function mx(e){let t=Le.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function yO(){return Le.lFrame.inI18n}function wO(e,t){let i=Le.lFrame;i.bindingIndex=i.bindingRootIndex=e,Sf(t)}function SO(){return Le.lFrame.currentDirectiveIndex}function Sf(e){Le.lFrame.currentDirectiveIndex=e}function xO(e){let t=Le.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function vx(){return Le.lFrame.currentQueryIndex}function Sm(e){Le.lFrame.currentQueryIndex=e}function DO(e){let t=e[Pe];return t.type===2?t.declTNode:t.type===1?e[Ai]:null}function Cx(e,t,i){if(i&We.SkipSelf){let n=t,r=e;for(;n=n.parent,n===null&&!(i&We.Host);)if(n=DO(r),n===null||(r=r[Ko],n.type&10))break;if(n===null)return!1;t=n,e=r}let s=Le.lFrame=bx();return s.currentTNode=t,s.lView=e,!0}function xm(e){let t=bx(),i=e[Pe];Le.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function bx(){let e=Le.lFrame,t=e===null?null:e.child;return t===null?yx(e):t}function yx(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function wx(){let e=Le.lFrame;return Le.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Sx=wx;function Dm(){let e=wx();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function EO(e){return(Le.lFrame.contextLView=lO(e,Le.lFrame.contextLView))[Wt]}function qn(){return Le.lFrame.selectedIndex}function Lr(e){Le.lFrame.selectedIndex=e}function Em(){let e=Le.lFrame;return ym(e.tView,e.selectedIndex)}function MO(){return Le.lFrame.currentNamespace}var xx=!0;function Mm(){return xx}function Rm(e){xx=e}function RO(e,t,i){let{ngOnChanges:s,ngOnInit:n,ngDoCheck:r}=t.type.prototype;if(s){let a=tx(t);(i.preOrderHooks??=[]).push(e,a),(i.preOrderCheckHooks??=[]).push(e,a)}n&&(i.preOrderHooks??=[]).push(0-e,n),r&&((i.preOrderHooks??=[]).push(e,r),(i.preOrderCheckHooks??=[]).push(e,r))}function Dx(e,t){for(let i=t.directiveStart,s=t.directiveEnd;i<s;i++){let r=e.data[i].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:d,ngAfterViewInit:h,ngAfterViewChecked:v,ngOnDestroy:b}=r;a&&(e.contentHooks??=[]).push(-i,a),d&&((e.contentHooks??=[]).push(i,d),(e.contentCheckHooks??=[]).push(i,d)),h&&(e.viewHooks??=[]).push(-i,h),v&&((e.viewHooks??=[]).push(i,v),(e.viewCheckHooks??=[]).push(i,v)),b!=null&&(e.destroyHooks??=[]).push(i,b)}}function Zd(e,t,i){Ex(e,t,3,i)}function Qd(e,t,i,s){(e[Re]&3)===i&&Ex(e,t,i,s)}function ef(e,t){let i=e[Re];(i&3)===t&&(i&=16383,i+=1,e[Re]=i)}function Ex(e,t,i,s){let n=s!==void 0?e[_o]&65535:0,r=s??-1,a=t.length-1,d=0;for(let h=n;h<a;h++)if(typeof t[h+1]=="number"){if(d=t[h],s!=null&&d>=s)break}else t[h]<0&&(e[_o]+=65536),(d<r||r==-1)&&(TO(e,i,t,h),e[_o]=(e[_o]&4294901760)+h+2),h++}function rS(e,t){at(4,e,t);let i=Ge(null);try{t.call(e)}finally{Ge(i),at(5,e,t)}}function TO(e,t,i,s){let n=i[s]<0,r=i[s+1],a=n?-i[s]:i[s],d=e[a];n?e[Re]>>14<e[_o]>>16&&(e[Re]&3)===t&&(e[Re]+=16384,rS(d,r)):rS(d,r)}var No=-1,Or=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,i,s){this.factory=t,this.canSeeViewProviders=i,this.injectImpl=s}};function IO(e){return(e.flags&8)!==0}function AO(e){return(e.flags&16)!==0}function FO(e,t,i){let s=0;for(;s<i.length;){let n=i[s];if(typeof n=="number"){if(n!==0)break;s++;let r=i[s++],a=i[s++],d=i[s++];e.setAttribute(t,a,d,r)}else{let r=n,a=i[++s];_O(r)?e.setProperty(t,r,a):e.setAttribute(t,r,a),s++}}return s}function PO(e){return e===3||e===4||e===6}function _O(e){return e.charCodeAt(0)===64}function vl(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let i=-1;for(let s=0;s<t.length;s++){let n=t[s];typeof n=="number"?i=n:i===0||(i===-1||i===2?oS(e,i,n,null,t[++s]):oS(e,i,n,null,null))}}return e}function oS(e,t,i,s,n){let r=0,a=e.length;if(t===-1)a=-1;else for(;r<e.length;){let d=e[r++];if(typeof d=="number"){if(d===t){a=-1;break}else if(d>t){a=r-1;break}}}for(;r<e.length;){let d=e[r];if(typeof d=="number")break;if(d===i){n!==null&&(e[r+1]=n);return}r++,n!==null&&r++}a!==-1&&(e.splice(a,0,t),r=a+1),e.splice(r++,0,i),n!==null&&e.splice(r++,0,n)}var tf={},xf=class{injector;parentInjector;constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,s){s=Ru(s);let n=this.injector.get(t,tf,s);return n!==tf||i===tf?n:this.parentInjector.get(t,i,s)}};function Mx(e){return e!==No}function uu(e){return e&32767}function kO(e){return e>>16}function hu(e,t){let i=kO(e),s=t;for(;i>0;)s=s[Ko],i--;return s}var Df=!0;function aS(e){let t=Df;return Df=e,t}var LO=256,Rx=LO-1,Tx=5,OO=0,Os={};function NO(e,t,i){let s;typeof i=="string"?s=i.charCodeAt(0)||0:i.hasOwnProperty(hl)&&(s=i[hl]),s==null&&(s=i[hl]=OO++);let n=s&Rx,r=1<<n;t.data[e+(n>>Tx)]|=r}function pu(e,t){let i=Ix(e,t);if(i!==-1)return i;let s=t[Pe];s.firstCreatePass&&(e.injectorIndex=t.length,sf(s.data,e),sf(t,null),sf(s.blueprint,null));let n=Tm(e,t),r=e.injectorIndex;if(Mx(n)){let a=uu(n),d=hu(n,t),h=d[Pe].data;for(let v=0;v<8;v++)t[r+v]=d[a+v]|h[a+v]}return t[r+8]=n,r}function sf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ix(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Tm(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let i=0,s=null,n=t;for(;n!==null;){if(s=kx(n),s===null)return No;if(i++,n=n[Ko],s.injectorIndex!==-1)return s.injectorIndex|i<<16}return No}function Ef(e,t,i){NO(e,t,i)}function Ax(e,t,i){if(i&We.Optional||e!==void 0)return e;pm(t,"NodeInjector")}function Fx(e,t,i,s){if(i&We.Optional&&s===void 0&&(s=null),(i&(We.Self|We.Host))===0){let n=e[fl],r=Yi(void 0);try{return n?n.get(t,s,i&We.Optional):HS(t,s,i&We.Optional)}finally{Yi(r)}}return Ax(s,t,i)}function Px(e,t,i,s=We.Default,n){if(e!==null){if(t[Re]&2048&&!(s&We.Self)){let a=HO(e,t,i,s,Os);if(a!==Os)return a}let r=_x(e,t,i,s,Os);if(r!==Os)return r}return Fx(t,i,s,n)}function _x(e,t,i,s,n){let r=GO(i);if(typeof r=="function"){if(!Cx(t,e,s))return s&We.Host?Ax(n,i,s):Fx(t,i,s,n);try{let a;if(a=r(s),a==null&&!(s&We.Optional))pm(i);else return a}finally{Sx()}}else if(typeof r=="number"){let a=null,d=Ix(e,t),h=No,v=s&We.Host?t[Bi][Ai]:null;for((d===-1||s&We.SkipSelf)&&(h=d===-1?Tm(e,t):t[d+8],h===No||!cS(s,!1)?d=-1:(a=t[Pe],d=uu(h),t=hu(h,t)));d!==-1;){let b=t[Pe];if(lS(r,d,b.data)){let D=BO(d,t,i,a,s,v);if(D!==Os)return D}h=t[d+8],h!==No&&cS(s,t[Pe].data[d+8]===v)&&lS(r,d,t)?(a=b,d=uu(h),t=hu(h,t)):d=-1}}return n}function BO(e,t,i,s,n,r){let a=t[Pe],d=a.data[e+8],h=s==null?qo(d)&&Df:s!=a&&(d.type&3)!==0,v=n&We.Host&&r===d,b=Jd(d,a,i,h,v);return b!==null?Cl(t,a,b,d):Os}function Jd(e,t,i,s,n){let r=e.providerIndexes,a=t.data,d=r&1048575,h=e.directiveStart,v=e.directiveEnd,b=r>>20,D=s?d:d+b,R=n?d+b:v;for(let A=D;A<R;A++){let k=a[A];if(A<h&&i===k||A>=h&&k.type===i)return A}if(n){let A=a[h];if(A&&Ns(A)&&A.type===i)return h}return null}function Cl(e,t,i,s){let n=e[i],r=t.data;if(n instanceof Or){let a=n;a.resolving&&GS(ML(r[i]));let d=aS(a.canSeeViewProviders);a.resolving=!0;let h,v=a.injectImpl?Yi(a.injectImpl):null,b=Cx(e,s,We.Default);try{n=e[i]=a.factory(void 0,r,e,s),t.firstCreatePass&&i>=s.directiveStart&&RO(i,r[i],t)}finally{v!==null&&Yi(v),aS(d),a.resolving=!1,Sx()}}return n}function GO(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(hl)?e[hl]:void 0;return typeof t=="number"?t>=0?t&Rx:VO:t}function lS(e,t,i){let s=1<<e;return!!(i[t+(e>>Tx)]&s)}function cS(e,t){return!(e&We.Self)&&!(e&We.Host&&t)}var Ir=class{_tNode;_lView;constructor(t,i){this._tNode=t,this._lView=i}get(t,i,s){return Px(this._tNode,this._lView,t,Ru(s),i)}};function VO(){return new Ir(Gi(),Ke())}function xi(e){return El(()=>{let t=e.prototype.constructor,i=t[iu]||Mf(t),s=Object.prototype,n=Object.getPrototypeOf(e.prototype).constructor;for(;n&&n!==s;){let r=n[iu]||Mf(n);if(r&&r!==i)return r;n=Object.getPrototypeOf(n)}return r=>new r})}function Mf(e){return LS(e)?()=>{let t=Mf(wi(e));return t&&t()}:Bo(e)}function HO(e,t,i,s,n){let r=e,a=t;for(;r!==null&&a!==null&&a[Re]&2048&&!cu(a);){let d=_x(r,a,i,s|We.Self,Os);if(d!==Os)return d;let h=r.parent;if(!h){let v=a[ZS];if(v){let b=v.get(i,Os,s);if(b!==Os)return b}h=kx(a),a=a[Ko]}r=h}return n}function kx(e){let t=e[Pe],i=t.type;return i===2?t.declTNode:i===1?e[Ai]:null}function dS(e,t=null,i=null,s){let n=zO(e,t,i,s);return n.resolveInjectorInitializers(),n}function zO(e,t=null,i=null,s,n=new Set){let r=[i||Ii,WL(e)];return s=s||(typeof e=="object"?void 0:Xi(e)),new gl(r,t||Iu(),s||null,n)}var Je=class e{static THROW_IF_NOT_FOUND=Tr;static NULL=new ou;static create(t,i){if(Array.isArray(t))return dS({name:""},i,t,"");{let s=t.name??"";return dS({name:s},t.parent,t.providers,s)}}static \u0275prov=ie({token:e,providedIn:"any",factory:()=>xe(jS)});static __NG_ELEMENT_ID__=-1};var WO=new ce("");WO.__NG_ELEMENT_ID__=e=>{let t=Gi();if(t===null)throw new Te(204,!1);if(t.type&2)return t.value;if(e&We.Optional)return null;throw new Te(204,!1)};var Lx=!1,ku=(()=>{class e{static __NG_ELEMENT_ID__=jO;static __NG_ENV_ID__=i=>i}return e})(),gu=class extends ku{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return ax(this._lView,t),()=>cO(this._lView,t)}};function jO(){return new gu(Ke())}var Nr=class{},Im=new ce("",{providedIn:"root",factory:()=>!1});var Ox=new ce(""),Nx=new ce(""),Zo=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Wn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ie({token:e,providedIn:"root",factory:()=>new e})}return e})();var Rf=class extends pe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,XS()&&(this.destroyRef=O(ku,{optional:!0})??void 0,this.pendingTasks=O(Zo,{optional:!0})??void 0)}emit(t){let i=Ge(null);try{super.next(t)}finally{Ge(i)}}subscribe(t,i,s){let n=t,r=i||(()=>null),a=s;if(t&&typeof t=="object"){let h=t;n=h.next?.bind(h),r=h.error?.bind(h),a=h.complete?.bind(h)}this.__isAsync&&(r=this.wrapInTimeout(r),n&&(n=this.wrapInTimeout(n)),a&&(a=this.wrapInTimeout(a)));let d=super.subscribe({next:n,error:r,complete:a});return t instanceof it&&t.add(d),d}wrapInTimeout(t){return i=>{let s=this.pendingTasks?.add();setTimeout(()=>{t(i),s!==void 0&&this.pendingTasks?.remove(s)})}}},X=Rf;function bl(...e){}function Bx(e){let t,i;function s(){e=bl;try{i!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(i),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),s()}),typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(()=>{e(),s()})),()=>s()}function uS(e){return queueMicrotask(()=>e()),()=>{e=bl}}var Am="isAngularZone",fu=Am+"_ID",UO=0,ge=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new X(!1);onMicrotaskEmpty=new X(!1);onStable=new X(!1);onError=new X(!1);constructor(t){let{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:n=!1,scheduleInRootZone:r=Lx}=t;if(typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!n&&s,a.shouldCoalesceRunChangeDetection=n,a.callbackScheduled=!1,a.scheduleInRootZone=r,qO(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Am)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Te(909,!1)}run(t,i,s){return this._inner.run(t,i,s)}runTask(t,i,s,n){let r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+n,t,$O,bl,bl);try{return r.runTask(a,i,s)}finally{r.cancelTask(a)}}runGuarded(t,i,s){return this._inner.runGuarded(t,i,s)}runOutsideAngular(t){return this._outer.run(t)}},$O={};function Fm(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function KO(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Bx(()=>{e.callbackScheduled=!1,Tf(e),e.isCheckStableRunning=!0,Fm(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Tf(e)}function qO(e){let t=()=>{KO(e)},i=UO++;e._inner=e._inner.fork({name:"angular",properties:{[Am]:!0,[fu]:i,[fu+i]:!0},onInvokeTask:(s,n,r,a,d,h)=>{if(YO(h))return s.invokeTask(r,a,d,h);try{return hS(e),s.invokeTask(r,a,d,h)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),pS(e)}},onInvoke:(s,n,r,a,d,h,v)=>{try{return hS(e),s.invoke(r,a,d,h,v)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!XO(h)&&t(),pS(e)}},onHasTask:(s,n,r,a)=>{s.hasTask(r,a),n===r&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,Tf(e),Fm(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(s,n,r,a)=>(s.handleError(r,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function Tf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function hS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pS(e){e._nesting--,Fm(e)}var If=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new X;onMicrotaskEmpty=new X;onStable=new X;onError=new X;run(t,i,s){return t.apply(i,s)}runGuarded(t,i,s){return t.apply(i,s)}runOutsideAngular(t){return t()}runTask(t,i,s,n){return t.apply(i,s)}};function YO(e){return Gx(e,"__ignore_ng_zone__")}function XO(e){return Gx(e,"__scheduler_tick__")}function Gx(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var dn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},ZO=new ce("",{providedIn:"root",factory:()=>{let e=O(ge),t=O(dn);return i=>e.runOutsideAngular(()=>t.handleError(i))}});function QO(){return Qo(Gi(),Ke())}function Qo(e,t){return new He(zs(e,t))}var He=(()=>{class e{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=QO}return e})();function JO(e){return e instanceof He?e.nativeElement:e}function Pm(e){return typeof e=="function"&&e[ks]!==void 0}function _m(e,t){let i=v0(e),s=i[ks];return t?.equal&&(s.equal=t.equal),i.set=n=>Ng(s,n),i.update=n=>C0(s,n),i.asReadonly=e2.bind(i),i}function e2(){let e=this[ks];if(e.readonlyFn===void 0){let t=()=>this();t[ks]=e,e.readonlyFn=t}return e.readonlyFn}function t2(){return this._results[Symbol.iterator]()}var Kn=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new pe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;let s=NL(t);(this._changesDetected=!OL(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=t2};function Vx(e){return(e.flags&128)===128}var Hx=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Hx||{}),zx=new Map,i2=0;function s2(){return i2++}function n2(e){zx.set(e[Pu],e)}function Af(e){zx.delete(e[Pu])}var gS="__ngContext__";function Il(e,t){Un(t)?(e[gS]=t[Pu],n2(t)):e[gS]=t}function Wx(e){return Ux(e[ml])}function jx(e){return Ux(e[gs])}function Ux(e){for(;e!==null&&!pn(e);)e=e[gs];return e}var Ff;function $x(e){Ff=e}function r2(){if(Ff!==void 0)return Ff;if(typeof document<"u")return document;throw new Te(210,!1)}var Al=new ce("",{providedIn:"root",factory:()=>o2}),o2="ng",km=new ce(""),gn=new ce("",{providedIn:"platform",factory:()=>"unknown"});var Fi=new ce(""),Fl=new ce("",{providedIn:"root",factory:()=>r2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var a2="h",l2="b";var Kx=!1,c2=new ce("",{providedIn:"root",factory:()=>Kx});var Lm=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Lm||{}),Jo=new ce(""),fS=new Set;function Vr(e){fS.has(e)||(fS.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Om=(()=>{class e{view;node;constructor(i,s){this.view=i,this.node=s}static __NG_ELEMENT_ID__=d2}return e})();function d2(){return new Om(Ke(),Gi())}var ko=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ko||{}),qx=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ie({token:e,providedIn:"root",factory:()=>new e})}return e})(),u2=[ko.EarlyRead,ko.Write,ko.MixedReadWrite,ko.Read],h2=(()=>{class e{ngZone=O(ge);scheduler=O(Nr);errorHandler=O(dn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(Jo,{optional:!0})}execute(){let i=this.sequences.size>0;i&&at(16),this.executing=!0;for(let s of u2)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[s]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let r=n.hooks[s];return r(n.pipelinedValue)},n.snapshot))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(let s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),i&&at(17)}register(i){let{view:s}=i;s!==void 0?((s[Oo]??=[]).push(i),Yo(s),s[Re]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,s){return s?s.run(Lm.AFTER_NEXT_RENDER,i):i()}static \u0275prov=ie({token:e,providedIn:"root",factory:()=>new e})}return e})(),Pf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,i,s,n,r,a=null){this.impl=t,this.hooks=i,this.view=s,this.once=n,this.snapshot=a,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Oo];t&&(this.view[Oo]=t.filter(i=>i!==this))}};function Nm(e,t){!t?.injector&&Fu(Nm);let i=t?.injector??O(Je);return Vr("NgAfterRender"),Yx(e,i,t,!1)}function Qi(e,t){!t?.injector&&Fu(Qi);let i=t?.injector??O(Je);return Vr("NgAfterNextRender"),Yx(e,i,t,!0)}function p2(e,t){if(e instanceof Function){let i=[void 0,void 0,void 0,void 0];return i[t]=e,i}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Yx(e,t,i,s){let n=t.get(qx);n.impl??=t.get(h2);let r=t.get(Jo,null,{optional:!0}),a=i?.phase??ko.MixedReadWrite,d=i?.manualCleanup!==!0?t.get(ku):null,h=t.get(Om,null,{optional:!0}),v=new Pf(n.impl,p2(e,a),h?.view,s,d,r?.snapshot(null));return n.impl.register(v),v}var g2=()=>null;function Xx(e,t,i=!1){return g2(e,t,i)}function Zx(e,t){let i=e.contentQueries;if(i!==null){let s=Ge(null);try{for(let n=0;n<i.length;n+=2){let r=i[n],a=i[n+1];if(a!==-1){let d=e.data[a];Sm(r),d.contentQueries(2,t[a],a)}}}finally{Ge(s)}}}function _f(e,t,i){Sm(0);let s=Ge(null);try{t(e,i)}finally{Ge(s)}}function Qx(e,t,i){if(JS(t)){let s=Ge(null);try{let n=t.directiveStart,r=t.directiveEnd;for(let a=n;a<r;a++){let d=e.data[a];if(d.contentQueries){let h=i[a];d.contentQueries(1,h,a)}}}finally{Ge(s)}}}var Vs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vs||{});var kf=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vL})`}};function Lu(e){return e instanceof kf?e.changingThisBreaksApplicationSecurity:e}function f2(e,t,i){let s=e.length;for(;;){let n=e.indexOf(t,i);if(n===-1)return n;if(n===0||e.charCodeAt(n-1)<=32){let r=t.length;if(n+r===s||e.charCodeAt(n+r)<=32)return n}i=n+1}}var Jx="ng-template";function m2(e,t,i,s){let n=0;if(s){for(;n<t.length&&typeof t[n]=="string";n+=2)if(t[n]==="class"&&f2(t[n+1].toLowerCase(),i,0)!==-1)return!0}else if(Bm(e))return!1;if(n=t.indexOf(1,n),n>-1){let r;for(;++n<t.length&&typeof(r=t[n])=="string";)if(r.toLowerCase()===i)return!0}return!1}function Bm(e){return e.type===4&&e.value!==Jx}function v2(e,t,i){let s=e.type===4&&!i?Jx:e.value;return t===s}function C2(e,t,i){let s=4,n=e.attrs,r=n!==null?w2(n):0,a=!1;for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="number"){if(!a&&!hs(s)&&!hs(h))return!1;if(a&&hs(h))continue;a=!1,s=h|s&1;continue}if(!a)if(s&4){if(s=2|s&1,h!==""&&!v2(e,h,i)||h===""&&t.length===1){if(hs(s))return!1;a=!0}}else if(s&8){if(n===null||!m2(e,n,h,i)){if(hs(s))return!1;a=!0}}else{let v=t[++d],b=b2(h,n,Bm(e),i);if(b===-1){if(hs(s))return!1;a=!0;continue}if(v!==""){let D;if(b>r?D="":D=n[b+1].toLowerCase(),s&2&&v!==D){if(hs(s))return!1;a=!0}}}}return hs(s)||a}function hs(e){return(e&1)===0}function b2(e,t,i,s){if(t===null)return-1;let n=0;if(s||!i){let r=!1;for(;n<t.length;){let a=t[n];if(a===e)return n;if(a===3||a===6)r=!0;else if(a===1||a===2){let d=t[++n];for(;typeof d=="string";)d=t[++n];continue}else{if(a===4)break;if(a===0){n+=4;continue}}n+=r?1:2}return-1}else return S2(t,e)}function eD(e,t,i=!1){for(let s=0;s<t.length;s++)if(C2(e,t[s],i))return!0;return!1}function y2(e){let t=e.attrs;if(t!=null){let i=t.indexOf(5);if((i&1)===0)return t[i+1]}return null}function w2(e){for(let t=0;t<e.length;t++){let i=e[t];if(PO(i))return t}return e.length}function S2(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){let s=e[i];if(typeof s=="number")return-1;if(s===t)return i;i++}return-1}function x2(e,t){e:for(let i=0;i<t.length;i++){let s=t[i];if(e.length===s.length){for(let n=0;n<e.length;n++)if(e[n]!==s[n])continue e;return!0}}return!1}function mS(e,t){return e?":not("+t.trim()+")":t}function D2(e){let t=e[0],i=1,s=2,n="",r=!1;for(;i<e.length;){let a=e[i];if(typeof a=="string")if(s&2){let d=e[++i];n+="["+a+(d.length>0?'="'+d+'"':"")+"]"}else s&8?n+="."+a:s&4&&(n+=" "+a);else n!==""&&!hs(a)&&(t+=mS(r,n),n=""),s=a,r=r||!hs(s);i++}return n!==""&&(t+=mS(r,n)),t}function E2(e){return e.map(D2).join(",")}function M2(e){let t=[],i=[],s=1,n=2;for(;s<e.length;){let r=e[s];if(typeof r=="string")n===2?r!==""&&t.push(r,e[++s]):n===8&&i.push(r);else{if(!hs(n))break;n=r}s++}return i.length&&t.push(1,...i),t}var Ws={};function R2(e,t){return e.createText(t)}function T2(e,t,i){e.setValue(t,i)}function tD(e,t,i){return e.createElement(t,i)}function mu(e,t,i,s,n){e.insertBefore(t,i,s,n)}function iD(e,t,i){e.appendChild(t,i)}function vS(e,t,i,s,n){s!==null?mu(e,t,i,s,n):iD(e,t,i)}function I2(e,t,i){e.removeChild(null,t,i)}function A2(e,t,i){e.setAttribute(t,"style",i)}function F2(e,t,i){i===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function sD(e,t,i){let{mergedAttrs:s,classes:n,styles:r}=i;s!==null&&FO(e,t,s),n!==null&&F2(e,t,n),r!==null&&A2(e,t,r)}function Gm(e,t,i,s,n,r,a,d,h,v,b){let D=Si+s,R=D+n,A=P2(D,R),k=typeof v=="function"?v():v;return A[Pe]={type:e,blueprint:A,template:i,queries:null,viewQuery:d,declTNode:t,data:A.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:h,consts:k,incompleteFirstPass:!1,ssrId:b}}function P2(e,t){let i=[];for(let s=0;s<t;s++)i.push(s<e?null:Ws);return i}function _2(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Gm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Vm(e,t,i,s,n,r,a,d,h,v,b){let D=t.blueprint.slice();return D[hn]=n,D[Re]=s|4|128|8|64|1024,(v!==null||e&&e[Re]&2048)&&(D[Re]|=2048),rx(D),D[pi]=D[Ko]=e,D[Wt]=i,D[$n]=a||e&&e[$n],D[Nt]=d||e&&e[Nt],D[fl]=h||e&&e[fl]||null,D[Ai]=r,D[Pu]=s2(),D[Ho]=b,D[ZS]=v,D[Bi]=t.type==2?e[Bi]:D,D}function k2(e,t,i){let s=zs(t,e),n=_2(i),r=e[$n].rendererFactory,a=Hm(e,Vm(e,n,null,nD(i),s,t,null,r.createRenderer(s,i),null,null,null));return e[t.index]=a}function nD(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function rD(e,t,i,s){if(i===0)return-1;let n=t.length;for(let r=0;r<i;r++)t.push(s),e.blueprint.push(s),e.data.push(null);return n}function Hm(e,t){return e[ml]?e[sS][gs]=t:e[ml]=t,e[sS]=t,t}function lt(e=1){oD(Yt(),Ke(),qn()+e,!1)}function oD(e,t,i,s){if(!s)if((t[Re]&3)===3){let r=e.preOrderCheckHooks;r!==null&&Zd(t,r,i)}else{let r=e.preOrderHooks;r!==null&&Qd(t,r,0,i)}Lr(i)}var Ou=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ou||{});function Lf(e,t,i,s){let n=Ge(null);try{let[r,a,d]=e.inputs[i],h=null;(a&Ou.SignalBased)!==0&&(h=t[r][ks]),h!==null&&h.transformFn!==void 0?s=h.transformFn(s):d!==null&&(s=d.call(t,s)),e.setInput!==null?e.setInput(t,h,s,i,r):ex(t,h,r,s)}finally{Ge(n)}}function aD(e,t,i,s,n){let r=qn(),a=s&2;try{Lr(-1),a&&t.length>Si&&oD(e,t,Si,!1),at(a?2:0,n),i(s,n)}finally{Lr(r),at(a?3:1,n)}}function zm(e,t,i){V2(e,t,i),(i.flags&64)===64&&H2(e,t,i)}function lD(e,t,i=zs){let s=t.localNames;if(s!==null){let n=t.index+1;for(let r=0;r<s.length;r+=2){let a=s[r+1],d=a===-1?i(t,e):e[a];e[n++]=d}}}function L2(e,t,i,s){let r=s.get(c2,Kx)||i===Vs.ShadowDom,a=e.selectRootElement(t,r);return O2(a),a}function O2(e){N2(e)}var N2=()=>null;function B2(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function cD(e,t,i,s,n,r,a,d){if(!d&&Wm(t,e,i,s,n)){qo(t)&&G2(i,t.index);return}if(t.type&3){let h=zs(t,i);s=B2(s),n=a!=null?a(n,t.value||"",s):n,r.setProperty(h,s,n)}else t.type&12}function G2(e,t){let i=Gs(t,e);i[Re]&16||(i[Re]|=64)}function V2(e,t,i){let s=i.directiveStart,n=i.directiveEnd;qo(i)&&k2(t,i,e.data[s+i.componentOffset]),e.firstCreatePass||pu(i,t);let r=i.initialInputs;for(let a=s;a<n;a++){let d=e.data[a],h=Cl(t,e,a,i);if(Il(h,t),r!==null&&U2(t,a-s,h,d,i,r),Ns(d)){let v=Gs(i.index,t);v[Wt]=Cl(t,e,a,i)}}}function H2(e,t,i){let s=i.directiveStart,n=i.directiveEnd,r=i.index,a=SO();try{Lr(r);for(let d=s;d<n;d++){let h=e.data[d],v=t[d];Sf(d),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&z2(h,v)}}finally{Lr(-1),Sf(a)}}function z2(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function dD(e,t){let i=e.directiveRegistry,s=null;if(i)for(let n=0;n<i.length;n++){let r=i[n];eD(t,r.selectors,!1)&&(s??=[],Ns(r)?s.unshift(r):s.push(r))}return s}function W2(e,t,i,s,n,r){let a=zs(e,t);j2(t[Nt],a,r,e.value,i,s,n)}function j2(e,t,i,s,n,r,a){if(r==null)e.removeAttribute(t,n,i);else{let d=a==null?hm(r):a(r,s||"",n);e.setAttribute(t,n,d,i)}}function U2(e,t,i,s,n,r){let a=r[t];if(a!==null)for(let d=0;d<a.length;d+=2){let h=a[d],v=a[d+1];Lf(s,i,h,v)}}function uD(e,t){let i=e[fl],s=i?i.get(dn,null):null;s&&s.handleError(t)}function Wm(e,t,i,s,n){let r=e.inputs?.[s],a=e.hostDirectiveInputs?.[s],d=!1;if(a)for(let h=0;h<a.length;h+=2){let v=a[h],b=a[h+1],D=t.data[v];Lf(D,i[v],b,n),d=!0}if(r)for(let h of r){let v=i[h],b=t.data[h];Lf(b,v,s,n),d=!0}return d}function $2(e,t){let i=Gs(t,e),s=i[Pe];K2(s,i);let n=i[hn];n!==null&&i[Ho]===null&&(i[Ho]=Xx(n,i[fl])),at(18),jm(s,i,i[Wt]),at(19,i[Wt])}function K2(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}function jm(e,t,i){xm(t);try{let s=e.viewQuery;s!==null&&_f(1,s,i);let n=e.template;n!==null&&aD(e,t,n,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[cn]?.finishViewCreation(e),e.staticContentQueries&&Zx(e,t),e.staticViewQueries&&_f(2,e.viewQuery,i);let r=e.components;r!==null&&q2(t,r)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[Re]&=-5,Dm()}}function q2(e,t){for(let i=0;i<t.length;i++)$2(e,t[i])}function Pl(e,t,i,s){let n=Ge(null);try{let r=t.tView,d=e[Re]&4096?4096:16,h=Vm(e,r,i,d,null,t,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null),v=e[t.index];h[Fr]=v;let b=e[cn];return b!==null&&(h[cn]=b.createEmbeddedView(r)),jm(r,h,i),h}finally{Ge(n)}}function jo(e,t){return!t||t.firstChild===null||Vx(e)}var Y2;function Um(e,t){return Y2(e,t)}var un=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(un||{});function $m(e){return(e.flags&32)===32}function Lo(e,t,i,s,n){if(s!=null){let r,a=!1;pn(s)?r=s:Un(s)&&(a=!0,s=s[hn]);let d=Bs(s);e===0&&i!==null?n==null?iD(t,i,d):mu(t,i,d,n||null,!0):e===1&&i!==null?mu(t,i,d,n||null,!0):e===2?I2(t,d,a):e===3&&t.destroyNode(d),r!=null&&rN(t,e,r,i,n)}}function X2(e,t){hD(e,t),t[hn]=null,t[Ai]=null}function Z2(e,t,i,s,n,r){s[hn]=n,s[Ai]=t,Bu(e,s,i,1,n,r)}function hD(e,t){t[$n].changeDetectionScheduler?.notify(9),Bu(e,t,t[Nt],2,null,null)}function Q2(e){let t=e[ml];if(!t)return nf(e[Pe],e);for(;t;){let i=null;if(Un(t))i=t[ml];else{let s=t[ui];s&&(i=s)}if(!i){for(;t&&!t[gs]&&t!==e;)Un(t)&&nf(t[Pe],t),t=t[pi];t===null&&(t=e),Un(t)&&nf(t[Pe],t),i=t&&t[gs]}t=i}}function Km(e,t){let i=e[zo],s=i.indexOf(t);i.splice(s,1)}function Nu(e,t){if(Rl(t))return;let i=t[Nt];i.destroyNode&&Bu(e,t,i,3,null,null),Q2(t)}function nf(e,t){if(Rl(t))return;let i=Ge(null);try{t[Re]&=-129,t[Re]|=256,t[Zi]&&tl(t[Zi]),eN(e,t),J2(e,t),t[Pe].type===1&&t[Nt].destroy();let s=t[Fr];if(s!==null&&pn(t[pi])){s!==t[pi]&&Km(s,t);let n=t[cn];n!==null&&n.detachView(e)}Af(t)}finally{Ge(i)}}function J2(e,t){let i=e.cleanup,s=t[au];if(i!==null)for(let a=0;a<i.length-1;a+=2)if(typeof i[a]=="string"){let d=i[a+3];d>=0?s[d]():s[-d].unsubscribe(),a+=2}else{let d=s[i[a+1]];i[a].call(d)}s!==null&&(t[au]=null);let n=t[jn];if(n!==null){t[jn]=null;for(let a=0;a<n.length;a++){let d=n[a];d()}}let r=t[Pr];if(r!==null){t[Pr]=null;for(let a of r)a.destroy()}}function eN(e,t){let i;if(e!=null&&(i=e.destroyHooks)!=null)for(let s=0;s<i.length;s+=2){let n=t[i[s]];if(!(n instanceof Or)){let r=i[s+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){let d=n[r[a]],h=r[a+1];at(4,d,h);try{h.call(d)}finally{at(5,d,h)}}else{at(4,n,r);try{r.call(n)}finally{at(5,n,r)}}}}}function pD(e,t,i){return tN(e,t.parent,i)}function tN(e,t,i){let s=t;for(;s!==null&&s.type&168;)t=s,s=t.parent;if(s===null)return i[hn];if(qo(s)){let{encapsulation:n}=e.data[s.directiveStart+s.componentOffset];if(n===Vs.None||n===Vs.Emulated)return null}return zs(s,i)}function gD(e,t,i){return sN(e,t,i)}function iN(e,t,i){return e.type&40?zs(e,i):null}var sN=iN,CS;function qm(e,t,i,s){let n=pD(e,s,t),r=t[Nt],a=s.parent||t[Ai],d=gD(a,s,t);if(n!=null)if(Array.isArray(i))for(let h=0;h<i.length;h++)vS(r,n,i[h],d,!1);else vS(r,n,i,d,!1);CS!==void 0&&CS(r,s,t,i,n)}function ul(e,t){if(t!==null){let i=t.type;if(i&3)return zs(t,e);if(i&4)return Of(-1,e[t.index]);if(i&8){let s=t.child;if(s!==null)return ul(e,s);{let n=e[t.index];return pn(n)?Of(-1,n):Bs(n)}}else{if(i&128)return ul(e,t.next);if(i&32)return Um(t,e)()||Bs(e[t.index]);{let s=fD(e,t);if(s!==null){if(Array.isArray(s))return s[0];let n=kr(e[Bi]);return ul(n,s)}else return ul(e,t.next)}}}return null}function fD(e,t){if(t!==null){let s=e[Bi][Ai],n=t.projection;return s.projection[n]}return null}function Of(e,t){let i=ui+e+1;if(i<t.length){let s=t[i],n=s[Pe].firstChild;if(n!==null)return ul(s,n)}return t[_r]}function Ym(e,t,i,s,n,r,a){for(;i!=null;){if(i.type===128){i=i.next;continue}let d=s[i.index],h=i.type;if(a&&t===0&&(d&&Il(Bs(d),s),i.flags|=2),!$m(i))if(h&8)Ym(e,t,i.child,s,n,r,!1),Lo(t,e,n,d,r);else if(h&32){let v=Um(i,s),b;for(;b=v();)Lo(t,e,n,b,r);Lo(t,e,n,d,r)}else h&16?mD(e,t,s,i,n,r):Lo(t,e,n,d,r);i=a?i.projectionNext:i.next}}function Bu(e,t,i,s,n,r){Ym(i,s,e.firstChild,t,n,r,!1)}function nN(e,t,i){let s=t[Nt],n=pD(e,i,t),r=i.parent||t[Ai],a=gD(r,i,t);mD(s,0,t,i,n,a)}function mD(e,t,i,s,n,r){let a=i[Bi],h=a[Ai].projection[s.projection];if(Array.isArray(h))for(let v=0;v<h.length;v++){let b=h[v];Lo(t,e,n,b,r)}else{let v=h,b=a[pi];Vx(s)&&(v.flags|=128),Ym(e,t,v,b,n,r,!0)}}function rN(e,t,i,s,n){let r=i[_r],a=Bs(i);r!==a&&Lo(t,e,s,r,n);for(let d=ui;d<i.length;d++){let h=i[d];Bu(h[Pe],h,e,t,s,r)}}function oN(e,t,i,s,n){if(t)n?e.addClass(i,s):e.removeClass(i,s);else{let r=s.indexOf("-")===-1?void 0:un.DashCase;n==null?e.removeStyle(i,s,r):(typeof n=="string"&&n.endsWith("!important")&&(n=n.slice(0,-10),r|=un.Important),e.setStyle(i,s,n,r))}}function vu(e,t,i,s,n=!1){for(;i!==null;){if(i.type===128){i=n?i.projectionNext:i.next;continue}let r=t[i.index];r!==null&&s.push(Bs(r)),pn(r)&&aN(r,s);let a=i.type;if(a&8)vu(e,t,i.child,s);else if(a&32){let d=Um(i,t),h;for(;h=d();)s.push(h)}else if(a&16){let d=fD(t,i);if(Array.isArray(d))s.push(...d);else{let h=kr(t[Bi]);vu(h[Pe],h,d,s,!0)}}i=n?i.projectionNext:i.next}return s}function aN(e,t){for(let i=ui;i<e.length;i++){let s=e[i],n=s[Pe].firstChild;n!==null&&vu(s[Pe],s,n,t)}e[_r]!==e[hn]&&t.push(e[_r])}function vD(e){if(e[Oo]!==null){for(let t of e[Oo])t.impl.addSequence(t);e[Oo].length=0}}var CD=[];function lN(e){return e[Zi]??cN(e)}function cN(e){let t=CD.pop()??Object.create(uN);return t.lView=e,t}function dN(e){e.lView[Zi]!==e&&(e.lView=null,CD.push(e))}var uN=be(U({},el),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Yo(e.lView)},consumerOnSignalRead(){this.lView[Zi]=this}});function hN(e){let t=e[Zi]??Object.create(pN);return t.lView=e,t}var pN=be(U({},el),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=kr(e.lView);for(;t&&!bD(t[Pe]);)t=kr(t);t&&ox(t)},consumerOnSignalRead(){this.lView[Zi]=this}});function bD(e){return e.type!==2}function yD(e){if(e[Pr]===null)return;let t=!0;for(;t;){let i=!1;for(let s of e[Pr])s.dirty&&(i=!0,s.zone===null||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));t=i&&!!(e[Re]&8192)}}var gN=100;function wD(e,t=!0,i=0){let n=e[$n].rendererFactory,r=!1;r||n.begin?.();try{fN(e,i)}catch(a){throw t&&uD(e,a),a}finally{r||n.end?.()}}function fN(e,t){let i=fx();try{du(!0),Nf(e,t);let s=0;for(;_u(e);){if(s===gN)throw new Te(103,!1);s++,Nf(e,1)}}finally{du(i)}}function mN(e,t,i,s){if(Rl(t))return;let n=t[Re],r=!1,a=!1;xm(t);let d=!0,h=null,v=null;r||(bD(e)?(v=lN(t),h=md(v)):a0()===null?(d=!1,v=hN(t),h=md(v)):t[Zi]&&(tl(t[Zi]),t[Zi]=null));try{rx(t),bO(e.bindingStartIndex),i!==null&&aD(e,t,i,2,s);let b=(n&3)===3;if(!r)if(b){let A=e.preOrderCheckHooks;A!==null&&Zd(t,A,null)}else{let A=e.preOrderHooks;A!==null&&Qd(t,A,0,null),ef(t,0)}if(a||vN(t),yD(t),SD(t,0),e.contentQueries!==null&&Zx(e,t),!r)if(b){let A=e.contentCheckHooks;A!==null&&Zd(t,A)}else{let A=e.contentHooks;A!==null&&Qd(t,A,1),ef(t,1)}bN(e,t);let D=e.components;D!==null&&DD(t,D,0);let R=e.viewQuery;if(R!==null&&_f(2,R,s),!r)if(b){let A=e.viewCheckHooks;A!==null&&Zd(t,A)}else{let A=e.viewHooks;A!==null&&Qd(t,A,2),ef(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Jg]){for(let A of t[Jg])A();t[Jg]=null}r||(vD(t),t[Re]&=-73)}catch(b){throw r||Yo(t),b}finally{v!==null&&(Og(v,h),d&&dN(v)),Dm()}}function SD(e,t){for(let i=Wx(e);i!==null;i=jx(i))for(let s=ui;s<i.length;s++){let n=i[s];xD(n,t)}}function vN(e){for(let t=Wx(e);t!==null;t=jx(t)){if(!(t[Re]&2))continue;let i=t[zo];for(let s=0;s<i.length;s++){let n=i[s];ox(n)}}}function CN(e,t,i){at(18);let s=Gs(t,e);xD(s,i),at(19,s[Wt])}function xD(e,t){wm(e)&&Nf(e,t)}function Nf(e,t){let s=e[Pe],n=e[Re],r=e[Zi],a=!!(t===0&&n&16);if(a||=!!(n&64&&t===0),a||=!!(n&1024),a||=!!(r?.dirty&&vd(r)),a||=!1,r&&(r.dirty=!1),e[Re]&=-9217,a)mN(s,e,s.template,e[Wt]);else if(n&8192){yD(e),SD(e,1);let d=s.components;d!==null&&DD(e,d,1),vD(e)}}function DD(e,t,i){for(let s=0;s<t.length;s++)CN(e,t[s],i)}function bN(e,t){let i=e.hostBindingOpCodes;if(i!==null)try{for(let s=0;s<i.length;s++){let n=i[s];if(n<0)Lr(~n);else{let r=n,a=i[++s],d=i[++s];wO(a,r);let h=t[r];at(24,h),d(2,h),at(25,h)}}}finally{Lr(-1)}}function Xm(e,t){let i=fx()?64:1088;for(e[$n].changeDetectionScheduler?.notify(t);e;){e[Re]|=i;let s=kr(e);if(cu(e)&&!s)return e;e=s}return null}function ED(e,t,i,s){return[e,!0,0,t,null,s,null,i,null,null]}function MD(e,t){let i=ui+t;if(i<e.length)return e[i]}function _l(e,t,i,s=!0){let n=t[Pe];if(yN(n,t,e,i),s){let a=Of(i,e),d=t[Nt],h=d.parentNode(e[_r]);h!==null&&Z2(n,e[Ai],d,t,h,a)}let r=t[Ho];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function RD(e,t){let i=yl(e,t);return i!==void 0&&Nu(i[Pe],i),i}function yl(e,t){if(e.length<=ui)return;let i=ui+t,s=e[i];if(s){let n=s[Fr];n!==null&&n!==e&&Km(n,s),t>0&&(e[i-1][gs]=s[gs]);let r=ru(e,ui+t);X2(s[Pe],s);let a=r[cn];a!==null&&a.detachView(r[Pe]),s[pi]=null,s[gs]=null,s[Re]&=-129}return s}function yN(e,t,i,s){let n=ui+s,r=i.length;s>0&&(i[n-1][gs]=t),s<r-ui?(t[gs]=i[n],WS(i,ui+s,t)):(i.push(t),t[gs]=null),t[pi]=i;let a=t[Fr];a!==null&&i!==a&&TD(a,t);let d=t[cn];d!==null&&d.insertView(e),yf(t),t[Re]|=128}function TD(e,t){let i=e[zo],s=t[pi];if(Un(s))e[Re]|=2;else{let n=s[pi][Bi];t[Bi]!==n&&(e[Re]|=2)}i===null?e[zo]=[t]:i.push(t)}var wl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,i=t[Pe];return vu(i,t,i.firstChild,[])}constructor(t,i,s=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=s}get context(){return this._lView[Wt]}set context(t){this._lView[Wt]=t}get destroyed(){return Rl(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[pi];if(pn(t)){let i=t[lu],s=i?i.indexOf(this):-1;s>-1&&(yl(t,s),ru(i,s))}this._attachedToViewContainer=!1}Nu(this._lView[Pe],this._lView)}onDestroy(t){ax(this._lView,t)}markForCheck(){Xm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Re]&=-129}reattach(){yf(this._lView),this._lView[Re]|=128}detectChanges(){this._lView[Re]|=1024,wD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=cu(this._lView),i=this._lView[Fr];i!==null&&!t&&Km(i,this._lView),hD(this._lView[Pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=t;let i=cu(this._lView),s=this._lView[Fr];s!==null&&!i&&TD(s,this._lView),yf(this._lView)}};var oi=(()=>{class e{static __NG_ELEMENT_ID__=xN}return e})(),wN=oi,SN=class extends wN{_declarationLView;_declarationTContainer;elementRef;constructor(t,i,s){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,s){let n=Pl(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:s});return new wl(n)}};function xN(){return Zm(Gi(),Ke())}function Zm(e,t){return e.type&4?new SN(t,e,Qo(e,t)):null}function Gu(e,t,i,s,n){let r=e.data[t];if(r===null)r=DN(e,t,i,s,n),yO()&&(r.flags|=32);else if(r.type&64){r.type=i,r.value=s,r.attrs=n;let a=mO();r.injectorIndex=a===null?-1:a.injectorIndex}return Tl(r,!0),r}function DN(e,t,i,s,n){let r=hx(),a=px(),d=a?r:r&&r.parent,h=e.data[t]=MN(e,d,i,t,s,n);return EN(e,h,r,a),h}function EN(e,t,i,s){e.firstChild===null&&(e.firstChild=t),i!==null&&(s?i.child==null&&t.parent!==null&&(i.child=t):i.next===null&&(i.next=t,t.prev=i))}function MN(e,t,i,s,n,r){let a=t?t.injectorIndex:-1,d=0;return ux()&&(d|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:n,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var fZ=new RegExp(`^(\\d+)*(${l2}|${a2})*(.*)`);var RN=()=>null;function Uo(e,t){return RN(e,t)}var TN=class{},ID=class{},Bf=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Xi(t)}.`)}},Qm=class{static NULL=new Bf},ai=class{},vs=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>IN()}return e})();function IN(){let e=Ke(),t=Gi(),i=Gs(t.index,e);return(Un(i)?i:e)[Nt]}var AN=(()=>{class e{static \u0275prov=ie({token:e,providedIn:"root",factory:()=>null})}return e})();function bS(e,t,i){let s=i?e.styles:null,n=i?e.classes:null,r=0;if(t!==null)for(let a=0;a<t.length;a++){let d=t[a];if(typeof d=="number")r=d;else if(r==1)n=hf(n,d);else if(r==2){let h=d,v=t[++a];s=hf(s,h+": "+v+";")}}i?e.styles=s:e.stylesWithoutHost=s,i?e.classes=n:e.classesWithoutHost=n}function At(e,t=We.Default){let i=Ke();if(i===null)return xe(e,t);let s=Gi();return Px(s,i,wi(e),t)}function AD(e,t,i,s,n){let r=s===null?null:{"":-1},a=n(e,i);if(a!==null){let d,h=null,v=null,b=PN(a);b===null?d=a:[d,h,v]=b,LN(e,t,i,d,r,h,v)}r!==null&&s!==null&&FN(i,s,r)}function FN(e,t,i){let s=e.localNames=[];for(let n=0;n<t.length;n+=2){let r=i[t[n+1]];if(r==null)throw new Te(-301,!1);s.push(t[n],r)}}function PN(e){let t=null,i=!1;for(let a=0;a<e.length;a++){let d=e[a];if(a===0&&Ns(d)&&(t=d),d.findHostDirectiveDefs!==null){i=!0;break}}if(!i)return null;let s=null,n=null,r=null;for(let a of e)a.findHostDirectiveDefs!==null&&(s??=[],n??=new Map,r??=new Map,_N(a,s,r,n)),a===t&&(s??=[],s.push(a));return s!==null?(s.push(...t===null?e:e.slice(1)),[s,n,r]):null}function _N(e,t,i,s){let n=t.length;e.findHostDirectiveDefs(e,t,s),i.set(e,[n,t.length-1])}function kN(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function LN(e,t,i,s,n,r,a){let d=s.length,h=!1;for(let R=0;R<d;R++){let A=s[R];!h&&Ns(A)&&(h=!0,kN(e,i,R)),Ef(pu(i,t),e,A.type)}HN(i,e.data.length,d);for(let R=0;R<d;R++){let A=s[R];A.providersResolver&&A.providersResolver(A)}let v=!1,b=!1,D=rD(e,t,d,null);d>0&&(i.directiveToIndex=new Map);for(let R=0;R<d;R++){let A=s[R];if(i.mergedAttrs=vl(i.mergedAttrs,A.hostAttrs),NN(e,i,t,D,A),VN(D,A,n),a!==null&&a.has(A)){let[L,H]=a.get(A);i.directiveToIndex.set(A.type,[D,L+i.directiveStart,H+i.directiveStart])}else(r===null||!r.has(A))&&i.directiveToIndex.set(A.type,D);A.contentQueries!==null&&(i.flags|=4),(A.hostBindings!==null||A.hostAttrs!==null||A.hostVars!==0)&&(i.flags|=64);let k=A.type.prototype;!v&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),v=!0),!b&&(k.ngOnChanges||k.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),b=!0),D++}ON(e,i,r)}function ON(e,t,i){for(let s=t.directiveStart;s<t.directiveEnd;s++){let n=e.data[s];if(i===null||!i.has(n))yS(0,t,n,s),yS(1,t,n,s),SS(t,s,!1);else{let r=i.get(n);wS(0,t,r,s),wS(1,t,r,s),SS(t,s,!0)}}}function yS(e,t,i,s){let n=e===0?i.inputs:i.outputs;for(let r in n)if(n.hasOwnProperty(r)){let a;e===0?a=t.inputs??={}:a=t.outputs??={},a[r]??=[],a[r].push(s),FD(t,r)}}function wS(e,t,i,s){let n=e===0?i.inputs:i.outputs;for(let r in n)if(n.hasOwnProperty(r)){let a=n[r],d;e===0?d=t.hostDirectiveInputs??={}:d=t.hostDirectiveOutputs??={},d[a]??=[],d[a].push(s,r),FD(t,a)}}function FD(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function SS(e,t,i){let{attrs:s,inputs:n,hostDirectiveInputs:r}=e;if(s===null||!i&&n===null||i&&r===null||Bm(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,d=0;for(;d<s.length;){let h=s[d];if(h===0){d+=4;continue}else if(h===5){d+=2;continue}else if(typeof h=="number")break;if(!i&&n.hasOwnProperty(h)){let v=n[h];for(let b of v)if(b===t){a??=[],a.push(h,s[d+1]);break}}else if(i&&r.hasOwnProperty(h)){let v=r[h];for(let b=0;b<v.length;b+=2)if(v[b]===t){a??=[],a.push(v[b+1],s[d+1]);break}}d+=2}e.initialInputs??=[],e.initialInputs.push(a)}function NN(e,t,i,s,n){e.data[s]=n;let r=n.factory||(n.factory=Bo(n.type,!0)),a=new Or(r,Ns(n),At);e.blueprint[s]=a,i[s]=a,BN(e,t,s,rD(e,i,n.hostVars,Ws),n)}function BN(e,t,i,s,n){let r=n.hostBindings;if(r){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let d=~t.index;GN(a)!=d&&a.push(d),a.push(i,s,r)}}function GN(e){let t=e.length;for(;t>0;){let i=e[--t];if(typeof i=="number"&&i<0)return i}return 0}function VN(e,t,i){if(i){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)i[t.exportAs[s]]=e;Ns(t)&&(i[""]=e)}}function HN(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function PD(e,t,i,s,n,r,a,d){let h=t.consts,v=Wo(h,a),b=Gu(t,e,2,s,v);return r&&AD(t,i,b,Wo(h,d),n),b.mergedAttrs=vl(b.mergedAttrs,b.attrs),b.attrs!==null&&bS(b,b.attrs,!1),b.mergedAttrs!==null&&bS(b,b.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,b),b}function _D(e,t){Dx(e,t),JS(t)&&e.queries.elementEnd(t)}var Gf=class extends Qm{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let i=Go(t);return new Sl(i,this.ngModule)}};function zN(e){return Object.keys(e).map(t=>{let[i,s,n]=e[t],r={propName:i,templateName:t,isSignal:(s&Ou.SignalBased)!==0};return n&&(r.transform=n),r})}function WN(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function jN(e,t,i){let s=t instanceof hi?t:t?.injector;return s&&e.getStandaloneInjector!==null&&(s=e.getStandaloneInjector(s)||s),s?new xf(i,s):i}function UN(e){let t=e.get(ai,null);if(t===null)throw new Te(407,!1);let i=e.get(AN,null),s=e.get(Nr,null);return{rendererFactory:t,sanitizer:i,changeDetectionScheduler:s}}function $N(e,t){let i=(e.selectors[0][0]||"div").toLowerCase();return tD(t,i,i==="svg"?sO:i==="math"?nO:null)}var Sl=class extends ID{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=zN(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=WN(this.componentDef.outputs),this.cachedOutputs}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=E2(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!i}create(t,i,s,n){at(22);let r=Ge(null);try{let a=this.componentDef,d=s?["ng-version","19.2.2"]:M2(this.componentDef.selectors[0]),h=Gm(0,null,null,1,0,null,null,null,null,[d],null),v=jN(a,n||this.ngModule,t),b=UN(v),D=b.rendererFactory.createRenderer(null,a),R=s?L2(D,s,a.encapsulation,v):$N(a,D),A=Vm(null,h,null,512|nD(a),null,null,b,D,v,null,Xx(R,v,!0));A[Si]=R,xm(A);let k=null;try{let L=PD(Si,h,A,"#host",()=>[this.componentDef],!0,0);R&&(sD(D,R,L),Il(R,A)),zm(h,A,L),Qx(h,L,A),_D(h,L),i!==void 0&&KN(L,this.ngContentSelectors,i),k=Gs(L.index,A),A[Wt]=k[Wt],jm(h,A,null)}catch(L){throw k!==null&&Af(k),Af(A),L}finally{at(23),Dm()}return new Vf(this.componentType,A)}finally{Ge(r)}}},Vf=class extends TN{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,i){super(),this._rootLView=i,this._tNode=ym(i[Pe],Si),this.location=Qo(this._tNode,i),this.instance=Gs(this._tNode.index,i)[Wt],this.hostView=this.changeDetectorRef=new wl(i,void 0,!1),this.componentType=t}setInput(t,i){let s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;let n=this._rootLView,r=Wm(s,n[Pe],n,t,i);this.previousInputValues.set(t,i);let a=Gs(s.index,n);Xm(a,1)}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function KN(e,t,i){let s=e.projection=[];for(let n=0;n<t.length;n++){let r=i[n];s.push(r!=null&&r.length?Array.from(r):null)}}var li=(()=>{class e{static __NG_ELEMENT_ID__=qN}return e})();function qN(){let e=Gi();return LD(e,Ke())}var YN=li,kD=class extends YN{_lContainer;_hostTNode;_hostLView;constructor(t,i,s){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=s}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){let t=Tm(this._hostTNode,this._hostLView);if(Mx(t)){let i=hu(t,this._hostLView),s=uu(t),n=i[Pe].data[s+8];return new Ir(n,i)}else return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let i=xS(this._lContainer);return i!==null&&i[t]||null}get length(){return this._lContainer.length-ui}createEmbeddedView(t,i,s){let n,r;typeof s=="number"?n=s:s!=null&&(n=s.index,r=s.injector);let a=Uo(this._lContainer,t.ssrId),d=t.createEmbeddedViewImpl(i||{},r,a);return this.insertImpl(d,n,jo(this._hostTNode,a)),d}createComponent(t,i,s,n,r){let a=t&&!JL(t),d;if(a)d=i;else{let k=i||{};d=k.index,s=k.injector,n=k.projectableNodes,r=k.environmentInjector||k.ngModuleRef}let h=a?t:new Sl(Go(t)),v=s||this.parentInjector;if(!r&&h.ngModule==null){let L=(a?v:this.parentInjector).get(hi,null);L&&(r=L)}let b=Go(h.componentType??{}),D=Uo(this._lContainer,b?.id??null),R=D?.firstChild??null,A=h.create(v,n,R,r);return this.insertImpl(A.hostView,d,jo(this._hostTNode,D)),A}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,s){let n=t._lView;if(aO(n)){let d=this.indexOf(t);if(d!==-1)this.detach(d);else{let h=n[pi],v=new kD(h,h[Ai],h[pi]);v.detach(v.indexOf(t))}}let r=this._adjustIndex(i),a=this._lContainer;return _l(a,n,r,s),t.attachToViewContainerRef(),WS(rf(a),r,t),t}move(t,i){return this.insert(t,i)}indexOf(t){let i=xS(this._lContainer);return i!==null?i.indexOf(t):-1}remove(t){let i=this._adjustIndex(t,-1),s=yl(this._lContainer,i);s&&(ru(rf(this._lContainer),i),Nu(s[Pe],s))}detach(t){let i=this._adjustIndex(t,-1),s=yl(this._lContainer,i);return s&&ru(rf(this._lContainer),i)!=null?new wl(s):null}_adjustIndex(t,i=0){return t??this.length+i}};function xS(e){return e[lu]}function rf(e){return e[lu]||(e[lu]=[])}function LD(e,t){let i,s=t[e.index];return pn(s)?i=s:(i=ED(s,t,null,e),t[e.index]=i,Hm(t,i)),ZN(i,t,e,s),new kD(i,e,t)}function XN(e,t){let i=e[Nt],s=i.createComment(""),n=zs(t,e),r=i.parentNode(n);return mu(i,r,s,i.nextSibling(n),!1),s}var ZN=e3,QN=()=>!1;function JN(e,t,i){return QN(e,t,i)}function e3(e,t,i,s){if(e[_r])return;let n;i.type&8?n=Bs(s):n=XN(t,i),e[_r]=n}var Hf=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},zf=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let i=t.queries;if(i!==null){let s=t.contentQueries!==null?t.contentQueries[0]:i.length,n=[];for(let r=0;r<s;r++){let a=i.getByIndex(r),d=this.queries[a.indexInDeclarationView];n.push(d.clone())}return new e(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)Jm(t,i).matches!==null&&this.queries[i].setDirty()}},Cu=class{flags;read;predicate;constructor(t,i,s=null){this.flags=i,this.read=s,typeof t=="string"?this.predicate=l3(t):this.predicate=t}},Wf=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let s=0;s<this.length;s++){let n=i!==null?i.length:0,r=this.getByIndex(s).embeddedTView(t,n);r&&(r.indexInDeclarationView=s,i!==null?i.push(r):i=[r])}return i!==null?new e(i):null}template(t,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},jf=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,i=-1){this.metadata=t,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,s=t.parent;for(;s!==null&&s.type&8&&s.index!==i;)s=s.parent;return i===(s!==null?s.index:-1)}return this._appliesToNextNode}matchTNode(t,i){let s=this.metadata.predicate;if(Array.isArray(s))for(let n=0;n<s.length;n++){let r=s[n];this.matchTNodeWithReadOption(t,i,t3(i,r)),this.matchTNodeWithReadOption(t,i,Jd(i,t,r,!1,!1))}else s===oi?i.type&4&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,Jd(i,t,s,!1,!1))}matchTNodeWithReadOption(t,i,s){if(s!==null){let n=this.metadata.read;if(n!==null)if(n===He||n===li||n===oi&&i.type&4)this.addMatch(i.index,-2);else{let r=Jd(i,t,n,!1,!1);r!==null&&this.addMatch(i.index,r)}else this.addMatch(i.index,s)}}addMatch(t,i){this.matches===null?this.matches=[t,i]:this.matches.push(t,i)}};function t3(e,t){let i=e.localNames;if(i!==null){for(let s=0;s<i.length;s+=2)if(i[s]===t)return i[s+1]}return null}function i3(e,t){return e.type&11?Qo(e,t):e.type&4?Zm(e,t):null}function s3(e,t,i,s){return i===-1?i3(t,e):i===-2?n3(e,t,s):Cl(e,e[Pe],i,t)}function n3(e,t,i){if(i===He)return Qo(t,e);if(i===oi)return Zm(t,e);if(i===li)return LD(t,e)}function OD(e,t,i,s){let n=t[cn].queries[s];if(n.matches===null){let r=e.data,a=i.matches,d=[];for(let h=0;a!==null&&h<a.length;h+=2){let v=a[h];if(v<0)d.push(null);else{let b=r[v];d.push(s3(t,b,a[h+1],i.metadata.read))}}n.matches=d}return n.matches}function Uf(e,t,i,s){let n=e.queries.getByIndex(i),r=n.matches;if(r!==null){let a=OD(e,t,n,i);for(let d=0;d<r.length;d+=2){let h=r[d];if(h>0)s.push(a[d/2]);else{let v=r[d+1],b=t[-h];for(let D=ui;D<b.length;D++){let R=b[D];R[Fr]===R[pi]&&Uf(R[Pe],R,v,s)}if(b[zo]!==null){let D=b[zo];for(let R=0;R<D.length;R++){let A=D[R];Uf(A[Pe],A,v,s)}}}}}return s}function r3(e,t){return e[cn].queries[t].queryList}function ND(e,t,i){let s=new Kn((i&4)===4);return dO(e,t,s,s.destroy),(t[cn]??=new zf).queries.push(new Hf(s))-1}function o3(e,t,i){let s=Yt();return s.firstCreatePass&&(BD(s,new Cu(e,t,i),-1),(t&2)===2&&(s.staticViewQueries=!0)),ND(s,Ke(),t)}function a3(e,t,i,s){let n=Yt();if(n.firstCreatePass){let r=Gi();BD(n,new Cu(t,i,s),r.index),c3(n,e),(i&2)===2&&(n.staticContentQueries=!0)}return ND(n,Ke(),i)}function l3(e){return e.split(",").map(t=>t.trim())}function BD(e,t,i){e.queries===null&&(e.queries=new Wf),e.queries.track(new jf(t,i))}function c3(e,t){let i=e.contentQueries||(e.contentQueries=[]),s=i.length?i[i.length-1]:-1;t!==s&&i.push(e.queries.length-1,t)}function Jm(e,t){return e.queries.getByIndex(t)}function d3(e,t){let i=e[Pe],s=Jm(i,t);return s.crossesNgTemplate?Uf(i,e,t,[]):OD(i,e,s,t)}var Br=class{};var bu=class extends Br{injector;componentFactoryResolver=new Gf(this);instance=null;constructor(t){super();let i=new gl([...t.providers,{provide:Br,useValue:this},{provide:Qm,useValue:this.componentFactoryResolver}],t.parent||Iu(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function u3(e,t,i=null){return new bu({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}var h3=(()=>{class e{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let s=$S(!1,i.type),n=s.length>0?u3([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,n)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:e,providedIn:"environment",factory:()=>new e(xe(hi))})}return e})();function ze(e){return El(()=>{let t=GD(e),i=be(U({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Hx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?n=>n.get(h3).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vs.Emulated,styles:e.styles||Ii,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Vr("NgStandalone"),VD(i);let s=e.dependencies;return i.directiveDefs=DS(s,!1),i.pipeDefs=DS(s,!0),i.id=v3(i),i})}function p3(e){return Go(e)||HL(e)}function g3(e){return e!==null}function Xe(e){return El(()=>({type:e.type,bootstrap:e.bootstrap||Ii,declarations:e.declarations||Ii,imports:e.imports||Ii,exports:e.exports||Ii,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function f3(e,t){if(e==null)return Ar;let i={};for(let s in e)if(e.hasOwnProperty(s)){let n=e[s],r,a,d,h;Array.isArray(n)?(d=n[0],r=n[1],a=n[2]??r,h=n[3]||null):(r=n,a=n,d=Ou.None,h=null),i[r]=[s,d,h],t[r]=a}return i}function m3(e){if(e==null)return Ar;let t={};for(let i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function nt(e){return El(()=>{let t=GD(e);return VD(t),t})}function GD(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Ar,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Ii,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:f3(e.inputs,t),outputs:m3(e.outputs),debugInfo:null}}function VD(e){e.features?.forEach(t=>t(e))}function DS(e,t){if(!e)return null;let i=t?zL:p3;return()=>(typeof e=="function"?e():e).map(s=>i(s)).filter(g3)}function v3(e){let t=0,i=typeof e.consts=="function"?"":e.consts,s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,i,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let r of s.join("|"))t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function C3(e){return Object.getPrototypeOf(e.prototype).constructor}function ci(e){let t=C3(e.type),i=!0,s=[e];for(;t;){let n;if(Ns(e))n=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Te(903,!1);n=t.\u0275dir}if(n){if(i){s.push(n);let a=e;a.inputs=of(e.inputs),a.declaredInputs=of(e.declaredInputs),a.outputs=of(e.outputs);let d=n.hostBindings;d&&x3(e,d);let h=n.viewQuery,v=n.contentQueries;if(h&&w3(e,h),v&&S3(e,v),b3(e,n),bL(e.outputs,n.outputs),Ns(n)&&n.data.animation){let b=e.data;b.animation=(b.animation||[]).concat(n.data.animation)}}let r=n.features;if(r)for(let a=0;a<r.length;a++){let d=r[a];d&&d.ngInherit&&d(e),d===ci&&(i=!1)}}t=Object.getPrototypeOf(t)}y3(s)}function b3(e,t){for(let i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;let s=t.inputs[i];s!==void 0&&(e.inputs[i]=s,e.declaredInputs[i]=t.declaredInputs[i])}}function y3(e){let t=0,i=null;for(let s=e.length-1;s>=0;s--){let n=e[s];n.hostVars=t+=n.hostVars,n.hostAttrs=vl(n.hostAttrs,i=vl(i,n.hostAttrs))}}function of(e){return e===Ar?{}:e===Ii?[]:e}function w3(e,t){let i=e.viewQuery;i?e.viewQuery=(s,n)=>{t(s,n),i(s,n)}:e.viewQuery=t}function S3(e,t){let i=e.contentQueries;i?e.contentQueries=(s,n,r)=>{t(s,n,r),i(s,n,r)}:e.contentQueries=t}function x3(e,t){let i=e.hostBindings;i?e.hostBindings=(s,n)=>{t(s,n),i(s,n)}:e.hostBindings=t}function HD(e){return E3(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function D3(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{let i=e[Symbol.iterator](),s;for(;!(s=i.next()).done;)t(s.value)}}function E3(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function M3(e,t,i){return e[t]=i}function Hs(e,t,i){let s=e[t];return Object.is(s,i)?!1:(e[t]=i,!0)}function R3(e,t,i,s){let n=Hs(e,t,i);return Hs(e,t+1,s)||n}function T3(e,t,i,s,n,r,a,d,h){let v=t.consts,b=Gu(t,e,4,a||null,d||null);dx()&&AD(t,i,b,Wo(v,h),dD),b.mergedAttrs=vl(b.mergedAttrs,b.attrs),Dx(t,b);let D=b.tView=Gm(2,b,s,n,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,v,null);return t.queries!==null&&(t.queries.template(t,b),D.queries=t.queries.embeddedTView(b)),b}function yu(e,t,i,s,n,r,a,d,h,v){let b=i+Si,D=t.firstCreatePass?T3(b,t,e,s,n,r,a,d,h):t.data[b];Tl(D,!1);let R=I3(t,e,D,i);Mm()&&qm(t,e,R,D),Il(R,e);let A=ED(R,e,R,D);return e[b]=A,Hm(e,A),JN(A,D,e),bm(D)&&zm(t,e,D),h!=null&&lD(e,D,v),D}function di(e,t,i,s,n,r,a,d){let h=Ke(),v=Yt(),b=Wo(v.consts,r);return yu(h,v,e,t,i,s,n,b,a,d),di}var I3=A3;function A3(e,t,i,s){return Rm(!0),t[Nt].createComment("")}var zD=new ce("");var WD=(()=>{class e{static \u0275prov=ie({token:e,providedIn:"root",factory:()=>new $f})}return e})(),$f=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let i=t.zone,s=this.queues.get(i);s.has(t)&&(s.delete(t),this.queuedEffectCount--)}enqueue(t){let i=t.zone;this.queues.has(i)||this.queues.set(i,new Set);let s=this.queues.get(i);s.has(t)||(this.queuedEffectCount++,s.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,i]of this.queues)t===null?this.flushQueue(i):t.run(()=>this.flushQueue(i))}flushQueue(t){for(let i of t)t.delete(i),this.queuedEffectCount--,i.run()}};function ev(e){return!!e&&typeof e.then=="function"}function jD(e){return!!e&&typeof e.subscribe=="function"}var F3=new ce("");var UD=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s});appInits=O(F3,{optional:!0})??[];injector=O(Je);constructor(){}runInitializers(){if(this.initialized)return;let i=[];for(let n of this.appInits){let r=Au(this.injector,n);if(ev(r))i.push(r);else if(jD(r)){let a=new Promise((d,h)=>{r.subscribe({complete:d,error:h})});i.push(a)}}let s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(n=>{this.reject(n)}),i.length===0&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$D=new ce("");function P3(){m0(()=>{throw new Te(600,!1)})}function _3(e){return e.isBoundToModule}var k3=10;var fs=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(ZO);afterRenderManager=O(qx);zonelessEnabled=O(Im);rootEffectScheduler=O(WD);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new pe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(Zo).hasPendingTasks.pipe(zt(i=>!i));constructor(){O(Jo,{optional:!0})}whenStable(){let i;return new Promise(s=>{i=this.isStable.subscribe({next:n=>{n&&s()}})}).finally(()=>{i.unsubscribe()})}_injector=O(hi);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,s){at(10);let n=i instanceof ID;if(!this._injector.get(UD).done){let R="";throw new Te(405,R)}let a;n?a=i:a=this._injector.get(Qm).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let d=_3(a)?void 0:this._injector.get(Br),h=s||a.selector,v=a.create(Je.NULL,[],h,d),b=v.location.nativeElement,D=v.injector.get(zD,null);return D?.registerApplication(b),v.onDestroy(()=>{this.detachView(v.hostView),eu(this.components,v),D?.unregisterApplication(b)}),this._loadComponent(v),at(11,v),v}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){at(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Lm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Te(101,!1);let i=Ge(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ge(i),this.afterTick.next(),at(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ai,null,{optional:!0}));let i=0;for(;this.dirtyFlags!==0&&i++<k3;)at(14),this.synchronizeOnce(),at(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:n}of this.allViews)L3(s,n,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>_u(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){let s=i;eu(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get($D,[]).forEach(n=>n(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>eu(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Te(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eu(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function L3(e,t,i,s){if(!i&&!_u(e))return;wD(e,t,i&&!s?0:1)}function gi(e,t,i,s){let n=Ke(),r=Xo();if(Hs(n,r,t)){let a=Yt(),d=Em();W2(d,n,e,t,i,s)}return gi}function O3(e,t,i,s){return Hs(e,Xo(),i)?t+hm(i)+s:Ws}function Yd(e,t){return e<<17|t<<2}function Gr(e){return e>>17&32767}function N3(e){return(e&2)==2}function B3(e,t){return e&131071|t<<17}function Kf(e){return e|2}function $o(e){return(e&131068)>>2}function af(e,t){return e&-131069|t<<2}function G3(e){return(e&1)===1}function qf(e){return e|1}function V3(e,t,i,s,n,r){let a=r?t.classBindings:t.styleBindings,d=Gr(a),h=$o(a);e[s]=i;let v=!1,b;if(Array.isArray(i)){let D=i;b=D[1],(b===null||Ml(D,b)>0)&&(v=!0)}else b=i;if(n)if(h!==0){let R=Gr(e[d+1]);e[s+1]=Yd(R,d),R!==0&&(e[R+1]=af(e[R+1],s)),e[d+1]=B3(e[d+1],s)}else e[s+1]=Yd(d,0),d!==0&&(e[d+1]=af(e[d+1],s)),d=s;else e[s+1]=Yd(h,0),d===0?d=s:e[h+1]=af(e[h+1],s),h=s;v&&(e[s+1]=Kf(e[s+1])),ES(e,b,s,!0),ES(e,b,s,!1),H3(t,b,e,s,r),a=Yd(d,h),r?t.classBindings=a:t.styleBindings=a}function H3(e,t,i,s,n){let r=n?e.residualClasses:e.residualStyles;r!=null&&typeof t=="string"&&Ml(r,t)>=0&&(i[s+1]=qf(i[s+1]))}function ES(e,t,i,s){let n=e[i+1],r=t===null,a=s?Gr(n):$o(n),d=!1;for(;a!==0&&(d===!1||r);){let h=e[a],v=e[a+1];z3(h,t)&&(d=!0,e[a+1]=s?qf(v):Kf(v)),a=s?Gr(v):$o(v)}d&&(e[i+1]=s?Kf(n):qf(n))}function z3(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ml(e,t)>=0:!1}var ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function W3(e){return e.substring(ps.key,ps.keyEnd)}function j3(e){return U3(e),KD(e,qD(e,0,ps.textEnd))}function KD(e,t){let i=ps.textEnd;return i===t?-1:(t=ps.keyEnd=$3(e,ps.key=t,i),qD(e,t,i))}function U3(e){ps.key=0,ps.keyEnd=0,ps.value=0,ps.valueEnd=0,ps.textEnd=e.length}function qD(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function $3(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}function wt(e,t,i){let s=Ke(),n=Xo();if(Hs(s,n,t)){let r=Yt(),a=Em();cD(r,a,s,e,t,s[Nt],i,!1)}return wt}function Yf(e,t,i,s,n){Wm(t,e,i,n?"class":"style",s)}function kl(e,t,i){return YD(e,t,i,!1),kl}function Ft(e,t){return YD(e,t,null,!0),Ft}function Hr(e){q3(eB,K3,e,!0)}function K3(e,t){for(let i=j3(t);i>=0;i=KD(t,i))mm(e,W3(t),!0)}function YD(e,t,i,s){let n=Ke(),r=Yt(),a=mx(2);if(r.firstUpdatePass&&ZD(r,e,a,s),t!==Ws&&Hs(n,a,t)){let d=r.data[qn()];QD(r,d,n,n[Nt],e,n[a+1]=iB(t,i),s,a)}}function q3(e,t,i,s){let n=Yt(),r=mx(2);n.firstUpdatePass&&ZD(n,null,r,s);let a=Ke();if(i!==Ws&&Hs(a,r,i)){let d=n.data[qn()];if(JD(d,s)&&!XD(n,r)){let h=s?d.classesWithoutHost:d.stylesWithoutHost;h!==null&&(i=hf(h,i||"")),Yf(n,d,a,i,s)}else tB(n,d,a,a[Nt],a[r+1],a[r+1]=J3(e,t,i),s,r)}}function XD(e,t){return t>=e.expandoStartIndex}function ZD(e,t,i,s){let n=e.data;if(n[i+1]===null){let r=n[qn()],a=XD(e,i);JD(r,s)&&t===null&&!a&&(t=!1),t=Y3(n,r,t,s),V3(n,r,t,i,a,s)}}function Y3(e,t,i,s){let n=xO(e),r=s?t.residualClasses:t.residualStyles;if(n===null)(s?t.classBindings:t.styleBindings)===0&&(i=lf(null,e,t,i,s),i=xl(i,t.attrs,s),r=null);else{let a=t.directiveStylingLast;if(a===-1||e[a]!==n)if(i=lf(n,e,t,i,s),r===null){let h=X3(e,t,s);h!==void 0&&Array.isArray(h)&&(h=lf(null,e,t,h[1],s),h=xl(h,t.attrs,s),Z3(e,t,s,h))}else r=Q3(e,t,s)}return r!==void 0&&(s?t.residualClasses=r:t.residualStyles=r),i}function X3(e,t,i){let s=i?t.classBindings:t.styleBindings;if($o(s)!==0)return e[Gr(s)]}function Z3(e,t,i,s){let n=i?t.classBindings:t.styleBindings;e[Gr(n)]=s}function Q3(e,t,i){let s,n=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<n;r++){let a=e[r].hostAttrs;s=xl(s,a,i)}return xl(s,t.attrs,i)}function lf(e,t,i,s,n){let r=null,a=i.directiveEnd,d=i.directiveStylingLast;for(d===-1?d=i.directiveStart:d++;d<a&&(r=t[d],s=xl(s,r.hostAttrs,n),r!==e);)d++;return e!==null&&(i.directiveStylingLast=d),s}function xl(e,t,i){let s=i?1:2,n=-1;if(t!==null)for(let r=0;r<t.length;r++){let a=t[r];typeof a=="number"?n=a:n===s&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),mm(e,a,i?!0:t[++r]))}return e===void 0?null:e}function J3(e,t,i){if(i==null||i==="")return Ii;let s=[],n=Lu(i);if(Array.isArray(n))for(let r=0;r<n.length;r++)e(s,n[r],!0);else if(typeof n=="object")for(let r in n)n.hasOwnProperty(r)&&e(s,r,n[r]);else typeof n=="string"&&t(s,n);return s}function eB(e,t,i){let s=String(t);s!==""&&!s.includes(" ")&&mm(e,s,i)}function tB(e,t,i,s,n,r,a,d){n===Ws&&(n=Ii);let h=0,v=0,b=0<n.length?n[0]:null,D=0<r.length?r[0]:null;for(;b!==null||D!==null;){let R=h<n.length?n[h+1]:void 0,A=v<r.length?r[v+1]:void 0,k=null,L;b===D?(h+=2,v+=2,R!==A&&(k=D,L=A)):D===null||b!==null&&b<D?(h+=2,k=b):(v+=2,k=D,L=A),k!==null&&QD(e,t,i,s,k,L,a,d),b=h<n.length?n[h]:null,D=v<r.length?r[v]:null}}function QD(e,t,i,s,n,r,a,d){if(!(t.type&3))return;let h=e.data,v=h[d+1],b=G3(v)?MS(h,t,i,n,$o(v),a):void 0;if(!wu(b)){wu(r)||N3(v)&&(r=MS(h,null,i,n,d,a));let D=nx(qn(),i);oN(s,a,D,n,r)}}function MS(e,t,i,s,n,r){let a=t===null,d;for(;n>0;){let h=e[n],v=Array.isArray(h),b=v?h[1]:h,D=b===null,R=i[n+1];R===Ws&&(R=D?Ii:void 0);let A=D?Zg(R,s):b===s?R:void 0;if(v&&!wu(A)&&(A=Zg(h,s)),wu(A)&&(d=A,a))return d;let k=e[n+1];n=a?Gr(k):$o(k)}if(t!==null){let h=r?t.residualClasses:t.residualStyles;h!=null&&(d=Zg(h,s))}return d}function wu(e){return e!==void 0}function iB(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Xi(Lu(e)))),e}function JD(e,t){return(e.flags&(t?8:16))!==0}var Xf=class{destroy(t){}updateValue(t,i){}swap(t,i){let s=Math.min(t,i),n=Math.max(t,i),r=this.detach(n);if(n-s>1){let a=this.detach(s);this.attach(s,r),this.attach(n,a)}else this.attach(s,r)}move(t,i){this.attach(i,this.detach(t))}};function cf(e,t,i,s,n){return e===i&&Object.is(t,s)?1:Object.is(n(e,t),n(i,s))?-1:0}function sB(e,t,i){let s,n,r=0,a=e.length-1,d=void 0;if(Array.isArray(t)){let h=t.length-1;for(;r<=a&&r<=h;){let v=e.at(r),b=t[r],D=cf(r,v,r,b,i);if(D!==0){D<0&&e.updateValue(r,b),r++;continue}let R=e.at(a),A=t[h],k=cf(a,R,h,A,i);if(k!==0){k<0&&e.updateValue(a,A),a--,h--;continue}let L=i(r,v),H=i(a,R),$=i(r,b);if(Object.is($,H)){let Z=i(h,A);Object.is(Z,L)?(e.swap(r,a),e.updateValue(a,A),h--,a--):e.move(a,r),e.updateValue(r,b),r++;continue}if(s??=new Su,n??=TS(e,r,a,i),Zf(e,s,r,$))e.updateValue(r,b),r++,a++;else if(n.has($))s.set(L,e.detach(r)),a--;else{let Z=e.create(r,t[r]);e.attach(r,Z),r++,a++}}for(;r<=h;)RS(e,s,i,r,t[r]),r++}else if(t!=null){let h=t[Symbol.iterator](),v=h.next();for(;!v.done&&r<=a;){let b=e.at(r),D=v.value,R=cf(r,b,r,D,i);if(R!==0)R<0&&e.updateValue(r,D),r++,v=h.next();else{s??=new Su,n??=TS(e,r,a,i);let A=i(r,D);if(Zf(e,s,r,A))e.updateValue(r,D),r++,a++,v=h.next();else if(!n.has(A))e.attach(r,e.create(r,D)),r++,a++,v=h.next();else{let k=i(r,b);s.set(k,e.detach(r)),a--}}}for(;!v.done;)RS(e,s,i,e.length,v.value),v=h.next()}for(;r<=a;)e.destroy(e.detach(a--));s?.forEach(h=>{e.destroy(h)})}function Zf(e,t,i,s){return t!==void 0&&t.has(s)?(e.attach(i,t.get(s)),t.delete(s),!0):!1}function RS(e,t,i,s,n){if(Zf(e,t,s,i(s,n)))e.updateValue(s,n);else{let r=e.create(s,n);e.attach(s,r)}}function TS(e,t,i,s){let n=new Set;for(let r=t;r<=i;r++)n.add(s(r,e.at(r)));return n}var Su=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let i=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(i)?(this.kvMap.set(t,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,i){if(this.kvMap.has(t)){let s=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let n=this._vMap;for(;n.has(s);)s=n.get(s);n.set(s,i)}else this.kvMap.set(t,i)}forEach(t){for(let[i,s]of this.kvMap)if(t(s,i),this._vMap!==void 0){let n=this._vMap;for(;n.has(s);)s=n.get(s),t(s,i)}}};function tv(e,t){Vr("NgControlFlow");let i=Ke(),s=Xo(),n=i[s]!==Ws?i[s]:-1,r=n!==-1?xu(i,Si+n):void 0,a=0;if(Hs(i,s,e)){let d=Ge(null);try{if(r!==void 0&&RD(r,a),e!==-1){let h=Si+e,v=xu(i,h),b=tm(i[Pe],h),D=Uo(v,b.tView.ssrId),R=Pl(i,b,t,{dehydratedView:D});_l(v,R,a,jo(b,D))}}finally{Ge(d)}}else if(r!==void 0){let d=MD(r,a);d!==void 0&&(d[Wt]=t)}}var Qf=class{lContainer;$implicit;$index;constructor(t,i,s){this.lContainer=t,this.$implicit=i,this.$index=s}get $count(){return this.lContainer.length-ui}};function iv(e,t){return t}var Jf=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,i,s){this.hasEmptyBlock=t,this.trackByFn=i,this.liveCollection=s}};function sv(e,t,i,s,n,r,a,d,h,v,b,D,R){Vr("NgControlFlow");let A=Ke(),k=Yt(),L=h!==void 0,H=Ke(),$=d?a.bind(H[Bi][Wt]):a,Z=new Jf(L,$);H[Si+e]=Z,yu(A,k,e+1,t,i,s,n,Wo(k.consts,r)),L&&yu(A,k,e+2,h,v,b,D,Wo(k.consts,R))}var em=class extends Xf{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,i,s){super(),this.lContainer=t,this.hostLView=i,this.templateTNode=s}get length(){return this.lContainer.length-ui}at(t){return this.getLView(t)[Wt].$implicit}attach(t,i){let s=i[Ho];this.needsIndexUpdate||=t!==this.length,_l(this.lContainer,i,t,jo(this.templateTNode,s))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,nB(this.lContainer,t)}create(t,i){let s=Uo(this.lContainer,this.templateTNode.tView.ssrId),n=Pl(this.hostLView,this.templateTNode,new Qf(this.lContainer,i,t),{dehydratedView:s});return this.operationsCounter?.recordCreate(),n}destroy(t){Nu(t[Pe],t),this.operationsCounter?.recordDestroy()}updateValue(t,i){this.getLView(t)[Wt].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Wt].$index=t}getLView(t){return rB(this.lContainer,t)}};function nv(e){let t=Ge(null),i=qn();try{let s=Ke(),n=s[Pe],r=s[i],a=i+1,d=xu(s,a);if(r.liveCollection===void 0){let v=tm(n,a);r.liveCollection=new em(d,s,v)}else r.liveCollection.reset();let h=r.liveCollection;if(sB(h,e,r.trackByFn),h.updateIndexes(),r.hasEmptyBlock){let v=Xo(),b=h.length===0;if(Hs(s,v,b)){let D=i+2,R=xu(s,D);if(b){let A=tm(n,D),k=Uo(R,A.tView.ssrId),L=Pl(s,A,void 0,{dehydratedView:k});_l(R,L,0,jo(A,k))}else RD(R,0)}}}finally{Ge(t)}}function xu(e,t){return e[t]}function nB(e,t){return yl(e,t)}function rB(e,t){return MD(e,t)}function tm(e,t){return ym(e,t)}function Ae(e,t,i,s){let n=Ke(),r=Yt(),a=Si+e,d=n[Nt],h=r.firstCreatePass?PD(a,r,n,t,dD,dx(),i,s):r.data[a],v=oB(r,n,h,d,t,e);n[a]=v;let b=bm(h);return Tl(h,!0),sD(d,v,h),!$m(h)&&Mm()&&qm(r,n,v,h),(uO()===0||b)&&Il(v,n),hO(),b&&(zm(r,n,h),Qx(r,h,n)),s!==null&&lD(n,h),Ae}function _e(){let e=Gi();px()?gx():(e=e.parent,Tl(e,!1));let t=e;gO(t)&&fO(),pO();let i=Yt();return i.firstCreatePass&&_D(i,t),t.classesWithoutHost!=null&&IO(t)&&Yf(i,t,Ke(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&AO(t)&&Yf(i,t,Ke(),t.stylesWithoutHost,!1),_e}function Qt(e,t,i,s){return Ae(e,t,i,s),_e(),Qt}var oB=(e,t,i,s,n,r)=>(Rm(!0),tD(s,n,MO()));function zr(){return Ke()}function rv(e,t,i){let s=Ke(),n=Xo();if(Hs(s,n,t)){let r=Yt(),a=Em();cD(r,a,s,e,t,s[Nt],i,!0)}return rv}var Du="en-US";var aB=Du;function lB(e){typeof e=="string"&&(aB=e.toLowerCase().replace(/_/g,"-"))}var cB=(e,t,i)=>{};function Tt(e,t,i,s){let n=Ke(),r=Yt(),a=Gi();return uB(r,n,n[Nt],a,e,t,s),Tt}function dB(e,t,i,s){let n=e.cleanup;if(n!=null)for(let r=0;r<n.length-1;r+=2){let a=n[r];if(a===i&&n[r+1]===s){let d=t[au],h=n[r+2];return d.length>h?d[h]:null}typeof a=="string"&&(r+=2)}return null}function uB(e,t,i,s,n,r,a){let d=bm(s),v=e.firstCreatePass?cx(e):null,b=t[Wt],D=lx(t),R=!0;if(s.type&3||a){let A=zs(s,t),k=a?a(A):A,L=D.length,H=a?Z=>a(Bs(Z[s.index])):s.index,$=null;if(!a&&d&&($=dB(e,t,n,s.index)),$!==null){let Z=$.__ngLastListenerFn__||$;Z.__ngNextListenerFn__=r,$.__ngLastListenerFn__=r,R=!1}else{r=FS(s,t,b,r),cB(k,n,r);let Z=i.listen(k,n,r);D.push(r,Z),v&&v.push(n,H,L,L+1)}}else r=FS(s,t,b,r);if(R){let A=s.outputs?.[n],k=s.hostDirectiveOutputs?.[n];if(k&&k.length)for(let L=0;L<k.length;L+=2){let H=k[L],$=k[L+1];IS(s,e,t,H,$,n,r,D,v)}if(A&&A.length)for(let L of A)IS(s,e,t,L,n,n,r,D,v)}}function IS(e,t,i,s,n,r,a,d,h){let v=i[s],D=t.data[s].outputs[n],A=v[D].subscribe(a),k=d.length;d.push(a,A),h&&h.push(r,e.index,k,-(k+1))}function AS(e,t,i,s){let n=Ge(null);try{return at(6,t,i),i(s)!==!1}catch(r){return uD(e,r),!1}finally{at(7,t,i),Ge(n)}}function FS(e,t,i,s){return function n(r){if(r===Function)return s;let a=qo(e)?Gs(e.index,t):t;Xm(a,5);let d=AS(t,i,s,r),h=n.__ngNextListenerFn__;for(;h;)d=AS(t,i,h,r)&&d,h=h.__ngNextListenerFn__;return d}}function fi(e=1){return EO(e)}function hB(e,t){let i=null,s=y2(e);for(let n=0;n<t.length;n++){let r=t[n];if(r==="*"){i=n;continue}if(s===null?eD(e,r,!0):x2(s,r))return n}return i}function fn(e){let t=Ke()[Bi][Ai];if(!t.projection){let i=e?e.length:1,s=t.projection=BL(i,null),n=s.slice(),r=t.child;for(;r!==null;){if(r.type!==128){let a=e?hB(r,e):0;a!==null&&(n[a]?n[a].projectionNext=r:s[a]=r,n[a]=r)}r=r.next}}}function Cs(e,t=0,i,s,n,r){let a=Ke(),d=Yt(),h=s?e+1:null;h!==null&&yu(a,d,h,s,n,r,null,i);let v=Gu(d,Si+e,16,null,i||null);v.projection===null&&(v.projection=t),gx();let D=!a[Ho]||ux();a[Bi][Ai].projection[v.projection]===null&&h!==null?pB(a,d,h):D&&!$m(v)&&nN(d,a,v)}function pB(e,t,i){let s=Si+i,n=t.data[s],r=e[s],a=Uo(r,n.tView.ssrId),d=Pl(e,n,void 0,{dehydratedView:a});_l(r,d,0,jo(n,a))}function Ll(e,t,i,s){a3(e,t,i,s)}function Di(e,t,i){o3(e,t,i)}function jt(e){let t=Ke(),i=Yt(),s=vx();Sm(s+1);let n=Jm(i,s);if(e.dirty&&oO(t)===((n.metadata.flags&2)===2)){if(n.matches===null)e.reset([]);else{let r=d3(t,s);e.reset(r,JO),e.notifyOnChanges()}return!0}return!1}function Ut(){return r3(Ke(),vx())}function ov(e){let t=vO();return rO(t,Si+e)}function Pi(e,t=""){let i=Ke(),s=Yt(),n=e+Si,r=s.firstCreatePass?Gu(s,n,1,t,null):s.data[n],a=gB(s,i,r,t,e);i[n]=a,Mm()&&qm(s,i,a,r),Tl(r,!1)}var gB=(e,t,i,s,n)=>(Rm(!0),R2(t[Nt],s));function Ol(e){return Vu("",e,""),Ol}function Vu(e,t,i){let s=Ke(),n=O3(s,e,t,i);return n!==Ws&&fB(s,qn(),n),Vu}function fB(e,t,i){let s=nx(t,e);T2(e[Nt],s,i)}function mB(e,t,i){let s=Yt();if(s.firstCreatePass){let n=Ns(e);im(i,s.data,s.blueprint,n,!0),im(t,s.data,s.blueprint,n,!1)}}function im(e,t,i,s,n){if(e=wi(e),Array.isArray(e))for(let r=0;r<e.length;r++)im(e[r],t,i,s,n);else{let r=Yt(),a=Ke(),d=Gi(),h=Vo(e)?e:wi(e.provide),v=YS(e),b=d.providerIndexes&1048575,D=d.directiveStart,R=d.providerIndexes>>20;if(Vo(e)||!e.multi){let A=new Or(v,n,At),k=uf(h,t,n?b:b+R,D);k===-1?(Ef(pu(d,a),r,h),df(r,e,t.length),t.push(h),d.directiveStart++,d.directiveEnd++,n&&(d.providerIndexes+=1048576),i.push(A),a.push(A)):(i[k]=A,a[k]=A)}else{let A=uf(h,t,b+R,D),k=uf(h,t,b,b+R),L=A>=0&&i[A],H=k>=0&&i[k];if(n&&!H||!n&&!L){Ef(pu(d,a),r,h);let $=bB(n?CB:vB,i.length,n,s,v);!n&&H&&(i[k].providerFactory=$),df(r,e,t.length,0),t.push(h),d.directiveStart++,d.directiveEnd++,n&&(d.providerIndexes+=1048576),i.push($),a.push($)}else{let $=eE(i[n?k:A],v,!n&&s);df(r,e,A>-1?A:k,$)}!n&&s&&H&&i[k].componentProviders++}}}function df(e,t,i,s){let n=Vo(t),r=KL(t);if(n||r){let h=(r?wi(t.useClass):t).prototype.ngOnDestroy;if(h){let v=e.destroyHooks||(e.destroyHooks=[]);if(!n&&t.multi){let b=v.indexOf(i);b===-1?v.push(i,[s,h]):v[b+1].push(s,h)}else v.push(i,h)}}}function eE(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function uf(e,t,i,s){for(let n=i;n<s;n++)if(t[n]===e)return n;return-1}function vB(e,t,i,s){return sm(this.multi,[])}function CB(e,t,i,s){let n=this.multi,r;if(this.providerFactory){let a=this.providerFactory.componentProviders,d=Cl(i,i[Pe],this.providerFactory.index,s);r=d.slice(0,a),sm(n,r);for(let h=a;h<d.length;h++)r.push(d[h])}else r=[],sm(n,r);return r}function sm(e,t){for(let i=0;i<e.length;i++){let s=e[i];t.push(s())}return t}function bB(e,t,i,s,n){let r=new Or(e,i,At);return r.multi=[],r.index=t,r.componentProviders=0,eE(r,n,s&&!i),r}function js(e,t=[]){return i=>{i.providersResolver=(s,n)=>mB(s,n?n(e):e,t)}}function tE(e,t,i,s,n){return wB(Ke(),CO(),e,t,i,s,n)}function yB(e,t){let i=e[t];return i===Ws?void 0:i}function wB(e,t,i,s,n,r,a){let d=t+i;return R3(e,d,n,r)?M3(e,d+2,a?s.call(a,n,r):s(n,r)):yB(e,d+2)}var Dl=class{full;major;minor;patch;constructor(t){this.full=t;let i=t.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}},av=new Dl("19.2.2");var SB=(()=>{class e{zone=O(ge);changeDetectionScheduler=O(Nr);applicationRef=O(fs);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function xB({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:i}){return e??=()=>new ge(be(U({},DB()),{scheduleInRootZone:i})),[{provide:ge,useFactory:e},{provide:pl,multi:!0,useFactory:()=>{let s=O(SB,{optional:!0});return()=>s.initialize()}},{provide:pl,multi:!0,useFactory:()=>{let s=O(EB);return()=>{s.initialize()}}},t===!0?{provide:Ox,useValue:!0}:[],{provide:Nx,useValue:i??Lx}]}function DB(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var EB=(()=>{class e{subscription=new it;initialized=!1;zone=O(ge);pendingTasks=O(Zo);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var MB=(()=>{class e{appRef=O(fs);taskService=O(Zo);ngZone=O(ge);zonelessEnabled=O(Im);tracing=O(Jo,{optional:!0});disableScheduling=O(Ox,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new it;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(Nx,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof If||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;let s=!1;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,s=!0;break}case 12:{this.appRef.dirtyFlags|=16,s=!0;break}case 13:{this.appRef.dirtyFlags|=2,s=!0;break}case 11:{s=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;let n=this.useMicrotaskScheduler?uS:Bx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>n(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>n(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RB(){return typeof $localize<"u"&&$localize.locale||Du}var lv=new ce("",{providedIn:"root",factory:()=>O(lv,We.Optional|We.SkipSelf)||RB()});var nm=new ce(""),TB=new ce("");function cl(e){return!e.moduleRef}function IB(e){let t=cl(e)?e.r3Injector:e.moduleRef.injector,i=t.get(ge);return i.run(()=>{cl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let s=t.get(dn,null),n;if(i.runOutsideAngular(()=>{n=i.onError.subscribe({next:r=>{s.handleError(r)}})}),cl(e)){let r=()=>t.destroy(),a=e.platformInjector.get(nm);a.add(r),t.onDestroy(()=>{n.unsubscribe(),a.delete(r)})}else{let r=()=>e.moduleRef.destroy(),a=e.platformInjector.get(nm);a.add(r),e.moduleRef.onDestroy(()=>{eu(e.allPlatformModules,e.moduleRef),n.unsubscribe(),a.delete(r)})}return FB(s,i,()=>{let r=t.get(UD);return r.runInitializers(),r.donePromise.then(()=>{let a=t.get(lv,Du);if(lB(a||Du),!t.get(TB,!0))return cl(e)?t.get(fs):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(cl(e)){let h=t.get(fs);return e.rootComponent!==void 0&&h.bootstrap(e.rootComponent),h}else return AB(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function AB(e,t){let i=e.injector.get(fs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(i);else throw new Te(-403,!1);t.push(e)}function FB(e,t,i){try{let s=i();return ev(s)?s.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}var tu=null;function PB(e=[],t){return Je.create({name:t,providers:[{provide:Tu,useValue:"platform"},{provide:nm,useValue:new Set([()=>tu=null])},...e]})}function _B(e=[]){if(tu)return tu;let t=PB(e);return tu=t,P3(),kB(t),t}function kB(e){let t=e.get(km,null);Au(e,()=>{t?.forEach(i=>i())})}var mn=(()=>{class e{static __NG_ELEMENT_ID__=LB}return e})();function LB(e){return OB(Gi(),Ke(),(e&16)===16)}function OB(e,t,i){if(qo(e)&&!i){let s=Gs(e.index,t);return new wl(s,s)}else if(e.type&175){let s=t[Bi];return new wl(s,t)}return null}var rm=class{constructor(){}supports(t){return HD(t)}create(t){return new om(t)}},NB=(e,t)=>t,om=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||NB}forEachItem(t){let i;for(i=this._itHead;i!==null;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,s=this._removalsHead,n=0,r=null;for(;i||s;){let a=!s||i&&i.currentIndex<PS(s,n,r)?i:s,d=PS(a,n,r),h=a.currentIndex;if(a===s)n--,s=s._nextRemoved;else if(i=i._next,a.previousIndex==null)n++;else{r||(r=[]);let v=d-n,b=h-n;if(v!=b){for(let R=0;R<v;R++){let A=R<r.length?r[R]:r[R]=0,k=A+R;b<=k&&k<v&&(r[R]=A+1)}let D=a.previousIndex;r[D]=b-v}}d!==h&&t(a,d,h)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)t(i)}diff(t){if(t==null&&(t=[]),!HD(t))throw new Te(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._itHead,s=!1,n,r,a;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)r=t[d],a=this._trackByFn(d,r),i===null||!Object.is(i.trackById,a)?(i=this._mismatch(i,r,a,d),s=!0):(s&&(i=this._verifyReinsertion(i,r,a,d)),Object.is(i.item,r)||this._addIdentityChange(i,r)),i=i._next}else n=0,D3(t,d=>{a=this._trackByFn(n,d),i===null||!Object.is(i.trackById,a)?(i=this._mismatch(i,d,a,n),s=!0):(s&&(i=this._verifyReinsertion(i,d,a,n)),Object.is(i.item,d)||this._addIdentityChange(i,d)),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,s,n){let r;return t===null?r=this._itTail:(r=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(s,null),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,r,n)):(t=this._linkedRecords===null?null:this._linkedRecords.get(s,n),t!==null?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,r,n)):t=this._addAfter(new am(i,s),r,n)),t}_verifyReinsertion(t,i,s,n){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(s,null);return r!==null?t=this._reinsertAfter(r,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;t!==null;){let i=t._next;this._addToRemovals(this._unlink(t)),t=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,s){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let n=t._prevRemoved,r=t._nextRemoved;return n===null?this._removalsHead=r:n._nextRemoved=r,r===null?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(t,i,s),this._addToMoves(t,s),t}_moveAfter(t,i,s){return this._unlink(t),this._insertAfter(t,i,s),this._addToMoves(t,s),t}_addAfter(t,i,s){return this._insertAfter(t,i,s),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,i,s){let n=i===null?this._itHead:i._next;return t._next=n,t._prev=i,n===null?this._itTail=t:n._prev=t,i===null?this._itHead=t:i._next=t,this._linkedRecords===null&&(this._linkedRecords=new Eu),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let i=t._prev,s=t._next;return i===null?this._itHead=s:i._next=s,s===null?this._itTail=i:s._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Eu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},am=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,i){this.item=t,this.trackById=i}},lm=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let s;for(s=this._head;s!==null;s=s._nextDup)if((i===null||i<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){let i=t._prevDup,s=t._nextDup;return i===null?this._head=s:i._nextDup=s,s===null?this._tail=i:s._prevDup=i,this._head===null}},Eu=class{map=new Map;put(t){let i=t.trackById,s=this.map.get(i);s||(s=new lm,this.map.set(i,s)),s.add(t)}get(t,i){let s=t,n=this.map.get(s);return n?n.get(t,i):null}remove(t){let i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function PS(e,t,i){let s=e.previousIndex;if(s===null)return s;let n=0;return i&&s<i.length&&(n=i[s]),s+t+n}function _S(){return new Hu([new rm])}var Hu=(()=>{class e{factories;static \u0275prov=ie({token:e,providedIn:"root",factory:_S});constructor(i){this.factories=i}static create(i,s){if(s!=null){let n=s.factories.slice();i=i.concat(n)}return new e(i)}static extend(i){return{provide:e,useFactory:s=>e.create(i,s||_S()),deps:[[e,new LL,new gm]]}}find(i){let s=this.factories.find(n=>n.supports(i));if(s!=null)return s;throw new Te(901,!1)}}return e})();function iE(e){at(8);try{let{rootComponent:t,appProviders:i,platformProviders:s}=e,n=_B(s),r=[xB({}),{provide:Nr,useExisting:MB},...i||[]],a=new bu({providers:r,parent:n,debugName:"",runEnvironmentInitializers:!1});return IB({r3Injector:a.injector,platformInjector:n,rootComponent:t})}catch(t){return Promise.reject(t)}finally{at(9)}}function j(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function ea(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function cv(e){let t=Ge(null);try{return e()}finally{Ge(t)}}var cm=class{[ks];constructor(t){this[ks]=t}destroy(){this[ks].destroy()}};function dv(e,t){!t?.injector&&Fu(dv);let i=t?.injector??O(Je),s=t?.manualCleanup!==!0?i.get(ku):null,n,r=i.get(Om,null,{optional:!0}),a=i.get(Nr);return r!==null&&!t?.forceRoot?(n=VB(r.view,a,e),s instanceof gu&&s._lView===r.view&&(s=null)):n=HB(e,i.get(WD),a),n.injector=i,s!==null&&(n.onDestroyFn=s.onDestroy(()=>n.destroy())),new cm(n)}var sE=be(U({},el),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:bl,run(){if(this.dirty=!1,this.hasRun&&!vd(this))return;this.hasRun=!0;let e=s=>(this.cleanupFns??=[]).push(s),t=md(this),i=du(!1);try{this.maybeCleanup(),this.fn(e)}finally{du(i),Og(this,t)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),BB=be(U({},sE),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){tl(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),GB=be(U({},sE),{consumerMarkedDirty(){this.view[Re]|=8192,Yo(this.view),this.notifier.notify(13)},destroy(){tl(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Pr]?.delete(this)}});function VB(e,t,i){let s=Object.create(GB);return s.view=e,s.zone=typeof Zone<"u"?Zone.current:null,s.notifier=t,s.fn=i,e[Pr]??=new Set,e[Pr].add(s),s.consumerMarkedDirty(s),s}function HB(e,t,i){let s=Object.create(BB);return s.fn=e,s.scheduler=t,s.notifier=i,s.zone=typeof Zone<"u"?Zone.current:null,s.scheduler.schedule(s),s.notifier.notify(12),s}function zu(e,t){let i=Go(e),s=t.elementInjector||Iu();return new Sl(i).create(s,t.projectableNodes,t.hostElement,t.environmentInjector)}var cE=null;function ta(){return cE}function dE(e){cE??=e}var Wu=class{};var Ze=new ce(""),uE=(()=>{class e{historyGo(i){throw new Error("")}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:()=>O(zB),providedIn:"platform"})}return e})();var zB=(()=>{class e extends uE{_location;_history;_doc=O(Ze);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ta().getBaseHref(this._doc)}onPopState(i){let s=ta().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",i,!1),()=>s.removeEventListener("popstate",i)}onHashChange(i){let s=ta().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",i,!1),()=>s.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,s,n){this._history.pushState(i,s,n)}replaceState(i,s,n){this._history.replaceState(i,s,n)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function hE(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function nE(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Wr(e){return e&&e[0]!=="?"?`?${e}`:e}var gv=(()=>{class e{historyGo(i){throw new Error("")}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:()=>O(jB),providedIn:"root"})}return e})(),WB=new ce(""),jB=(()=>{class e extends gv{_platformLocation;_baseHref;_removeListenerFns=[];constructor(i,s){super(),this._platformLocation=i,this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??O(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return hE(this._baseHref,i)}path(i=!1){let s=this._platformLocation.pathname+Wr(this._platformLocation.search),n=this._platformLocation.hash;return n&&i?`${s}${n}`:s}pushState(i,s,n,r){let a=this.prepareExternalUrl(n+Wr(r));this._platformLocation.pushState(i,s,a)}replaceState(i,s,n,r){let a=this.prepareExternalUrl(n+Wr(r));this._platformLocation.replaceState(i,s,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static \u0275fac=function(s){return new(s||e)(xe(uE),xe(WB,8))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fv=(()=>{class e{_subject=new pe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(i){this._locationStrategy=i;let s=this._locationStrategy.getBaseHref();this._basePath=KB(nE(rE(s))),this._locationStrategy.onPopState(n=>{this._subject.next({url:this.path(!0),pop:!0,state:n.state,type:n.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,s=""){return this.path()==this.normalize(i+Wr(s))}normalize(i){return e.stripTrailingSlash($B(this._basePath,rE(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,s="",n=null){this._locationStrategy.pushState(n,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Wr(s)),n)}replaceState(i,s="",n=null){this._locationStrategy.replaceState(n,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Wr(s)),n)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{let s=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(s,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",s){this._urlChangeListeners.forEach(n=>n(i,s))}subscribe(i,s,n){return this._subject.subscribe({next:i,error:s??void 0,complete:n??void 0})}static normalizeQueryParams=Wr;static joinWithSlash=hE;static stripTrailingSlash=nE;static \u0275fac=function(s){return new(s||e)(xe(gv))};static \u0275prov=ie({token:e,factory:()=>UB(),providedIn:"root"})}return e})();function UB(){return new fv(xe(gv))}function $B(e,t){if(!e||!t.startsWith(e))return t;let i=t.substring(e.length);return i===""||["/",";","?","#"].includes(i[0])?i:t}function rE(e){return e.replace(/\/index.html$/,"")}function KB(e){if(new RegExp("^(https?:)?//").test(e)){let[,i]=e.split(/\/\/[^\/]+/);return i}return e}function ju(e,t){t=encodeURIComponent(t);for(let i of e.split(";")){let s=i.indexOf("="),[n,r]=s==-1?[i,""]:[i.slice(0,s),i.slice(s+1)];if(n.trim()===t)return decodeURIComponent(r)}return null}var uv=/\s+/,oE=[],pE=(()=>{class e{_ngEl;_renderer;initialClasses=oE;rawClass;stateMap=new Map;constructor(i,s){this._ngEl=i,this._renderer=s}set klass(i){this.initialClasses=i!=null?i.trim().split(uv):oE}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(uv):i}ngDoCheck(){for(let s of this.initialClasses)this._updateState(s,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let s of i)this._updateState(s,!0);else if(i!=null)for(let s of Object.keys(i))this._updateState(s,!!i[s]);this._applyStateDiff()}_updateState(i,s){let n=this.stateMap.get(i);n!==void 0?(n.enabled!==s&&(n.changed=!0,n.enabled=s),n.touched=!0):this.stateMap.set(i,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let s=i[0],n=i[1];n.changed?(this._toggleClass(s,n.enabled),n.changed=!1):n.touched||(n.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),n.touched=!1}}_toggleClass(i,s){i=i.trim(),i.length>0&&i.split(uv).forEach(n=>{s?this._renderer.addClass(this._ngEl.nativeElement,n):this._renderer.removeClass(this._ngEl.nativeElement,n)})}static \u0275fac=function(s){return new(s||e)(At(He),At(vs))};static \u0275dir=nt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var hv=class{$implicit;ngForOf;index;count;constructor(t,i,s,n){this.$implicit=t,this.ngForOf=i,this.index=s,this.count=n}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gE=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(i,s,n){this._viewContainer=i,this._template=s,this._differs=n}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let s=this._viewContainer;i.forEachOperation((n,r,a)=>{if(n.previousIndex==null)s.createEmbeddedView(this._template,new hv(n.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)s.remove(r===null?void 0:r);else if(r!==null){let d=s.get(r);s.move(d,a),aE(d,n)}});for(let n=0,r=s.length;n<r;n++){let d=s.get(n).context;d.index=n,d.count=r,d.ngForOf=this._ngForOf}i.forEachIdentityChange(n=>{let r=s.get(n.currentIndex);aE(r,n)})}static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||e)(At(li),At(oi),At(Hu))};static \u0275dir=nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function aE(e,t){e.context.$implicit=t.item}var fE=(()=>{class e{_viewContainer;_context=new pv;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(i,s){this._viewContainer=i,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){lE(i,!1),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){lE(i,!1),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||e)(At(li),At(oi))};static \u0275dir=nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),pv=class{$implicit=null;ngIf=null};function lE(e,t){if(e&&!e.createEmbeddedView)throw new Te(2020,!1)}var mv=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({})}return e})(),vv="browser",qB="server";function mE(e){return e===vv}function Cv(e){return e===qB}var ia=class{};var Bl=class{},$u=class{},jr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let s=i.indexOf(":");if(s>0){let n=i.slice(0,s),r=i.slice(s+1).trim();this.addHeaderEntry(n,r)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,s)=>{this.addHeaderEntry(s,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,s])=>{this.setHeaderEntries(i,s)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(t.name,i);let n=(t.op==="a"?this.headers.get(i):void 0)||[];n.push(...s),this.headers.set(i,n);break;case"d":let r=t.value;if(!r)this.headers.delete(i),this.normalizedNames.delete(i);else{let a=this.headers.get(i);if(!a)return;a=a.filter(d=>r.indexOf(d)===-1),a.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,a)}break}}addHeaderEntry(t,i){let s=t.toLowerCase();this.maybeSetNormalizedName(t,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}setHeaderEntries(t,i){let s=(Array.isArray(i)?i:[i]).map(r=>r.toString()),n=t.toLowerCase();this.headers.set(n,s),this.maybeSetNormalizedName(t,n)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var yv=class{encodeKey(t){return CE(t)}encodeValue(t){return CE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function YB(e,t){let i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(n=>{let r=n.indexOf("="),[a,d]=r==-1?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,r)),t.decodeValue(n.slice(r+1))],h=i.get(a)||[];h.push(d),i.set(a,h)}),i}var XB=/%(\d[a-f0-9])/gi,ZB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function CE(e){return encodeURIComponent(e).replace(XB,(t,i)=>ZB[i]??t)}function Uu(e){return`${e}`}var Yn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new yv,t.fromString){if(t.fromObject)throw new Te(2805,!1);this.map=YB(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let s=t.fromObject[i],n=Array.isArray(s)?s.map(Uu):[Uu(s)];this.map.set(i,n)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(s=>{let n=t[s];Array.isArray(n)?n.forEach(r=>{i.push({param:s,value:r,op:"a"})}):i.push({param:s,value:n,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new e({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Uu(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let s=this.map.get(t.param)||[],n=s.indexOf(Uu(t.value));n!==-1&&s.splice(n,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var wv=class{map=new Map;set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function QB(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function yE(e){return typeof Blob<"u"&&e instanceof Blob}function wE(e){return typeof FormData<"u"&&e instanceof FormData}function JB(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var SE="Content-Type",xE="Accept",RE="X-Request-URL",TE="text/plain",IE="application/json",eG=`${IE}, ${TE}, */*`,Nl=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,i,s,n){this.url=i,this.method=t.toUpperCase();let r;if(QB(this.method)||n?(this.body=s!==void 0?s:null,r=n):r=s,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new jr,this.context??=new wv,!this.params)this.params=new Yn,this.urlWithParams=i;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=i;else{let d=i.indexOf("?"),h=d===-1?"?":d<i.length-1?"&":"";this.urlWithParams=i+h+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bE(this.body)||yE(this.body)||wE(this.body)||JB(this.body)?this.body:this.body instanceof Yn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wE(this.body)?null:yE(this.body)?this.body.type||null:bE(this.body)?null:typeof this.body=="string"?TE:this.body instanceof Yn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?IE:null}clone(t={}){let i=t.method||this.method,s=t.url||this.url,n=t.responseType||this.responseType,r=t.transferCache??this.transferCache,a=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,h=t.reportProgress??this.reportProgress,v=t.headers||this.headers,b=t.params||this.params,D=t.context??this.context;return t.setHeaders!==void 0&&(v=Object.keys(t.setHeaders).reduce((R,A)=>R.set(A,t.setHeaders[A]),v)),t.setParams&&(b=Object.keys(t.setParams).reduce((R,A)=>R.set(A,t.setParams[A]),b)),new e(i,s,a,{params:b,headers:v,context:D,reportProgress:h,responseType:n,withCredentials:d,transferCache:r})}},sa=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(sa||{}),Gl=class{headers;status;statusText;url;ok;type;constructor(t,i=200,s="OK"){this.headers=t.headers||new jr,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Sv=class e extends Gl{constructor(t={}){super(t)}type=sa.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ku=class e extends Gl{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=sa.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},qu=class extends Gl{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},tG=200,iG=204;function bv(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Ur=(()=>{class e{handler;constructor(i){this.handler=i}request(i,s,n={}){let r;if(i instanceof Nl)r=i;else{let h;n.headers instanceof jr?h=n.headers:h=new jr(n.headers);let v;n.params&&(n.params instanceof Yn?v=n.params:v=new Yn({fromObject:n.params})),r=new Nl(i,s,n.body!==void 0?n.body:null,{headers:h,context:n.context,params:v,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials,transferCache:n.transferCache})}let a=Ki(r).pipe(qg(h=>this.handler.handle(h)));if(i instanceof Nl||n.observe==="events")return a;let d=a.pipe(Rt(h=>h instanceof Ku));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return d.pipe(zt(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Te(2806,!1);return h.body}));case"blob":return d.pipe(zt(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Te(2807,!1);return h.body}));case"text":return d.pipe(zt(h=>{if(h.body!==null&&typeof h.body!="string")throw new Te(2808,!1);return h.body}));case"json":default:return d.pipe(zt(h=>h.body))}case"response":return d;default:throw new Te(2809,!1)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:new Yn().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,n={}){return this.request("PATCH",i,bv(n,s))}post(i,s,n={}){return this.request("POST",i,bv(n,s))}put(i,s,n={}){return this.request("PUT",i,bv(n,s))}static \u0275fac=function(s){return new(s||e)(xe(Bl))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();var sG=new ce("");function nG(e,t){return t(e)}function rG(e,t,i){return(s,n)=>Au(i,()=>t(s,r=>e(r,n)))}var AE=new ce(""),oG=new ce(""),aG=new ce("",{providedIn:"root",factory:()=>!0});var DE=(()=>{class e extends Bl{backend;injector;chain=null;pendingTasks=O(Zo);contributeToStability=O(aG);constructor(i,s){super(),this.backend=i,this.injector=s}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(AE),...this.injector.get(oG,[])]));this.chain=s.reduceRight((n,r)=>rG(n,r,this.injector),nG)}if(this.contributeToStability){let s=this.pendingTasks.add();return this.chain(i,n=>this.backend.handle(n)).pipe(Yg(()=>this.pendingTasks.remove(s)))}else return this.chain(i,s=>this.backend.handle(s))}static \u0275fac=function(s){return new(s||e)(xe($u),xe(hi))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();var lG=/^\)\]\}',?\n/,cG=RegExp(`^${RE}:`,"m");function dG(e){return"responseURL"in e&&e.responseURL?e.responseURL:cG.test(e.getAllResponseHeaders())?e.getResponseHeader(RE):null}var EE=(()=>{class e{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new Te(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?$i(s.\u0275loadImpl()):Ki(null)).pipe(Fo(()=>new Ve(r=>{let a=s.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((L,H)=>a.setRequestHeader(L,H.join(","))),i.headers.has(xE)||a.setRequestHeader(xE,eG),!i.headers.has(SE)){let L=i.detectContentTypeHeader();L!==null&&a.setRequestHeader(SE,L)}if(i.responseType){let L=i.responseType.toLowerCase();a.responseType=L!=="json"?L:"text"}let d=i.serializeBody(),h=null,v=()=>{if(h!==null)return h;let L=a.statusText||"OK",H=new jr(a.getAllResponseHeaders()),$=dG(a)||i.url;return h=new Sv({headers:H,status:a.status,statusText:L,url:$}),h},b=()=>{let{headers:L,status:H,statusText:$,url:Z}=v(),Q=null;H!==iG&&(Q=typeof a.response>"u"?a.responseText:a.response),H===0&&(H=Q?tG:0);let se=H>=200&&H<300;if(i.responseType==="json"&&typeof Q=="string"){let W=Q;Q=Q.replace(lG,"");try{Q=Q!==""?JSON.parse(Q):null}catch(le){Q=W,se&&(se=!1,Q={error:le,text:Q})}}se?(r.next(new Ku({body:Q,headers:L,status:H,statusText:$,url:Z||void 0})),r.complete()):r.error(new qu({error:Q,headers:L,status:H,statusText:$,url:Z||void 0}))},D=L=>{let{url:H}=v(),$=new qu({error:L,status:a.status||0,statusText:a.statusText||"Unknown Error",url:H||void 0});r.error($)},R=!1,A=L=>{R||(r.next(v()),R=!0);let H={type:sa.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(H.total=L.total),i.responseType==="text"&&a.responseText&&(H.partialText=a.responseText),r.next(H)},k=L=>{let H={type:sa.UploadProgress,loaded:L.loaded};L.lengthComputable&&(H.total=L.total),r.next(H)};return a.addEventListener("load",b),a.addEventListener("error",D),a.addEventListener("timeout",D),a.addEventListener("abort",D),i.reportProgress&&(a.addEventListener("progress",A),d!==null&&a.upload&&a.upload.addEventListener("progress",k)),a.send(d),r.next({type:sa.Sent}),()=>{a.removeEventListener("error",D),a.removeEventListener("abort",D),a.removeEventListener("load",b),a.removeEventListener("timeout",D),i.reportProgress&&(a.removeEventListener("progress",A),d!==null&&a.upload&&a.upload.removeEventListener("progress",k)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(s){return new(s||e)(xe(ia))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),FE=new ce(""),uG="XSRF-TOKEN",hG=new ce("",{providedIn:"root",factory:()=>uG}),pG="X-XSRF-TOKEN",gG=new ce("",{providedIn:"root",factory:()=>pG}),Yu=class{},fG=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,s,n){this.doc=i,this.platform=s,this.cookieName=n}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=ju(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(s){return new(s||e)(xe(Ze),xe(gn),xe(hG))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();function mG(e,t){let i=e.url.toLowerCase();if(!O(FE)||e.method==="GET"||e.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return t(e);let s=O(Yu).getToken(),n=O(gG);return s!=null&&!e.headers.has(n)&&(e=e.clone({headers:e.headers.set(n,s)})),t(e)}function PE(...e){let t=[Ur,EE,DE,{provide:Bl,useExisting:DE},{provide:$u,useFactory:()=>O(sG,{optional:!0})??O(EE)},{provide:AE,useValue:mG,multi:!0},{provide:FE,useValue:!0},{provide:Yu,useClass:fG}];for(let i of e)t.push(...i.\u0275providers);return vm(t)}var Ev=class extends Wu{supportsDOMEvents=!0},Mv=class e extends Ev{static makeCurrent(){dE(new e)}onAndCancel(t,i,s,n){return t.addEventListener(i,s,n),()=>{t.removeEventListener(i,s,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.remove()}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=vG();return i==null?null:CG(i)}resetBaseElement(){Vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ju(document.cookie,t)}},Vl=null;function vG(){return Vl=Vl||document.querySelector("base"),Vl?Vl.getAttribute("href"):null}function CG(e){return new URL(e,document.baseURI).pathname}var bG=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),Rv=new ce(""),BE=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,s){this._zone=s,i.forEach(n=>{n.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,s,n,r){return this._findPluginFor(s).addEventListener(i,s,n,r)}getZone(){return this._zone}_findPluginFor(i){let s=this._eventNameToPlugin.get(i);if(s)return s;if(s=this._plugins.find(r=>r.supports(i)),!s)throw new Te(5101,!1);return this._eventNameToPlugin.set(i,s),s}static \u0275fac=function(s){return new(s||e)(xe(Rv),xe(ge))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),Zu=class{_doc;constructor(t){this._doc=t}manager},Xu="ng-app-id";function _E(e){for(let t of e)t.remove()}function kE(e,t){let i=t.createElement("style");return i.textContent=e,i}function yG(e,t,i,s){let n=e.head?.querySelectorAll(`style[${Xu}="${t}"],link[${Xu}="${t}"]`);if(n)for(let r of n)r.removeAttribute(Xu),r instanceof HTMLLinkElement?s.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&i.set(r.textContent,{usage:0,elements:[r]})}function Tv(e,t){let i=t.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",e),i}var GE=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,s,n,r={}){this.doc=i,this.appId=s,this.nonce=n,this.isServer=Cv(r),yG(i,s,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,s){for(let n of i)this.addUsage(n,this.inline,kE);s?.forEach(n=>this.addUsage(n,this.external,Tv))}removeStyles(i,s){for(let n of i)this.removeUsage(n,this.inline);s?.forEach(n=>this.removeUsage(n,this.external))}addUsage(i,s,n){let r=s.get(i);r?r.usage++:s.set(i,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,n(i,this.doc)))})}removeUsage(i,s){let n=s.get(i);n&&(n.usage--,n.usage<=0&&(_E(n.elements),s.delete(i)))}ngOnDestroy(){for(let[,{elements:i}]of[...this.inline,...this.external])_E(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(let[s,{elements:n}]of this.inline)n.push(this.addElement(i,kE(s,this.doc)));for(let[s,{elements:n}]of this.external)n.push(this.addElement(i,Tv(s,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,s){return this.nonce&&s.setAttribute("nonce",this.nonce),this.isServer&&s.setAttribute(Xu,this.appId),i.appendChild(s)}static \u0275fac=function(s){return new(s||e)(xe(Ze),xe(Al),xe(Fl,8),xe(gn))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),Dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Av=/%COMP%/g;var VE="%COMP%",wG=`_nghost-${VE}`,SG=`_ngcontent-${VE}`,xG=!0,DG=new ce("",{providedIn:"root",factory:()=>xG});function EG(e){return SG.replace(Av,e)}function MG(e){return wG.replace(Av,e)}function HE(e,t){return t.map(i=>i.replace(Av,e))}var LE=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,s,n,r,a,d,h,v=null,b=null){this.eventManager=i,this.sharedStylesHost=s,this.appId=n,this.removeStylesOnCompDestroy=r,this.doc=a,this.platformId=d,this.ngZone=h,this.nonce=v,this.tracingService=b,this.platformIsServer=Cv(d),this.defaultRenderer=new Hl(i,a,h,this.platformIsServer,this.tracingService)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Vs.ShadowDom&&(s=be(U({},s),{encapsulation:Vs.Emulated}));let n=this.getOrCreateRenderer(i,s);return n instanceof Qu?n.applyToHost(i):n instanceof zl&&n.applyStyles(),n}getOrCreateRenderer(i,s){let n=this.rendererByCompId,r=n.get(s.id);if(!r){let a=this.doc,d=this.ngZone,h=this.eventManager,v=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,D=this.platformIsServer,R=this.tracingService;switch(s.encapsulation){case Vs.Emulated:r=new Qu(h,v,s,this.appId,b,a,d,D,R);break;case Vs.ShadowDom:return new Iv(h,v,i,s,a,d,this.nonce,D,R);default:r=new zl(h,v,s,b,a,d,D,R);break}n.set(s.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(s){return new(s||e)(xe(BE),xe(GE),xe(Al),xe(DG),xe(Ze),xe(gn),xe(ge),xe(Fl),xe(Jo,8))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),Hl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,i,s,n,r){this.eventManager=t,this.doc=i,this.ngZone=s,this.platformIsServer=n,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,i){return i?this.doc.createElementNS(Dv[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(OE(t)?t.content:t).appendChild(i)}insertBefore(t,i,s){t&&(OE(t)?t.content:t).insertBefore(i,s)}removeChild(t,i){i.remove()}selectRootElement(t,i){let s=typeof t=="string"?this.doc.querySelector(t):t;if(!s)throw new Te(-5104,!1);return i||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,s,n){if(n){i=n+":"+i;let r=Dv[n];r?t.setAttributeNS(r,i,s):t.setAttribute(i,s)}else t.setAttribute(i,s)}removeAttribute(t,i,s){if(s){let n=Dv[s];n?t.removeAttributeNS(n,i):t.removeAttribute(`${s}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,s,n){n&(un.DashCase|un.Important)?t.style.setProperty(i,s,n&un.Important?"important":""):t.style[i]=s}removeStyle(t,i,s){s&un.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,s){t!=null&&(t[i]=s)}setValue(t,i){t.nodeValue=i}listen(t,i,s,n){if(typeof t=="string"&&(t=ta().getGlobalEventTarget(this.doc,t),!t))throw new Te(5102,!1);let r=this.decoratePreventDefault(s);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,i,r)),this.eventManager.addEventListener(t,i,r,n)}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function OE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Iv=class extends Hl{sharedStylesHost;hostEl;shadowRoot;constructor(t,i,s,n,r,a,d,h,v){super(t,r,a,h,v),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let b=n.styles;b=HE(n.id,b);for(let R of b){let A=document.createElement("style");d&&A.setAttribute("nonce",d),A.textContent=R,this.shadowRoot.appendChild(A)}let D=n.getExternalStyles?.();if(D)for(let R of D){let A=Tv(R,r);d&&A.setAttribute("nonce",d),this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,s){return super.insertBefore(this.nodeOrShadowRoot(t),i,s)}removeChild(t,i){return super.removeChild(null,i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zl=class extends Hl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,i,s,n,r,a,d,h,v){super(t,r,a,d,h),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=n;let b=s.styles;this.styles=v?HE(v,b):b,this.styleUrls=s.getExternalStyles?.(v)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qu=class extends zl{contentAttr;hostAttr;constructor(t,i,s,n,r,a,d,h,v){let b=n+"-"+s.id;super(t,i,s,r,a,d,h,v,b),this.contentAttr=EG(b),this.hostAttr=MG(b)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let s=super.createElement(t,i);return super.setAttribute(s,this.contentAttr,""),s}},RG=(()=>{class e extends Zu{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,n,r){return i.addEventListener(s,n,r),()=>this.removeEventListener(i,s,n,r)}removeEventListener(i,s,n,r){return i.removeEventListener(s,n,r)}static \u0275fac=function(s){return new(s||e)(xe(Ze))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),NE=["alt","control","meta","shift"],TG={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},AG=(()=>{class e extends Zu{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,s,n,r){let a=e.parseEventName(s),d=e.eventCallback(a.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ta().onAndCancel(i,a.domEventName,d,r))}static parseEventName(i){let s=i.toLowerCase().split("."),n=s.shift();if(s.length===0||!(n==="keydown"||n==="keyup"))return null;let r=e._normalizeKey(s.pop()),a="",d=s.indexOf("code");if(d>-1&&(s.splice(d,1),a="code."),NE.forEach(v=>{let b=s.indexOf(v);b>-1&&(s.splice(b,1),a+=v+".")}),a+=r,s.length!=0||r.length===0)return null;let h={};return h.domEventName=n,h.fullKey=a,h}static matchEventFullKeyCode(i,s){let n=TG[i.key]||i.key,r="";return s.indexOf("code.")>-1&&(n=i.code,r="code."),n==null||!n?!1:(n=n.toLowerCase(),n===" "?n="space":n==="."&&(n="dot"),NE.forEach(a=>{if(a!==n){let d=IG[a];d(i)&&(r+=a+".")}}),r+=n,r===s)}static eventCallback(i,s,n){return r=>{e.matchEventFullKeyCode(r,i)&&n.runGuarded(()=>s(r))}}static _normalizeKey(i){return i==="esc"?"escape":i}static \u0275fac=function(s){return new(s||e)(xe(Ze))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();function zE(e,t){return iE(U({rootComponent:e},FG(t)))}function FG(e){return{appProviders:[...OG,...e?.providers??[]],platformProviders:LG}}function PG(){Mv.makeCurrent()}function _G(){return new dn}function kG(){return $x(document),document}var LG=[{provide:gn,useValue:vv},{provide:km,useValue:PG,multi:!0},{provide:Ze,useFactory:kG,deps:[]}];var OG=[{provide:Tu,useValue:"root"},{provide:dn,useFactory:_G,deps:[]},{provide:Rv,useClass:RG,multi:!0,deps:[Ze]},{provide:Rv,useClass:AG,multi:!0,deps:[Ze]},LE,GE,BE,{provide:ai,useExisting:LE},{provide:ia,useClass:bG,deps:[]},[]];function Wl(e){return e.buttons===0||e.detail===0}function jl(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Fv;function WE(){if(Fv==null){let e=typeof document<"u"?document.head:null;Fv=!!(e&&(e.createShadowRoot||e.attachShadow))}return Fv}function Pv(e){if(WE()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ul(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function _i(e){return e.composedPath?e.composedPath()[0]:e.target}function Ei(e,t,i,s,n){let r=parseInt(av.major),a=parseInt(av.minor);return r>19||r===19&&a>0||r===0&&a===0?e.listen(t,i,s,n):(t.addEventListener(i,s,n),()=>{t.removeEventListener(i,s,n)})}var _v;try{_v=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_v=!1}var vt=(()=>{class e{_platformId=O(gn);isBrowser=this._platformId?mE(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||_v)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $l;function jE(){if($l==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$l=!0}))}finally{$l=$l||!1}return $l}function na(e){return jE()?e:!!e.capture}function $r(e,t=0){return UE(e)?Number(e):arguments.length===2?t:0}function UE(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Ji(e){return e instanceof He?e.nativeElement:e}var $E=new ce("cdk-input-modality-detector-options"),KE={ignoreKeys:[18,17,224,91,16]},qE=650,kv={passive:!0,capture:!0},YE=(()=>{class e{_platform=O(vt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Wn(null);_options;_lastTouchMs=0;_onKeydown=i=>{this._options?.ignoreKeys?.some(s=>s===i.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=_i(i))};_onMousedown=i=>{Date.now()-this._lastTouchMs<qE||(this._modality.next(Wl(i)?"keyboard":"mouse"),this._mostRecentTarget=_i(i))};_onTouchstart=i=>{if(jl(i)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=_i(i)};constructor(){let i=O(ge),s=O(Ze),n=O($E,{optional:!0});if(this._options=U(U({},KE),n),this.modalityDetected=this._modality.pipe(Rr(1)),this.modalityChanged=this.modalityDetected.pipe(Ud()),this._platform.isBrowser){let r=O(ai).createRenderer(null,null);this._listenerCleanups=i.runOutsideAngular(()=>[Ei(r,s,"keydown",this._onKeydown,kv),Ei(r,s,"mousedown",this._onMousedown,kv),Ei(r,s,"touchstart",this._onTouchstart,kv)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(i=>i())}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kl=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Kl||{}),XE=new ce("cdk-focus-monitor-default-options"),Ju=na({passive:!0,capture:!0}),Kr=(()=>{class e{_ngZone=O(ge);_platform=O(vt);_inputModalityDetector=O(YE);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=O(Ze,{optional:!0});_stopInputModalityDetector=new pe;constructor(){let i=O(XE,{optional:!0});this._detectionMode=i?.detectionMode||Kl.IMMEDIATE}_rootNodeFocusAndBlurListener=i=>{let s=_i(i);for(let n=s;n;n=n.parentElement)i.type==="focus"?this._onFocus(i,n):this._onBlur(i,n)};monitor(i,s=!1){let n=Ji(i);if(!this._platform.isBrowser||n.nodeType!==1)return Ki();let r=Pv(n)||this._getDocument(),a=this._elementInfo.get(n);if(a)return s&&(a.checkChildren=!0),a.subject;let d={checkChildren:s,subject:new pe,rootNode:r};return this._elementInfo.set(n,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(i){let s=Ji(i),n=this._elementInfo.get(s);n&&(n.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(n))}focusVia(i,s,n){let r=Ji(i),a=this._getDocument().activeElement;r===a?this._getClosestElementsInfo(r).forEach(([d,h])=>this._originChanged(d,s,h)):(this._setOrigin(s),typeof r.focus=="function"&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((i,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Kl.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,s){i.classList.toggle("cdk-focused",!!s),i.classList.toggle("cdk-touch-focused",s==="touch"),i.classList.toggle("cdk-keyboard-focused",s==="keyboard"),i.classList.toggle("cdk-mouse-focused",s==="mouse"),i.classList.toggle("cdk-program-focused",s==="program")}_setOrigin(i,s=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&s,this._detectionMode===Kl.IMMEDIATE){clearTimeout(this._originTimeoutId);let n=this._originFromTouchInteraction?qE:1;this._originTimeoutId=setTimeout(()=>this._origin=null,n)}})}_onFocus(i,s){let n=this._elementInfo.get(s),r=_i(i);!n||!n.checkChildren&&s!==r||this._originChanged(s,this._getFocusOrigin(r),n)}_onBlur(i,s){let n=this._elementInfo.get(s);!n||n.checkChildren&&i.relatedTarget instanceof Node&&s.contains(i.relatedTarget)||(this._setClasses(s),this._emitOrigin(n,null))}_emitOrigin(i,s){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(s))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let s=i.rootNode,n=this._rootNodeFocusListenerCount.get(s)||0;n||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ju),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ju)}),this._rootNodeFocusListenerCount.set(s,n+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yi(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(i){let s=i.rootNode;if(this._rootNodeFocusListenerCount.has(s)){let n=this._rootNodeFocusListenerCount.get(s);n>1?this._rootNodeFocusListenerCount.set(s,n-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ju),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ju),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,s,n){this._setClasses(i,s),this._emitOrigin(n,s),this._lastFocusOrigin=s}_getClosestElementsInfo(i){let s=[];return this._elementInfo.forEach((n,r)=>{(r===i||n.checkChildren&&r.contains(i))&&s.push([r,n])}),s}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:s,mostRecentModality:n}=this._inputModalityDetector;if(n!=="mouse"||!s||s===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let r=i.labels;if(r){for(let a=0;a<r.length;a++)if(r[a].contains(s))return!0}return!1}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lv=(()=>{class e{_elementRef=O(He);_focusMonitor=O(Kr);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new X;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>{this._focusOrigin=s,this.cdkFocusChange.emit(s)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return e})();var eh=new WeakMap,es=(()=>{class e{_appRef;_injector=O(Je);_environmentInjector=O(hi);load(i){let s=this._appRef=this._appRef||this._injector.get(fs),n=eh.get(s);n||(n={loaders:new Set,refs:[]},eh.set(s,n),s.onDestroy(()=>{eh.get(s)?.refs.forEach(r=>r.destroy()),eh.delete(s)})),n.loaders.has(i)||(n.loaders.add(i),n.refs.push(zu(i,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ZE=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(s,n){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return e})();function ra(e){return Array.isArray(e)?e:[e]}var QE=new Set,qr,NG=(()=>{class e{_platform=O(vt);_nonce=O(Fl,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):GG}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&BG(i,this._nonce),this._matchMedia(i)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function BG(e,t){if(!QE.has(e))try{qr||(qr=document.createElement("style"),t&&qr.setAttribute("nonce",t),qr.setAttribute("type","text/css"),document.head.appendChild(qr)),qr.sheet&&(qr.sheet.insertRule(`@media ${e} {body{ }}`,0),QE.add(e))}catch(i){console.error(i)}}function GG(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var eM=(()=>{class e{_mediaMatcher=O(NG);_zone=O(ge);_queries=new Map;_destroySubject=new pe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return JE(ra(i)).some(n=>this._registerQuery(n).mql.matches)}observe(i){let n=JE(ra(i)).map(a=>this._registerQuery(a).observable),r=Kg(n);return r=Ao(r.pipe(Mr(1)),r.pipe(Rr(1),ln(0))),r.pipe(zt(a=>{let d={matches:!1,breakpoints:{}};return a.forEach(({matches:h,query:v})=>{d.matches=d.matches||h,d.breakpoints[v]=h}),d}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let s=this._mediaMatcher.matchMedia(i),r={observable:new Ve(a=>{let d=h=>this._zone.run(()=>a.next(h));return s.addListener(d),()=>{s.removeListener(d)}}).pipe(qi(s),zt(({matches:a})=>({query:i,matches:a})),yi(this._destroySubject)),mql:s};return this._queries.set(i,r),r}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JE(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}function VG(e){if(e.type==="characterData"&&e.target instanceof Comment)return!0;if(e.type==="childList"){for(let t=0;t<e.addedNodes.length;t++)if(!(e.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<e.removedNodes.length;t++)if(!(e.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var Ov=(()=>{class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nv=(()=>{class e{_mutationObserverFactory=O(Ov);_observedElements=new Map;_ngZone=O(ge);constructor(){}ngOnDestroy(){this._observedElements.forEach((i,s)=>this._cleanupObserver(s))}observe(i){let s=Ji(i);return new Ve(n=>{let a=this._observeElement(s).pipe(zt(d=>d.filter(h=>!VG(h))),Rt(d=>!!d.length)).subscribe(d=>{this._ngZone.run(()=>{n.next(d)})});return()=>{a.unsubscribe(),this._unobserveElement(s)}})}_observeElement(i){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(i))this._observedElements.get(i).count++;else{let s=new pe,n=this._mutationObserverFactory.create(r=>s.next(r));n&&n.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:n,stream:s,count:1})}return this._observedElements.get(i).stream})}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){let{observer:s,stream:n}=this._observedElements.get(i);s&&s.disconnect(),n.complete(),this._observedElements.delete(i)}}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bv=(()=>{class e{_contentObserver=O(Nv);_elementRef=O(He);event=new X;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(i){this._debounce=$r(i),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let i=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?i.pipe(ln(this.debounce)):i).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",j],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return e})(),Gv=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({providers:[Ov]})}return e})();var ih=(()=>{class e{_platform=O(vt);constructor(){}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return zG(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let s=HG(XG(i));if(s&&(tM(s)===-1||!this.isVisible(s)))return!1;let n=i.nodeName.toLowerCase(),r=tM(i);return i.hasAttribute("contenteditable")?r!==-1:n==="iframe"||n==="object"||this._platform.WEBKIT&&this._platform.IOS&&!qG(i)?!1:n==="audio"?i.hasAttribute("controls")?r!==-1:!1:n==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,s){return YG(i)&&!this.isDisabled(i)&&(s?.ignoreVisibility||this.isVisible(i))}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function HG(e){try{return e.frameElement}catch{return null}}function zG(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function WG(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function jG(e){return $G(e)&&e.type=="hidden"}function UG(e){return KG(e)&&e.hasAttribute("href")}function $G(e){return e.nodeName.toLowerCase()=="input"}function KG(e){return e.nodeName.toLowerCase()=="a"}function nM(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function tM(e){if(!nM(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function qG(e){let t=e.nodeName.toLowerCase(),i=t==="input"&&e.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function YG(e){return jG(e)?!1:WG(e)||UG(e)||e.hasAttribute("contenteditable")||nM(e)}function XG(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var th=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,i,s,n,r=!1,a){this._element=t,this._checker=i,this._ngZone=s,this._document=n,this._injector=a,r||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let s=this._getFirstTabbableElement(i);return s?.focus(t),!!s}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let s=0;s<i.length;s++){let n=i[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[s]):null;if(n)return n}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let s=i.length-1;s>=0;s--){let n=i[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[s]):null;if(n)return n}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Qi(t,{injector:this._injector}):setTimeout(t)}},Hv=(()=>{class e{_checker=O(ih);_ngZone=O(ge);_document=O(Ze);_injector=O(Je);constructor(){O(es).load(ZE)}create(i,s=!1){return new th(i,this._checker,this._ngZone,this._document,s,this._injector)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xn=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Xn||{}),iM="cdk-high-contrast-black-on-white",sM="cdk-high-contrast-white-on-black",Vv="cdk-high-contrast-active",sh=(()=>{class e{_platform=O(vt);_hasCheckedHighContrastMode;_document=O(Ze);_breakpointSubscription;constructor(){this._breakpointSubscription=O(eM).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Xn.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let s=this._document.defaultView||window,n=s&&s.getComputedStyle?s.getComputedStyle(i):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(i.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Xn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Xn.BLACK_ON_WHITE}return Xn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Vv,iM,sM),this._hasCheckedHighContrastMode=!0;let s=this.getHighContrastMode();s===Xn.BLACK_ON_WHITE?i.add(Vv,iM):s===Xn.WHITE_ON_BLACK&&i.add(Vv,sM)}}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zv=(()=>{class e{constructor(){O(sh)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({imports:[Gv]})}return e})();var Wv={},vn=(()=>{class e{_appId=O(Al);getId(i){return this._appId!=="ng"&&(i+=this._appId),Wv.hasOwnProperty(i)||(Wv[i]=0),`${i}${Wv[i]++}`}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ZG=200,nh=class{_letterKeyStream=new pe;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new pe;selectedItem=this._selectedItem;constructor(t,i){let s=typeof i?.debounceInterval=="number"?i.debounceInterval:ZG;i?.skipPredicate&&(this._skipPredicateFn=i.skipPredicate),this.setItems(t),this._setupKeyHandler(s)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let i=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Kd(i=>this._pressedLetters.push(i)),ln(t),Rt(()=>this._pressedLetters.length>0),zt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(i=>{for(let s=1;s<this._items.length+1;s++){let n=(this._selectedItemIndex+s)%this._items.length,r=this._items[n];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(i)===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}};function Cn(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var rh=class{_items;_activeItemIndex=-1;_activeItem=_m(null);_wrap=!1;_typeaheadSubscription=it.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,i){this._items=t,t instanceof Kn?this._itemChangesSubscription=t.changes.subscribe(s=>this._itemsChanged(s.toArray())):Pm(t)&&(this._effectRef=dv(()=>this._itemsChanged(t()),{injector:i}))}tabOut=new pe;change=new pe;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let i=this._getItemsArray();return this._typeahead=new nh(i,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:s=>this._skipPredicateFn(s)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(s=>{this.setActiveItem(s)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,i=10){return this._pageUpAndDown={enabled:t,delta:i},this}setActiveItem(t){let i=this._activeItem();this.updateActiveItem(t),this._activeItem()!==i&&this.change.next(this._activeItemIndex)}onKeydown(t){let i=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&n){this.setNextItemActive();break}else return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&n){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&n){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&n){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&n){let r=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(r<a?r:a-1,-1);break}else return;default:(n||Cn(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let i=this._getItemsArray(),s=typeof t=="number"?t:i.indexOf(t),n=i[s];this._activeItem.set(n??null),this._activeItemIndex=s,this._typeahead?.setCurrentSelectedItemIndex(s)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let i=this._getItemsArray();for(let s=1;s<=i.length;s++){let n=(this._activeItemIndex+t*s+i.length)%i.length,r=i[n];if(!this._skipPredicateFn(r)){this.setActiveItem(n);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,i){let s=this._getItemsArray();if(s[t]){for(;this._skipPredicateFn(s[t]);)if(t+=i,!s[t])return;this.setActiveItem(t)}}_getItemsArray(){return Pm(this._items)?this._items():this._items instanceof Kn?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let i=this._activeItem();if(i){let s=t.indexOf(i);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s,this._typeahead?.setCurrentSelectedItemIndex(s))}}};var ql=class extends rh{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var rM=new ce("cdk-dir-doc",{providedIn:"root",factory:QG});function QG(){return O(Ze)}var JG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function eV(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?JG.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var bs=(()=>{class e{value="ltr";change=new X;constructor(){let i=O(rM,{optional:!0});if(i){let s=i.body?i.body.dir:null,n=i.documentElement?i.documentElement.dir:null;this.value=eV(s||n||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var bn=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({})}return e})();var jv=class{_box;_destroyed=new pe;_resizeSubject=new pe;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Ve(i=>{let s=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),s.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Rt(i=>i.some(s=>s.target===t)),$d({bufferSize:1,refCount:!0}),yi(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},oM=(()=>{class e{_cleanupErrorListener;_observers=new Map;_ngZone=O(ge);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,i]of this._observers)i.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(i,s){let n=s?.box||"content-box";return this._observers.has(n)||this._observers.set(n,new jv(n)),this._observers.get(n).observe(i)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ys=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(ys||{}),oh,Yr;function ah(){if(Yr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Yr=!1,Yr;if("scrollBehavior"in document.documentElement.style)Yr=!0;else{let e=Element.prototype.scrollTo;e?Yr=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Yr=!1}}return Yr}function oa(){if(typeof document!="object"||!document)return ys.NORMAL;if(oh==null){let e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let i=document.createElement("div"),s=i.style;s.width="2px",s.height="1px",e.appendChild(i),document.body.appendChild(e),oh=ys.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,oh=e.scrollLeft===0?ys.NEGATED:ys.INVERTED),e.remove()}return oh}function Uv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var aM=20,lh=(()=>{class e{_ngZone=O(ge);_platform=O(vt);_renderer=O(ai).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new pe;_scrolledCount=0;scrollContainers=new Map;register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let s=this.scrollContainers.get(i);s&&(s.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=aM){return this._platform.isBrowser?new Ve(s=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=i>0?this._scrolled.pipe(jd(i)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Ki()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((i,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(i,s){let n=this.getAncestorScrollContainers(i);return this.scrolled(s).pipe(Rt(r=>!r||n.indexOf(r)>-1))}getAncestorScrollContainers(i){let s=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,i)&&s.push(r)}),s}_scrollableContainsElement(i,s){let n=Ji(s),r=i.getElementRef().nativeElement;do if(n==r)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kv=(()=>{class e{elementRef=O(He);scrollDispatcher=O(lh);ngZone=O(ge);dir=O(bs,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new pe;_renderer=O(vs);_cleanupScroll;_elementScrolled=new pe;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",i=>this._elementScrolled.next(i))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){let s=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";i.left==null&&(i.left=n?i.end:i.start),i.right==null&&(i.right=n?i.start:i.end),i.bottom!=null&&(i.top=s.scrollHeight-s.clientHeight-i.bottom),n&&oa()!=ys.NORMAL?(i.left!=null&&(i.right=s.scrollWidth-s.clientWidth-i.left),oa()==ys.INVERTED?i.left=i.right:oa()==ys.NEGATED&&(i.left=i.right?-i.right:i.right)):i.right!=null&&(i.left=s.scrollWidth-s.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){let s=this.elementRef.nativeElement;ah()?s.scrollTo(i):(i.top!=null&&(s.scrollTop=i.top),i.left!=null&&(s.scrollLeft=i.left))}measureScrollOffset(i){let s="left",n="right",r=this.elementRef.nativeElement;if(i=="top")return r.scrollTop;if(i=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let a=this.dir&&this.dir.value=="rtl";return i=="start"?i=a?n:s:i=="end"&&(i=a?s:n),a&&oa()==ys.INVERTED?i==s?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:a&&oa()==ys.NEGATED?i==s?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:i==s?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return e})(),lM=20,aa=(()=>{class e{_platform=O(vt);_listeners;_viewportSize;_change=new pe;_document=O(Ze,{optional:!0});constructor(){let i=O(ge),s=O(ai).createRenderer(null,null);i.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=r=>this._change.next(r);this._listeners=[s.listen("window","resize",n),s.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(i=>i()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:s,height:n}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+n,right:i.left+s,height:n,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,s=this._getWindow(),n=i.documentElement,r=n.getBoundingClientRect(),a=-r.top||i.body.scrollTop||s.scrollY||n.scrollTop||0,d=-r.left||i.body.scrollLeft||s.scrollX||n.scrollLeft||0;return{top:a,left:d}}change(i=lM){return i>0?this._change.pipe(jd(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $v=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({})}return e})(),ch=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({imports:[bn,$v,bn,$v]})}return e})();var la=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Xr=class extends la{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,i,s,n,r){super(),this.component=t,this.viewContainerRef=i,this.injector=s,this.projectableNodes=r}},Us=class extends la{templateRef;viewContainerRef;context;injector;constructor(t,i,s,n){super(),this.templateRef=t,this.viewContainerRef=i,this.context=s,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},dh=class extends la{element;constructor(t){super(),this.element=t instanceof He?t.nativeElement:t}},Zr=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Xr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Us)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof dh)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Yl=class extends Zr{outletElement;_appRef;_defaultInjector;_document;constructor(t,i,s,n,r){super(),this.outletElement=t,this._appRef=s,this._defaultInjector=n,this._document=r}attachComponentPortal(t){let i;if(t.viewContainerRef){let s=t.injector||t.viewContainerRef.injector,n=s.get(Br,null,{optional:!0})||void 0;i=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:s,ngModuleRef:n,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>i.destroy())}else{let s=this._appRef,n=t.injector||this._defaultInjector||Je.NULL,r=n.get(hi,s.injector);i=zu(t.component,{elementInjector:n,environmentInjector:r,projectableNodes:t.projectableNodes||void 0}),s.attachView(i.hostView),this.setDisposeFn(()=>{s.viewCount>0&&s.detachView(i.hostView),i.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let i=t.viewContainerRef,s=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return s.rootNodes.forEach(n=>this.outletElement.appendChild(n)),s.detectChanges(),this.setDisposeFn(()=>{let n=i.indexOf(s);n!==-1&&i.remove(n)}),this._attachedPortal=t,s}attachDomPortal=t=>{let i=t.element;i.parentNode;let s=this._document.createComment("dom-portal");i.parentNode.insertBefore(s,i),this.outletElement.appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(i,s)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var qv=(()=>{class e extends Us{constructor(){let i=O(oi),s=O(li);super(i,s)}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[ci]})}return e})();var yn=(()=>{class e extends Zr{_moduleRef=O(Br,{optional:!0});_document=O(Ze);_viewContainerRef=O(li);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}attached=new X;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let s=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,n=s.createComponent(i.component,{index:s.length,injector:i.injector||s.injector,projectableNodes:i.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return s!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=i,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(i){i.setAttachedHost(this);let s=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}attachDomPortal=i=>{let s=i.element;s.parentNode;let n=this._document.createComment("dom-portal");i.setAttachedHost(this),s.parentNode.insertBefore(n,s),this._getRootNode().appendChild(s),this._attachedPortal=i,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(s,n)})};_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ci]})}return e})();var Zn=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({})}return e})();var uh=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["structural-styles"]],decls:0,vars:0,template:function(s,n){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return e})();function Pt(e){return e==null?"":typeof e=="string"?e:`${e}px`}var ts=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(ts||{}),Yv=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ts.HIDDEN;constructor(t,i,s,n=!1){this._renderer=t,this.element=i,this.config=s,this._animationForciblyDisabledThroughCss=n}fadeOut(){this._renderer.fadeOutRipple(this)}},cM=na({passive:!0,capture:!0}),Xv=class{_events=new Map;addHandler(t,i,s,n){let r=this._events.get(i);if(r){let a=r.get(s);a?a.add(n):r.set(s,new Set([n]))}else this._events.set(i,new Map([[s,new Set([n])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,cM)})}removeHandler(t,i,s){let n=this._events.get(t);if(!n)return;let r=n.get(i);r&&(r.delete(s),r.size===0&&n.delete(i),n.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,cM)))}_delegateEventHandler=t=>{let i=_i(t);i&&this._events.get(t.type)?.forEach((s,n)=>{(n===i||n.contains(i))&&s.forEach(r=>r.handleEvent(t))})}},Xl={enterDuration:225,exitDuration:150},tV=800,dM=na({passive:!0,capture:!0}),uM=["mousedown","touchstart"],hM=["mouseup","mouseleave","touchend","touchcancel"],iV=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(s,n){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return e})(),Zl=class e{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Xv;constructor(t,i,s,n,r){this._target=t,this._ngZone=i,this._platform=n,n.isBrowser&&(this._containerElement=Ji(s)),r&&r.get(es).load(iV)}fadeInRipple(t,i,s={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=U(U({},Xl),s.animation);s.centered&&(t=n.left+n.width/2,i=n.top+n.height/2);let a=s.radius||sV(t,i,n),d=t-n.left,h=i-n.top,v=r.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=`${d-a}px`,b.style.top=`${h-a}px`,b.style.height=`${a*2}px`,b.style.width=`${a*2}px`,s.color!=null&&(b.style.backgroundColor=s.color),b.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(b);let D=window.getComputedStyle(b),R=D.transitionProperty,A=D.transitionDuration,k=R==="none"||A==="0s"||A==="0s, 0s"||n.width===0&&n.height===0,L=new Yv(this,b,s,k);b.style.transform="scale3d(1, 1, 1)",L.state=ts.FADING_IN,s.persistent||(this._mostRecentTransientRipple=L);let H=null;return!k&&(v||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let $=()=>{H&&(H.fallbackTimer=null),clearTimeout(Q),this._finishRippleTransition(L)},Z=()=>this._destroyRipple(L),Q=setTimeout(Z,v+100);b.addEventListener("transitionend",$),b.addEventListener("transitioncancel",Z),H={onTransitionEnd:$,onTransitionCancel:Z,fallbackTimer:Q}}),this._activeRipples.set(L,H),(k||!v)&&this._finishRippleTransition(L),L}fadeOutRipple(t){if(t.state===ts.FADING_OUT||t.state===ts.HIDDEN)return;let i=t.element,s=U(U({},Xl),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=ts.FADING_OUT,(t._animationForciblyDisabledThroughCss||!s.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=Ji(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,uM.forEach(s=>{e._eventManager.addHandler(this._ngZone,s,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{hM.forEach(i=>{this._triggerElement.addEventListener(i,this,dM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===ts.FADING_IN?this._startFadeOutTransition(t):t.state===ts.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:s}=t.config;t.state=ts.VISIBLE,!s&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=ts.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),t.element.remove()}_onMousedown(t){let i=Wl(t),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+tV;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!jl(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===ts.VISIBLE||t.config.terminateOnPointerUp&&t.state===ts.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(uM.forEach(i=>e._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(hM.forEach(i=>t.removeEventListener(i,this,dM)),this._pointerUpEventsRegistered=!1))}};function sV(e,t,i){let s=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),n=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(s*s+n*n)}var hh=new ce("mat-ripple-global-options"),Zv=(()=>{class e{_elementRef=O(He);_animationMode=O(Fi,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let i=O(ge),s=O(vt),n=O(hh,{optional:!0}),r=O(Je);this._globalOptions=n||{},this._rippleRenderer=new Zl(this,i,this._elementRef,s,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:U(U(U({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,n){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,s,U(U({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,U(U({},this.rippleConfig),i))}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(s,n){s&2&&Ft("mat-ripple-unbounded",n.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})();var Mi=(()=>{class e{constructor(){O(sh)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({imports:[bn,bn]})}return e})();var iC=["*"];function oV(e,t){e&1&&Cs(0)}var aV=["tabListContainer"],lV=["tabList"],cV=["tabListInner"],dV=["nextPaginator"],uV=["previousPaginator"],hV=["content"];function pV(e,t){}var gV=["tabBodyWrapper"],fV=["tabHeader"];function mV(e,t){}function vV(e,t){if(e&1&&di(0,mV,0,0,"ng-template",12),e&2){let i=fi().$implicit;wt("cdkPortalOutlet",i.templateLabel)}}function CV(e,t){if(e&1&&Pi(0),e&2){let i=fi().$implicit;Ol(i.textLabel)}}function bV(e,t){if(e&1){let i=zr();Ae(0,"div",7,2),Tt("click",function(){let n=Xt(i),r=n.$implicit,a=n.$index,d=fi(),h=ov(1);return Zt(d._handleClick(r,h,a))})("cdkFocusChange",function(n){let r=Xt(i).$index,a=fi();return Zt(a._tabFocusChanged(n,r))}),Qt(2,"span",8)(3,"div",9),Ae(4,"span",10)(5,"span",11),di(6,vV,1,1,null,12)(7,CV,1,1),_e()()()}if(e&2){let i=t.$implicit,s=t.$index,n=ov(1),r=fi();Hr(i.labelClass),Ft("mdc-tab--active",r.selectedIndex===s),wt("id",r._getTabLabelId(s))("disabled",i.disabled)("fitInkBarToContent",r.fitInkBarToContent),gi("tabIndex",r._getTabIndex(s))("aria-posinset",s+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(s))("aria-selected",r.selectedIndex===s)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),lt(3),wt("matRippleTrigger",n)("matRippleDisabled",i.disabled||r.disableRipple),lt(3),tv(i.templateLabel?6:7)}}function yV(e,t){e&1&&Cs(0)}function wV(e,t){if(e&1){let i=zr();Ae(0,"mat-tab-body",13),Tt("_onCentered",function(){Xt(i);let n=fi();return Zt(n._removeTabBodyWrapperHeight())})("_onCentering",function(n){Xt(i);let r=fi();return Zt(r._setTabBodyWrapperHeight(n))})("_beforeCentering",function(n){Xt(i);let r=fi();return Zt(r._bodyCentered(n))}),_e()}if(e&2){let i=t.$implicit,s=t.$index,n=fi();Hr(i.bodyClass),wt("id",n._getTabContentId(s))("content",i.content)("position",i.position)("animationDuration",n.animationDuration)("preserveContent",n.preserveContent),gi("tabindex",n.contentTabIndex!=null&&n.selectedIndex===s?n.contentTabIndex:null)("aria-labelledby",n._getTabLabelId(s))("aria-hidden",n.selectedIndex!==s)}}var SV=new ce("MatTabContent"),xV=(()=>{class e{template=O(oi);constructor(){}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","matTabContent",""]],features:[js([{provide:SV,useExisting:e}])]})}return e})(),DV=new ce("MatTabLabel"),mM=new ce("MAT_TAB"),EV=(()=>{class e extends qv{_closestTab=O(mM,{optional:!0});static \u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})();static \u0275dir=nt({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[js([{provide:DV,useExisting:e}]),ci]})}return e})(),vM=new ce("MAT_TAB_GROUP"),sC=(()=>{class e{_viewContainerRef=O(li);_closestTabGroup=O(vM,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(i){this._setTemplateLabelInput(i)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new pe;position=null;origin=null;isActive=!1;constructor(){O(es).load(uh)}ngOnChanges(i){(i.hasOwnProperty("textLabel")||i.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Us(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(i){i&&i._closestTab===this&&(this._templateLabel=i)}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["mat-tab"]],contentQueries:function(s,n,r){if(s&1&&(Ll(r,EV,5),Ll(r,xV,7,oi)),s&2){let a;jt(a=Ut())&&(n.templateLabel=a.first),jt(a=Ut())&&(n._explicitContent=a.first)}},viewQuery:function(s,n){if(s&1&&Di(oi,7),s&2){let r;jt(r=Ut())&&(n._implicitContent=r.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",j],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[js([{provide:mM,useExisting:e}]),ms],ngContentSelectors:iC,decls:1,vars:0,template:function(s,n){s&1&&(fn(),di(0,oV,1,0,"ng-template"))},encapsulation:2})}return e})(),Qv="mdc-tab-indicator--active",pM="mdc-tab-indicator--no-transition",Jv=class{_items;_currentItem;constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar()),this._currentItem=void 0}alignToElement(t){let i=this._items.find(n=>n.elementRef.nativeElement===t),s=this._currentItem;if(i!==s&&(s?.deactivateInkBar(),i)){let n=s?.elementRef.nativeElement.getBoundingClientRect?.();i.activateInkBar(n),this._currentItem=i}}},MV=(()=>{class e{_elementRef=O(He);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(i){this._fitToContent!==i&&(this._fitToContent=i,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(i){let s=this._elementRef.nativeElement;if(!i||!s.getBoundingClientRect||!this._inkBarContentElement){s.classList.add(Qv);return}let n=s.getBoundingClientRect(),r=i.width/n.width,a=i.left-n.left;s.classList.add(pM),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${r})`),s.getBoundingClientRect(),s.classList.remove(pM),s.classList.add(Qv),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Qv)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let i=this._elementRef.nativeElement.ownerDocument||document,s=this._inkBarElement=i.createElement("span"),n=this._inkBarContentElement=i.createElement("span");s.className="mdc-tab-indicator",n.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",s.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let i=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;i.appendChild(this._inkBarElement)}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",j]}})}return e})();var CM=(()=>{class e extends MV{elementRef=O(He);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})();static \u0275dir=nt({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(s,n){s&2&&(gi("aria-disabled",!!n.disabled),Ft("mat-mdc-tab-disabled",n.disabled))},inputs:{disabled:[2,"disabled","disabled",j]},features:[ci]})}return e})(),gM={passive:!0},RV=650,TV=100,IV=(()=>{class e{_elementRef=O(He);_changeDetectorRef=O(mn);_viewportRuler=O(aa);_dir=O(bs,{optional:!0});_ngZone=O(ge);_platform=O(vt);_sharedResizeObserver=O(oM);_injector=O(Je);_renderer=O(vs);_animationMode=O(Fi,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new pe;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new pe;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(i){let s=isNaN(i)?0:i;this._selectedIndex!=s&&(this._selectedIndexChanged=!0,this._selectedIndex=s,this._keyManager&&this._keyManager.updateActiveItem(s))}_selectedIndex=0;selectFocusedIndex=new X;indexFocused=new X;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Ei(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),gM),Ei(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),gM))}ngAfterContentInit(){let i=this._dir?this._dir.change:Ki("ltr"),s=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(ln(32),yi(this._destroyed)),n=this._viewportRuler.change(150).pipe(yi(this._destroyed)),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ql(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),Qi(r,{injector:this._injector}),an(i,n,s,this._items.changes,this._itemsResized()).pipe(yi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return typeof ResizeObserver!="function"?Dr:this._items.changes.pipe(qi(this._items),Fo(i=>new Ve(s=>this._ngZone.runOutsideAngular(()=>{let n=new ResizeObserver(r=>s.next(r));return i.forEach(r=>n.observe(r.elementRef.nativeElement)),()=>{n.disconnect()}}))),Rr(1),Rt(i=>i.some(s=>s.contentRect.width>0&&s.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(i=>i()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(i){if(!Cn(i))switch(i.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let s=this._items.get(this.focusIndex);s&&!s.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(i))}break;default:this._keyManager.onKeydown(i)}}_onContentChanges(){let i=this._elementRef.nativeElement.textContent;i!==this._currentTextContent&&(this._currentTextContent=i||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(i){!this._isValidIndex(i)||this.focusIndex===i||!this._keyManager||this._keyManager.setActiveItem(i)}_isValidIndex(i){return this._items?!!this._items.toArray()[i]:!0}_setTabFocus(i){if(this._showPaginationControls&&this._scrollToLabel(i),this._items&&this._items.length){this._items.toArray()[i].focus();let s=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?s.scrollLeft=0:s.scrollLeft=s.scrollWidth-s.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let i=this.scrollDistance,s=this._getLayoutDirection()==="ltr"?-i:i;this._tabList.nativeElement.style.transform=`translateX(${Math.round(s)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(i){this._scrollTo(i)}_scrollHeader(i){let s=this._tabListContainer.nativeElement.offsetWidth,n=(i=="before"?-1:1)*s/3;return this._scrollTo(this._scrollDistance+n)}_handlePaginatorClick(i){this._stopInterval(),this._scrollHeader(i)}_scrollToLabel(i){if(this.disablePagination)return;let s=this._items?this._items.toArray()[i]:null;if(!s)return;let n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:a}=s.elementRef.nativeElement,d,h;this._getLayoutDirection()=="ltr"?(d=r,h=d+a):(h=this._tabListInner.nativeElement.offsetWidth-r,d=h-a);let v=this.scrollDistance,b=this.scrollDistance+n;d<v?this.scrollDistance-=v-d:h>b&&(this.scrollDistance+=Math.min(h-b,d-v))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let i=this._tabListInner.nativeElement.scrollWidth,s=this._elementRef.nativeElement.offsetWidth,n=i-s>=5;n||(this.scrollDistance=0),n!==this._showPaginationControls&&(this._showPaginationControls=n,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let i=this._tabListInner.nativeElement.scrollWidth,s=this._tabListContainer.nativeElement.offsetWidth;return i-s||0}_alignInkBarToSelectedTab(){let i=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,s=i?i.elementRef.nativeElement:null;s?this._inkBar.alignToElement(s):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(i,s){s&&s.button!=null&&s.button!==0||(this._stopInterval(),ll(RV,TV).pipe(yi(an(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:n,distance:r}=this._scrollHeader(i);(r===0||r>=n)&&this._stopInterval()}))}_scrollTo(i){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let s=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(s,i)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:s,distance:this._scrollDistance}}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,inputs:{disablePagination:[2,"disablePagination","disablePagination",j],selectedIndex:[2,"selectedIndex","selectedIndex",ea]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return e})(),AV=(()=>{class e extends IV{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Jv(this._items),super.ngAfterContentInit()}_itemSelected(i){i.preventDefault()}static \u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})();static \u0275cmp=ze({type:e,selectors:[["mat-tab-header"]],contentQueries:function(s,n,r){if(s&1&&Ll(r,CM,4),s&2){let a;jt(a=Ut())&&(n._items=a)}},viewQuery:function(s,n){if(s&1&&(Di(aV,7),Di(lV,7),Di(cV,7),Di(dV,5),Di(uV,5)),s&2){let r;jt(r=Ut())&&(n._tabListContainer=r.first),jt(r=Ut())&&(n._tabList=r.first),jt(r=Ut())&&(n._tabListInner=r.first),jt(r=Ut())&&(n._nextPaginator=r.first),jt(r=Ut())&&(n._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(s,n){s&2&&Ft("mat-mdc-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-mdc-tab-header-rtl",n._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",j]},features:[ci],ngContentSelectors:iC,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(s,n){if(s&1){let r=zr();fn(),Ae(0,"div",5,0),Tt("click",function(){return Xt(r),Zt(n._handlePaginatorClick("before"))})("mousedown",function(d){return Xt(r),Zt(n._handlePaginatorPress("before",d))})("touchend",function(){return Xt(r),Zt(n._stopInterval())}),Qt(2,"div",6),_e(),Ae(3,"div",7,1),Tt("keydown",function(d){return Xt(r),Zt(n._handleKeydown(d))}),Ae(5,"div",8,2),Tt("cdkObserveContent",function(){return Xt(r),Zt(n._onContentChanges())}),Ae(7,"div",9,3),Cs(9),_e()()(),Ae(10,"div",10,4),Tt("mousedown",function(d){return Xt(r),Zt(n._handlePaginatorPress("after",d))})("click",function(){return Xt(r),Zt(n._handlePaginatorClick("after"))})("touchend",function(){return Xt(r),Zt(n._stopInterval())}),Qt(12,"div",6),_e()}s&2&&(Ft("mat-mdc-tab-header-pagination-disabled",n._disableScrollBefore),wt("matRippleDisabled",n._disableScrollBefore||n.disableRipple),lt(3),Ft("_mat-animation-noopable",n._animationMode==="NoopAnimations"),lt(2),gi("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null),lt(5),Ft("mat-mdc-tab-header-pagination-disabled",n._disableScrollAfter),wt("matRippleDisabled",n._disableScrollAfter||n.disableRipple))},dependencies:[Zv,Bv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return e})(),FV=new ce("MAT_TABS_CONFIG"),fM=(()=>{class e extends yn{_host=O(eC);_centeringSub=it.EMPTY;_leavingSub=it.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(qi(this._host._isCenterPosition())).subscribe(i=>{this._host._content&&i&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,selectors:[["","matTabBodyHost",""]],features:[ci]})}return e})(),eC=(()=>{class e{_elementRef=O(He);_dir=O(bs,{optional:!0});_ngZone=O(ge);_injector=O(Je);_renderer=O(vs);_animationsModule=O(Fi,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=it.EMPTY;_position;_previousPosition;_onCentering=new X;_beforeCentering=new X;_afterLeavingCenter=new X;_onCentered=new X(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(i){this._positionIndex=i,this._computePositionAnimationState()}constructor(){if(this._dir){let i=O(mn);this._dirChangeSubscription=this._dir.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),Qi(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(i=>i()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let i=this._elementRef.nativeElement,s=n=>{n.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),n.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(i,"transitionstart",n=>{n.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(i,"transitionend",s),this._renderer.listen(i,"transitioncancel",s)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let i=this._position==="center";this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(i){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",i)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(i=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=i=="ltr"?"left":"right":this._positionIndex>0?this._position=i=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),Qi(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["mat-tab-body"]],viewQuery:function(s,n){if(s&1&&(Di(fM,5),Di(hV,5)),s&2){let r;jt(r=Ut())&&(n._portalHost=r.first),jt(r=Ut())&&(n._contentElement=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(s,n){s&2&&gi("inert",n._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(s,n){s&1&&(Ae(0,"div",1,0),di(2,pV,0,0,"ng-template",2),_e()),s&2&&Ft("mat-tab-body-content-left",n._position==="left")("mat-tab-body-content-right",n._position==="right")("mat-tab-body-content-can-animate",n._position==="center"||n._previousPosition==="center")},dependencies:[fM,Kv],styles:[".mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}"],encapsulation:2})}return e})(),bM=(()=>{class e{_elementRef=O(He);_changeDetectorRef=O(mn);_ngZone=O(ge);_tabsSubscription=it.EMPTY;_tabLabelSubscription=it.EMPTY;_tabBodySubscription=it.EMPTY;_animationMode=O(Fi,{optional:!0});_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Kn;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(i){this._fitInkBarToContent=i,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(i){this._indexToSelect=isNaN(i)?null:i}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(i){let s=i+"";this._animationDuration=/^\d+$/.test(s)?i+"ms":s}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(i){this._contentTabIndex=isNaN(i)?null:i}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(i){let s=this._elementRef.nativeElement.classList;s.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),i&&s.add("mat-tabs-with-background",`mat-background-${i}`),this._backgroundColor=i}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new X;focusChange=new X;animationDone=new X;selectedTabChange=new X(!0);_groupId;_isServer=!O(vt).isBrowser;constructor(){let i=O(FV,{optional:!0});this._groupId=O(vn).getId("mat-tab-group-"),this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=i&&i.disablePagination!=null?i.disablePagination:!1,this.dynamicHeight=i&&i.dynamicHeight!=null?i.dynamicHeight:!1,i?.contentTabIndex!=null&&(this.contentTabIndex=i.contentTabIndex),this.preserveContent=!!i?.preserveContent,this.fitInkBarToContent=i&&i.fitInkBarToContent!=null?i.fitInkBarToContent:!1,this.stretchTabs=i&&i.stretchTabs!=null?i.stretchTabs:!0,this.alignTabs=i&&i.alignTabs!=null?i.alignTabs:null}ngAfterContentChecked(){let i=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=i){let s=this._selectedIndex==null;if(!s){this.selectedTabChange.emit(this._createChangeEvent(i));let n=this._tabBodyWrapper.nativeElement;n.style.minHeight=n.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((n,r)=>n.isActive=r===i),s||(this.selectedIndexChange.emit(i),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((s,n)=>{s.position=n-i,this._selectedIndex!=null&&s.position==0&&!s.origin&&(s.origin=i-this._selectedIndex)}),this._selectedIndex!==i&&(this._selectedIndex=i,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let i=this._clampTabIndex(this._indexToSelect);if(i===this._selectedIndex){let s=this._tabs.toArray(),n;for(let r=0;r<s.length;r++)if(s[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,n=s[r];break}!n&&s[i]&&Promise.resolve().then(()=>{s[i].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(i))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(qi(this._allTabs)).subscribe(i=>{this._tabs.reset(i.filter(s=>s._closestTabGroup===this||!s._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(i){let s=this._tabHeader;s&&(s.focusIndex=i)}_focusChanged(i){this._lastFocusedTabIndex=i,this.focusChange.emit(this._createChangeEvent(i))}_createChangeEvent(i){let s=new tC;return s.index=i,this._tabs&&this._tabs.length&&(s.tab=this._tabs.toArray()[i]),s}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=an(...this._tabs.map(i=>i._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(i){return Math.min(this._tabs.length-1,Math.max(i||0,0))}_getTabLabelId(i){return`${this._groupId}-label-${i}`}_getTabContentId(i){return`${this._groupId}-content-${i}`}_setTabBodyWrapperHeight(i){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=i;return}let s=this._tabBodyWrapper.nativeElement;s.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(s.style.height=i+"px")}_removeTabBodyWrapperHeight(){let i=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=i.clientHeight,i.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(i,s,n){s.focusIndex=n,i.disabled||(this.selectedIndex=n)}_getTabIndex(i){let s=this._lastFocusedTabIndex??this.selectedIndex;return i===s?0:-1}_tabFocusChanged(i,s){i&&i!=="mouse"&&i!=="touch"&&(this._tabHeader.focusIndex=s)}_bodyCentered(i){i&&this._tabBodies?.forEach((s,n)=>s._setActiveClass(n===this._selectedIndex))}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["mat-tab-group"]],contentQueries:function(s,n,r){if(s&1&&Ll(r,sC,5),s&2){let a;jt(a=Ut())&&(n._allTabs=a)}},viewQuery:function(s,n){if(s&1&&(Di(gV,5),Di(fV,5),Di(eC,5)),s&2){let r;jt(r=Ut())&&(n._tabBodyWrapper=r.first),jt(r=Ut())&&(n._tabHeader=r.first),jt(r=Ut())&&(n._tabBodies=r)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(s,n){s&2&&(gi("mat-align-tabs",n.alignTabs),Hr("mat-"+(n.color||"primary")),kl("--mat-tab-animation-duration",n.animationDuration),Ft("mat-mdc-tab-group-dynamic-height",n.dynamicHeight)("mat-mdc-tab-group-inverted-header",n.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",n.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",j],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",j],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",j],selectedIndex:[2,"selectedIndex","selectedIndex",ea],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",ea],disablePagination:[2,"disablePagination","disablePagination",j],disableRipple:[2,"disableRipple","disableRipple",j],preserveContent:[2,"preserveContent","preserveContent",j],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[js([{provide:vM,useExisting:e}])],ngContentSelectors:iC,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(s,n){if(s&1){let r=zr();fn(),Ae(0,"mat-tab-header",3,0),Tt("indexFocused",function(d){return Xt(r),Zt(n._focusChanged(d))})("selectFocusedIndex",function(d){return Xt(r),Zt(n.selectedIndex=d)}),sv(2,bV,8,17,"div",4,iv),_e(),di(4,yV,1,0),Ae(5,"div",5,1),sv(7,wV,1,10,"mat-tab-body",6,iv),_e()}s&2&&(wt("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby),lt(2),nv(n._tabs),lt(2),tv(n._isServer?4:-1),lt(),Ft("_mat-animation-noopable",n._animationMode==="NoopAnimations"),lt(2),nv(n._tabs))},dependencies:[AV,CM,Lv,Zv,yn,eC],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return e})(),tC=class{index;tab};var yM=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({imports:[Mi,Mi]})}return e})();var Dn=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,i){let s=t?this.allAsyncListeners:this.allSyncListeners,n=s.get(e);return!n&&i&&(n=new Set,s.set(e,n)),n}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,i=!1){this.getListeners(e,i,!0).add(t)}removeEventListener(e,t,i=!1){let s=this.getListeners(e,i,!1);s&&(s.delete(t),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){let i=e.type;if(t&&"event"in e){let d=e.event;d instanceof Event&&(e.eventPath=d.composedPath())}let s=(d,h)=>d.forEach(v=>{if(!h.has(v))return;let b=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>v(e)):()=>v(e);t?this.dispatchAsync(b):b()}),n=this.getListeners(i,t,!1)??new Set,r=new Set(n);r.size>0&&s(r,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(d=>{let h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(i,e)):()=>d(i,e);t?this.dispatchAsync(h):h()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){let t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;let e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function _V(e,t){return t}function nR(e){return e?.getLocaleTextFunc()??_V}function Ms(e,t,i){i==null||typeof i=="string"&&i==""?rR(e,t):ss(e,t,i)}function ss(e,t,i){e.setAttribute(oR(t),i.toString())}function rR(e,t){e.removeAttribute(oR(t))}function oR(e){return`aria-${e}`}function Ds(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function kV(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function aR(e){return parseInt(e.getAttribute("aria-posinset"),10)}function LV(e){return e.getAttribute("aria-label")}function Ri(e,t){Ms(e,"label",t)}function RC(e,t){Ms(e,"labelledby",t)}function Wh(e,t){Ms(e,"describedby",t)}function lR(e,t){Ms(e,"live",t)}function OV(e,t){Ms(e,"atomic",t)}function NV(e,t){Ms(e,"relevant",t)}function cR(e,t){Ms(e,"level",t)}function dR(e,t){Ms(e,"disabled",t)}function jh(e,t){Ms(e,"hidden",t)}function Tn(e,t){ss(e,"expanded",t)}function Uh(e,t){ss(e,"setsize",t)}function $h(e,t){ss(e,"posinset",t)}function BV(e,t){ss(e,"multiselectable",t)}function GV(e,t){ss(e,"rowcount",t)}function uR(e,t){ss(e,"rowindex",t)}function VV(e,t){ss(e,"colcount",t)}function hR(e,t){ss(e,"colindex",t)}function HV(e,t){ss(e,"colspan",t)}function zV(e,t){ss(e,"sort",t)}function WV(e){rR(e,"sort")}function pR(e,t){ss(e,"checked",t===void 0?"mixed":t)}function gR(e,t){Ms(e,"controls",t.id),RC(t,e.id)}function fR(e,t){Ms(e,"haspopup",t===!1?null:t)}function jV(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var nC,rC,oC,aC,lC,TC,IC,cC;function lc(){return nC===void 0&&(nC=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),nC}function mR(){if(rC===void 0){let e=window;rC=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return rC}function qC(){return oC===void 0&&(oC=/(firefox)/i.test(navigator.userAgent)),oC}function vR(){return aC===void 0&&(aC=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),aC}function ic(){return lC===void 0&&(lC=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),lC}function wM(e){if(!e)return null;let t=e.tabIndex,i=e.getAttribute("tabIndex");return t===-1&&(i===null||i===""&&!qC())?null:t.toString()}function UV(){if(cC!==void 0)return cC;if(!document.body)return-1;let e=1e6,t=qC()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){let s=e*2;if(i.style.height=s+"px",s>t||i.clientHeight!==s)break;e=s}return document.body.removeChild(i),cC=e,e}function $V(){return IC==null&&CR(),IC}function CR(){let e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let i=t.offsetWidth-t.clientWidth;i===0&&t.clientWidth===0&&(i=null),t.parentNode&&t.parentNode.removeChild(t),i!=null&&(IC=i,TC=i===0)}function bR(){return TC==null&&CR(),TC}var ph;function YC(e,t,i){let s=e.parentElement,n=s&&s.firstChild;for(;n;)t&&n.classList.toggle(t,n===e),i&&n.classList.toggle(i,n!==e),n=n.nextSibling}var KV="[tabindex], input, select, button, textarea, [href]",yR="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function XC(e){let t=Element.prototype.matches||Element.prototype.msMatchesSelector,s=t.call(e,"input, select, button, textarea"),n=t.call(e,yR),r=nr(e);return s&&!n&&r}function qe(e,t,i={}){let{skipAriaHidden:s}=i;e.classList.toggle("ag-hidden",!t),s||jh(e,!t)}function qV(e,t,i={}){let{skipAriaHidden:s}=i;e.classList.toggle("ag-invisible",!t),s||jh(e,!t)}function wR(e,t){let i="disabled",s=t?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);s(e);let n=e.querySelectorAll("input")??[];for(let r of n)s(r)}function ua(e,t,i){let s=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof i=="number"){if(++s>i)break}else if(e===i)break}return!1}function ya(e){let{height:t,width:i,borderTopWidth:s,borderRightWidth:n,borderBottomWidth:r,borderLeftWidth:a,paddingTop:d,paddingRight:h,paddingBottom:v,paddingLeft:b,marginTop:D,marginRight:R,marginBottom:A,marginLeft:k,boxSizing:L}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(n||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(a||"0"),paddingTop:parseFloat(d||"0"),paddingRight:parseFloat(h||"0"),paddingBottom:parseFloat(v||"0"),paddingLeft:parseFloat(b||"0"),marginTop:parseFloat(D||"0"),marginRight:parseFloat(R||"0"),marginBottom:parseFloat(A||"0"),marginLeft:parseFloat(k||"0"),boxSizing:L}}function SR(e){let t=ya(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Rh(e){let t=ya(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function xR(e){let{height:t,marginBottom:i,marginTop:s}=ya(e);return Math.floor(t+i+s)}function DR(e){let{width:t,marginLeft:i,marginRight:s}=ya(e);return Math.floor(t+i+s)}function ER(e){let t=e.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:n,borderBottomWidth:r}=ya(e);return{top:t.top+(i||0),left:t.left+(s||0),right:t.right+(n||0),bottom:t.bottom+(r||0)}}function Th(){if(typeof ph=="boolean")return ph;let e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,ph=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),ph}function Ih(e,t){let i=e.scrollLeft;return t&&(i=Math.abs(i),mR()&&!Th()&&(i=e.scrollWidth-e.getBoundingClientRect().width-i)),i}function Ah(e,t,i){i&&(Th()?t*=-1:(lc()||mR())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function mi(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function ki(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function MR(e){return!!e.offsetParent}function nr(e){let t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!MR(e)||window.getComputedStyle(e).visibility!=="visible")}function ZC(e){let t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function RR(e,t,i){i&&i.nextSibling===t||(e.firstChild?i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function TR(e,t){for(let i=0;i<t.length;i++){let s=t[i],n=e.children[i];n!==s&&e.insertBefore(s,n)}}function YV(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function cc(e,t){if(t)for(let i of Object.keys(t)){let s=t[i];if(!i||!i.length||s==null)continue;let n=YV(i),r=s.toString(),a=r.replace(/\s*!important/g,""),d=a.length!=r.length?"important":void 0;e.style.setProperty(n,a,d)}}function XV(e){return e.clientWidth<e.scrollWidth}function ZV(e){return e.clientHeight<e.scrollHeight}function IR(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Ys(e,t)}function Ys(e,t){t=AR(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function sc(e,t){t=AR(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function AR(e){return typeof e=="number"?`${e}px`:e}function dc(e){return e instanceof Node||e instanceof HTMLElement}function ha(e,t,i){i==null||i===""?e.removeAttribute(t):e.setAttribute(t,i.toString())}function In(e,t,i){let n=WR(e).ResizeObserver,r=n?new n(i):null;return r?.observe(t),()=>r?.disconnect()}function QV(e){let t=va(e),i="getSelection"in t?t.getSelection():null,s=[];for(let n=0;n<(i?.rangeCount??0);n++){let r=i?.getRangeAt(n);r&&s.push(r)}return{selection:i,ranges:s}}function Kh(e,t){if(!e.gos.get("enableCellTextSelection")||!qC()&&!lc())return t();let{selection:s,ranges:n}=QV(e);t(),s?.removeAllRanges();for(let r of n)s?.addRange(r)}function Rs(e,t){let i=WR(e);i.requestAnimationFrame?i.requestAnimationFrame(t):i.webkitRequestAnimationFrame?i.webkitRequestAnimationFrame(t):i.setTimeout(t,0)}var FR="data-ref",dC;function SM(){return dC??(dC=document.createTextNode(" ")),dC.cloneNode()}function Qe(e){let{attrs:t,children:i,cls:s,ref:n,role:r,tag:a}=e,d=document.createElement(a);if(s&&(d.className=s),n&&d.setAttribute(FR,n),r&&d.setAttribute("role",r),t)for(let h of Object.keys(t))d.setAttribute(h,t[h]);if(i)if(typeof i=="string")d.textContent=i;else{let h=!0;for(let v of i)v&&(typeof v=="string"?(d.appendChild(document.createTextNode(v)),h=!1):(h&&(d.appendChild(SM()),h=!1),d.append(Qe(v)),d.appendChild(SM())))}return d}function Jr(e){return e==null||e===""?null:e}function Ee(e){return e!=null&&e!==""}function _t(e){return!Ee(e)}function AC(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function JV(e,t,i=!1){let s=e==null,n=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),s&&n)return 0;if(s)return-1;if(n)return 1;function r(a,d){return a>d?1:a<d?-1:0}if(typeof e!="string"||!i)return r(e,t);try{return e.localeCompare(t)}catch{return r(e,t)}}var PR="https://www.ag-grid.com",xM={};function _R(e,t){xM[t]||(e(),xM[t]=!0)}function oc(e,t,...i){e.get("debug")&&console.log("AG Grid: "+t,...i)}function qh(e,...t){_R(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function nc(e,...t){_R(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var eH={pending:!1,funcs:[]},tH={pending:!1,funcs:[]};function FC(e,t="setTimeout",i){let s=t==="raf"?tH:eH;if(s.funcs.push(e),s.pending)return;s.pending=!0;let n=()=>{let r=s.funcs.slice();s.funcs.length=0,s.pending=!1,r.forEach(a=>a())};t==="raf"?Rs(i,n):window.setTimeout(n,0)}function ir(e,t,i){let s;return function(...n){let r=this;window.clearTimeout(s),s=window.setTimeout(function(){e.isAlive()&&t.apply(r,n)},i)}}function DM(e,t){let i=0;return function(...s){let n=this,r=Date.now();r-i<t||(i=r,e.apply(n,s))}}function QC(e,t,i=100,s){let n=Date.now(),r=null,a=!1,d=()=>{let h=Date.now()-n>i;(e()||h)&&(t(),a=!0,r!=null&&(window.clearInterval(r),r=null),h&&s&&qh(s))};d(),a||(r=window.setInterval(d,10))}var ut="33.2.1",EM=2e3,MM=100,kR="_version_",iH=null,sH=!1,JC=`${PR}/javascript-data-grid`;function nH(e){JC=e}function LR(e,t,i){return iH?.getConsoleMessage(e,t)??[cH(e,t,i)]}function eb(e,t,i,s){sH||e(`error #${t}`,...LR(t,i,s))}function rH(e){if(!e)return String(e);let t={};for(let i of Object.keys(e))typeof e[i]!="object"&&typeof e[i]!="function"&&(t[i]=e[i]);return JSON.stringify(t)}function oH(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=rH(e)),t}function PC(e,t){return`${e}?${t.toString()}`}function aH(e,t,i){let s=Array.from(t.entries()).sort((r,a)=>a[1].length-r[1].length),n=PC(e,t);for(let[r,a]of s){if(r===kR)continue;let d=n.length-i;if(d<=0)break;let h="...",v=d+h.length,b=a.length-v>MM?a.slice(0,a.length-v)+h:a.slice(0,MM)+h;t.set(r,b),n=PC(e,t)}return n}function lH(e,t){let i=new URLSearchParams;if(i.append(kR,ut),t)for(let r of Object.keys(t))i.append(r,oH(t[r]));let s=`${JC}/errors/${e}`,n=PC(s,i);return n.length<=EM?n:aH(s,i,EM)}var cH=(e,t,i)=>{let s=lH(e,t);return`${i?i+` 
`:""}Visit ${s}${i?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function ue(...e){eb(qh,e[0],e[1])}function ei(...e){eb(nc,e[0],e[1])}function _C(e,t,i){eb(nc,e,t,i)}function dH(e,t){let i=t[0];return`error #${i} `+LR(i,t[1],e).join(" ")}function OR(...e){return dH(void 0,e)}function NR(e,t){return e.get("rowModelType")===t}function tb(e,t){return NR(e,"clientSide")}function BR(e,t){return NR(e,"serverSide")}function vi(e,t){return e.get("domLayout")===t}function GR(e){return KR(e)!==void 0}function VR(e){return typeof e.get("getRowHeight")=="function"}function uH(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function kC(e,t,i=!1,s){let{gos:n,environment:r}=e;if(s==null&&(s=r.getDefaultRowHeight()),VR(n)){if(i)return{height:s,estimated:!0};let h={node:t,data:t.data},v=n.getCallback("getRowHeight")(h);if(LC(v))return v===0&&ue(23),{height:Math.max(1,v),estimated:!1}}if(t.detail&&n.get("masterDetail"))return hH(n);let a=n.get("rowHeight");return{height:a&&LC(a)?a:s,estimated:!1}}function hH(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};let t=e.get("detailRowHeight");return LC(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function HR(e){let{environment:t,gos:i}=e,s=i.get("rowHeight");if(!s||_t(s))return t.getDefaultRowHeight();let n=t.refreshRowHeightVariable();return n!==-1?n:(ue(24),t.getDefaultRowHeight())}function LC(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function zR(e,t,i){let s=t[e.getDomDataKey()];return s?s[i]:void 0}function ma(e,t,i,s){let n=e.getDomDataKey(),r=t[n];_t(r)&&(r={},t[n]=r),r[i]=s}function Jt(e){let{gos:t,eGridDiv:i}=e,s=null,n=t.get("getDocument");return n&&Ee(n)?s=n():i&&(s=i.ownerDocument),s&&Ee(s)?s:document}function WR(e){return Jt(e).defaultView||window}function va(e){return e.eGridDiv.getRootNode()}function St(e){return va(e).activeElement}function ib(e){let t=null,i=null;try{t=Jt(e).fullscreenElement}catch{}finally{t||(t=va(e));let s=t.querySelector("body");s?i=s:t instanceof ShadowRoot?i=t:t instanceof Document?i=t?.documentElement:i=t}return i}function pH(e){return ib(e)?.clientWidth??(window.innerHeight||-1)}function gH(e){return ib(e)?.clientHeight??(window.innerHeight||-1)}function fH(e,t,i){let n=e.getBoundingClientRect().height,r=pH(i)-2,a=gH(i)-2;if(!e.offsetParent)return;let h=ER(e.offsetParent),{clientY:v,clientX:b}=t,D=v-h.top-n/2,R=b-h.left-10,A=Jt(i),k=A.defaultView||window,L=k.pageYOffset||A.documentElement.scrollTop,H=k.pageXOffset||A.documentElement.scrollLeft;r>0&&R+e.clientWidth>r+H&&(R=r+H-e.clientWidth),R<0&&(R=0),a>0&&D+e.clientHeight>a+L&&(D=a+L-e.clientHeight),D<0&&(D=0),e.style.left=`${R}px`,e.style.top=`${D}px`}function mH(e){let t=Jt(e),i=St(e);return i===null||i===t.body}function pa(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function jR(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||vi(e,"print"))}function Ks(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function UR(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function OC(e){let t=e.getCallback("getRowId");return t===void 0?t:i=>{let s=t(i);return typeof s!="string"&&(ue(25,{id:s}),s=String(s)),s}}function $R(e,t){let i=e.get("suppressGroupChangesColumnVisibility");if(i===!0||t&&i==="suppressHideOnGroup"||!t&&i==="suppressShowOnUngroup")return!1;let s=e.get("suppressRowGroupHidesColumns");if(t&&s===!0)return!1;let n=e.get("suppressMakeColumnVisibleAfterUnGroup");return!(!t&&n===!0)}function vH(e){return e?.checkboxes??!0}function CH(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function Ca(e){let t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function KR(e){let t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function bH(e){return KR(e)==="multiRow"}function yH(e){let t=e.get("rowSelection");if(typeof t=="string"){let i=e.get("groupSelectsChildren"),s=e.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function wH(e,t=!0){let i=e.get("rowSelection");return typeof i!="object"?t?"all":void 0:i.mode==="multiRow"?i.selectAll:"all"}function SH(e){let t=yH(e);return t==="descendants"||t==="filteredDescendants"}function Fh(e){return e.get("columnMenu")==="legacy"}function xH(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function qR(e,t,i){typeof e!="object"&&(e={});let s=U({},e);return i.forEach(n=>{let r=t[n];typeof r<"u"&&(s[n]=r)}),s}function YR(e,t){if(!e)return;let i={},s=!1;if(Object.keys(e).forEach(a=>{i[a]=e[a],s=!0}),!s)return;let n={type:"gridOptionsChanged",options:i};t.dispatchEvent(n);let r=U({type:"componentStateChanged"},i);t.dispatchEvent(r)}function je(e,t){return e.addGridCommonParams(t)}function DH(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var XR="__ag_Grid_Stop_Propagation",EH=["touchstart","touchend","touchmove","touchcancel","scroll"],MH=["wheel"],uC={};function Zs(e){e[XR]=!0}function Sn(e){return e[XR]===!0}var ZR=(()=>{let e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof uC[i]=="boolean")return uC[i];let s=document.createElement(e[i]||"div");return i="on"+i,uC[i]=i in s}})();function QR(e,t,i){let s=t;for(;s;){let n=zR(e,s,i);if(n)return n;s=s.parentElement}return null}function RH(e,t){return!t||!e?!1:IH(t).indexOf(e)>=0}function TH(e){let t=[],i=e.target;for(;i;)t.push(i),i=i.parentElement;return t}function IH(e){let t=e;return t.path?t.path:t.composedPath?t.composedPath():TH(t)}function AH(e,t,i,s){let n=JR(i),r;n!=null&&(r={passive:n}),e&&e.addEventListener&&e.addEventListener(t,i,s,r)}var JR=e=>{let t=EH.includes(e),i=MH.includes(e);if(t)return!0;if(i)return!1},ee=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){let{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,i){this.localEventService||(this.localEventService=new Dn),this.localEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.localEventService?.removeEventListener(e,t,i)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){let i=[];for(let s of Object.keys(t)){let n=t[s];n&&i.push(this._setupListener(e,s,n))}return i}_setupListener(e,t,i){if(this.destroyed)return()=>null;let s;return FH(e)?(e.__addEventListener(t,i),s=()=>(e.__removeEventListener(t,i),null)):(e instanceof HTMLElement?AH(this.beans.frameworkOverrides,e,t,i):e.addEventListener(t,i),s=()=>(e.removeEventListener(t,i),null)),this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}setupGridOptionListener(e,t){let{gos:i}=this;i.addPropertyEventListener(e,t);let s=()=>(i.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;let i=e.join("-")+this.propertyListenerId++,s=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=n.changeSet.id}let r={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};t(r)};e.forEach(n=>this.setupGridOptionListener(n,s))}getLocaleTextFunc(){return nR(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){let i=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),i}createBean(e,t,i){return(t||this.stubContext).createBean(e,i)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function FH(e){return e.__addEventListener!==void 0}var PH=new Set(["__proto__","constructor","prototype"]);function _H(e,t){if(e!=null){if(Array.isArray(e)){for(let i=0;i<e.length;i++)t(i.toString(),e[i]);return}for(let i of Object.keys(e))t(i,e[i])}}function Hi(e,t,i=!0,s=!1){Ee(t)&&_H(t,(n,r)=>{if(PH.has(n))return;let a=e[n];a!==r&&(s&&a==null&&r!=null&&typeof r=="object"&&r.constructor===Object&&(a={},e[n]=a),RM(r)&&RM(a)&&!Array.isArray(a)?Hi(a,r,i,s):(i||r!==void 0)&&(e[n]=r))})}function Sh(e,t,i){if(!t||!e)return;if(!i)return e[t];let s=t.split("."),n=e;for(let r=0;r<s.length;r++){if(n==null)return;n=n[s[r]]}return n}function RM(e){return typeof e=="object"&&e!==null}var kH=/[&<>"']/g,LH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xs(e,t){if(e==null)return null;let i=e.toString().toString();return t?i:i.replace(kH,s=>LH[s])}var OH={resizable:!0,sortable:!0},NH=0;function eT(){return NH++}function En(e){return e instanceof tT}var tT=class extends ee{constructor(e,t,i,s){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=i,this.primary=s,this.isColumn=!0,this.instanceId=eT(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new Dn,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=xs(i)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){let{colDef:e,beans:{sortSvc:t,pinnedCols:i,colFlex:s}}=this;t?.initCol(this);let n=e.hide;n!==void 0?this.visible=!n:this.visible=!e.initialHide,i?.initCol(this),s?.initCol(this)}setColDef(e,t,i){let s=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),s&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",i)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){let{gos:e,colDef:{field:t,tooltipField:i}}=this,s=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ee(t)&&t.indexOf(".")>=0&&!s,this.tooltipFieldContainsDots=Ee(i)&&i.indexOf(".")>=0&&!s}initMinAndMaxWidths(){let e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}resetActualWidth(e){let t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t,i=e.width,s=e.initialWidth;return i!=null?t=i:s!=null?t=s:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);let i=this.frameworkEventListenerService?.wrap(t)??t;this.colEventSvc.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(t)??t;this.colEventSvc.removeEventListener(e,i)}createColumnFunctionCallbackParams(e){return je(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable(this,e)??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??OH[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){let i=this.createColumnFunctionCallbackParams(e);return t(i)}return!1}createColumnEvent(e,t){return je(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return _t(this.sort)}isSorting(){return Ee(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return ue(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){let i=e===!0;this.visible!==i&&(this.visible=i,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};let t=e.getPaddingLevel()+1,i=!0;for(;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return je(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(_t(this.colDef.colSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.colSpan(t);return Math.max(i,1)}getRowSpan(e){if(_t(this.colDef.rowSpan))return 1;let t=this.createBaseColDefParams(e),i=this.colDef.rowSpan(t);return Math.max(i,1)}setActualWidth(e,t,i=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,i){let s=this.createColumnEvent(e,t);i&&Hi(s,i),this.colEventSvc.dispatchEvent(s)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function Et(e){return e instanceof ga}var ga=class extends ee{constructor(e,t,i,s){super(),this.colGroupDef=e,this.groupId=t,this.padding=i,this.level=s,this.isColumn=!1,this.expandable=!1,this.instanceId=eT(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{En(t)?e.push(t):Et(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){let e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();let e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,i=!1,s=this.findChildrenRemovingPadding();for(let r=0,a=s.length;r<a;r++){let d=s[r];if(!d.isVisible())continue;let h=d.getColumnGroupShow();h==="open"?(e=!0,i=!0):h==="closed"?(t=!0,i=!0):(e=!0,t=!0)}let n=e&&t&&i;this.expandable!==n&&(this.expandable=n,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){let e=[],t=i=>{i.forEach(s=>{Et(s)&&s.isPadding()?t(s.children):e.push(s)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},BH={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},GH=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=AC(e);let i=0;for(;;){let s=e??t;if(s?i!==0&&(s+="_"+i):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},Ph=Object.freeze([]);function Ue(e){if(e?.length)return e[e.length-1]}function wa(e,t,i){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((s,n)=>i?i(s,t[n]):t[n]===s)}function gh(e,t){if(e)for(let i of e)t(i)}function Mn(e,t){let i=e.indexOf(t);i>=0&&e.splice(i,1)}function TM(e,t,i){for(let s=0;s<t.length;s++)Mn(e,t[s]);for(let s=t.length-1;s>=0;s--)e.splice(i,0,t[s])}var Yh="ag-Grid-AutoColumn",VH="ag-Grid-SelectionColumn",HH="ag-Grid-RowNumbersColumn";function zH(e){let t=[],i=s=>{for(let n=0;n<s.length;n++){let r=s[n];En(r)?t.push(r):Et(r)&&i(r.getChildren())}};return i(e),t}function ca(e){return e.reduce((t,i)=>t+i.getActualWidth(),0)}function IM(e,t,i){let s={};if(!t)return;xn(null,t,r=>{s[r.getInstanceId()]=r}),i&&xn(null,i,r=>{s[r.getInstanceId()]=null});let n=Object.values(s).filter(r=>r!=null);e.context.destroyBeans(n)}function WH(e){return e.getId().startsWith(Yh)}function iT(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(VH)??!1}function _h(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(HH)??!1}function kh(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function xh(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function jH(e,t){let i=e===t,s=e.getColDef()===t,n=e.getColId()==t;return i||s||n}var UH=(e,t)=>(i,s)=>{let n={value1:void 0,value2:void 0},r=!1;return e&&(e[i]!==void 0&&(n.value1=e[i],r=!0),Ee(s)&&e[s]!==void 0&&(n.value2=e[s],r=!0)),!r&&t&&(t[i]!==void 0&&(n.value1=t[i]),Ee(s)&&t[s]!==void 0&&(n.value2=t[s])),n};function $H(e,t=null,i,s,n){let r=new GH,{existingCols:a,existingGroups:d,existingColKeys:h}=KH(s);r.addExistingKeys(h);let v=sT(e,t,0,i,a,r,d,n),{colGroupSvc:b}=e,D=b?.findMaxDepth(v,0)??0,R=b?b.balanceColumnTree(v,0,D,r):v;return xn(null,R,(k,L)=>{Et(k)&&k.setupExpandable(),k.originalParent=L}),{columnTree:R,treeDept:D}}function KH(e){let t=[],i=[],s=[];return e&&xn(null,e,n=>{if(Et(n)){let r=n;i.push(r)}else{let r=n;s.push(r.getId()),t.push(r)}}),{existingCols:t,existingGroups:i,existingColKeys:s}}function sT(e,t,i,s,n,r,a,d){if(!t)return[];let{colGroupSvc:h}=e,v=new Array(t.length);for(let b=0;b<v.length;b++){let D=t[b];h&&JH(D)?v[b]=h.createProvidedColumnGroup(s,D,i,n,r,a,d):v[b]=qH(e,s,D,n,r,d)}return v}function qH(e,t,i,s,n,r){let a=XH(i,s);a&&s?.splice(a.idx,1);let d=a?.column;if(d){let h=NC(e,i,d.getColId());d.setColDef(h,i,r),YH(e,d,h,r)}else{let h=n.getUniqueKey(i.colId,i.field),v=NC(e,i,h);d=new tT(v,i,h,t),e.context.createBean(d)}return e.dataTypeSvc?.addColumnListeners(d),d}function nT(e,t,i,s,n,r,a,d){let{sortSvc:h,pinnedCols:v,colFlex:b}=e;i!==void 0&&t.setVisible(!i,d),h&&(h.updateColSort(t,s,d),n!==void 0&&h.setColSortIndex(t,n)),r!==void 0&&v?.setColPinned(t,r),a!==void 0&&b?.setColFlex(t,a)}function YH(e,t,i,s){nT(e,t,i.hide,i.sort,i.sortIndex,i.pinned,i.flex,s);let n=t.getFlex();if(!(n!=null&&n>0))if(i.width!=null)t.setActualWidth(i.width,s);else{let r=t.getActualWidth();t.setActualWidth(r,s)}}function XH(e,t){if(t)for(let i=0;i<t.length;i++){let s=t[i].getUserProvidedColDef();if(!s)continue;if(e.colId!=null){if(t[i].getId()===e.colId)return{idx:i,column:t[i]};continue}if(e.field!=null){if(s.field===e.field)return{idx:i,column:t[i]};continue}if(s===e)return{idx:i,column:t[i]}}}function NC(e,t,i,s){let{gos:n,dataTypeSvc:r,validation:a}=e,d={},h=n.get("defaultColDef");Hi(d,h,!1,!0);let v=ZH(e,d,t,i);v&&QH(e,v,d),Hi(d,t,!1,!0);let b=n.get("autoGroupColumnDef"),D=Ks(n);return t.rowGroup&&b&&D&&Hi(d,{sort:b.sort,initialSort:b.initialSort},!1,!0),r?.validateColDef(d),a?.validateColDef(d,i,s),d}function ZH(e,t,i,s){let n=e.dataTypeSvc?.updateColDefAndGetColumnType(t,i,s),r=i.type??n??t.type;return t.type=r,r?kh(r):void 0}function QH(e,t,i){if(!t.length)return;let s=Object.assign({},BH),n=e.gos.get("columnTypes")||{};for(let r of Object.keys(n)){let a=n[r];r in s?ue(34,{key:r}):(a.type&&ue(35),s[r]=a)}t.forEach(r=>{let a=s[r.trim()];a?Hi(i,a,!1,!0):ue(36,{t:r})})}function JH(e){return e.children!==void 0}function xn(e,t,i){if(t)for(let s=0;s<t.length;s++){let n=t[s];Et(n)&&xn(n,n.getChildren(),i),i(n,e)}}function rT(e,t){let i=[],s=[],n=[];return e.forEach(a=>{let d=a.getColDef().lockPosition;d==="right"?n.push(a):d==="left"||d===!0?i.push(a):s.push(a)}),t.get("enableRtl")?[...n,...s,...i]:[...i,...s,...n]}function oT(e,t){let i=!0;return xn(null,t,s=>{if(!Et(s))return;let n=s,r=n.getColGroupDef();if(!(r&&r.marryChildren))return;let d=[];n.getLeafColumns().forEach(R=>{let A=e.indexOf(R);d.push(A)});let h=Math.max.apply(Math,d),v=Math.min.apply(Math,d),b=h-v,D=n.getLeafColumns().length-1;b>D&&(i=!1)}),i}function aT(e,t){if(!e||e.length==0)return;let i=t(e[0]);for(let s=1;s<e.length;s++)if(i!==t(e[s]))return;return i}function lT(e,t,i){if(!t.length)return;let s=t.length===1?t[0]:null,n=aT(t,r=>r.getPinned());e.dispatchEvent({type:"columnPinned",pinned:n??null,columns:t,column:s,source:i})}function e6(e,t,i){if(!t.length)return;let s=t.length===1?t[0]:null,n=aT(t,r=>r.isVisible());e.dispatchEvent({type:"columnVisible",visible:n,columns:t,column:s,source:i})}function t6(e,t,i,s){e.dispatchEvent({type:t,columns:i,column:i&&i.length==1?i[0]:null,source:s})}function Lh(e,t,i,s,n=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:n,finished:i,source:s})}function Sa(e,t,i){let{colModel:s,rowGroupColsSvc:n,pivotColsSvc:r,autoColSvc:a,selectionColSvc:d,colAnimation:h,visibleCols:v,pivotResultCols:b,environment:D,valueColsSvc:R,eventSvc:A,gos:k}=e,L=s.getColDefCols()||[];if(!L?.length)return!1;if(t?.state&&!t.state.forEach)return ue(32),!1;let H=(se,W,le,me,Fe)=>{if(!se)return;let ye=UH(W,t.defaultState),tt=ye("flex").value1;if(nT(e,se,ye("hide").value1,ye("sort").value1,ye("sortIndex").value1,ye("pinned").value1,tt,i),tt==null){let ct=ye("width").value1;if(ct!=null){let ti=se.getColDef().minWidth??D.getDefaultColumnMinWidth();ti!=null&&ct>=ti&&se.setActualWidth(ct,i)}}Fe||!se.isPrimary()||(R?.syncColumnWithState(se,i,ye),n?.syncColumnWithState(se,i,ye,le),r?.syncColumnWithState(se,i,ye,me))},$=(se,W,le)=>{let me=cT(e,i),Fe=W.slice(),ye={},tt={},ct=[],ti=[],ii=[],$t=0,dr=n?.columns.slice()??[],Pa=r?.columns.slice()??[];se.forEach(Kt=>{let zi=Kt.colId;if(zi.startsWith(Yh)){ct.push(Kt),ii.push(Kt);return}if(iT(zi)){ti.push(Kt),ii.push(Kt);return}let Is=le(zi);Is?(H(Is,Kt,ye,tt,!1),Mn(Fe,Is)):(ii.push(Kt),$t+=1)});let en=Kt=>H(Kt,null,ye,tt,!1);Fe.forEach(en),n?.sortColumns(FM.bind(n,ye,dr)),r?.sortColumns(FM.bind(r,tt,Pa)),s.refreshCols(!1);let _a=(Kt,zi,tn=[])=>{zi.forEach(Is=>{let ka=Kt(Is.colId);Mn(tn,ka),H(ka,Is,null,null,!0)}),tn.forEach(en)};return _a(Kt=>a?.getColumn(Kt)??null,ct,a?.getColumns()?.slice()),_a(Kt=>d?.getColumn(Kt)??null,ti,d?.getColumns()?.slice()),s6(t,s,k),v.refresh(i),A.dispatchEvent({type:"columnEverythingChanged",source:i}),me(),{unmatchedAndAutoStates:ii,unmatchedCount:$t}};h?.start();let{unmatchedAndAutoStates:Z,unmatchedCount:Q}=$(t.state||[],L,se=>s.getColDefCol(se));if(Z.length>0||Ee(t.defaultState)){let se=b?.getPivotResultCols()?.list??[];Q=$(Z,se,W=>b?.getPivotResultCol(W)??null).unmatchedCount}return h?.finish(),Q===0}function cT(e,t){let{rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:n,colModel:r,sortSvc:a,eventSvc:d}=e,h={rowGroupColumns:i?.columns.slice()??[],pivotColumns:s?.columns.slice()??[],valueColumns:n?.columns.slice()??[]},v=AM(e),b={};return v.forEach(D=>{b[D.colId]=D}),()=>{let D=(le,me,Fe,ye)=>{let tt=me.map(ye),ct=Fe.map(ye);if(wa(tt,ct))return;let ii=new Set(me);Fe.forEach(dr=>{ii.delete(dr)||ii.add(dr)});let $t=[...ii];d.dispatchEvent({type:le,columns:$t,column:$t.length===1?$t[0]:null,source:t})},R=le=>{let me=[];return r.forAllCols(Fe=>{let ye=b[Fe.getColId()];ye&&le(ye,Fe)&&me.push(Fe)}),me},A=le=>le.getColId();D("columnRowGroupChanged",h.rowGroupColumns,i?.columns??[],A),D("columnPivotChanged",h.pivotColumns,s?.columns??[],A);let L=R((le,me)=>{let Fe=le.aggFunc!=null,ye=Fe!=me.isValueActive(),tt=Fe&&le.aggFunc!=me.getAggFunc();return ye||tt});L.length>0&&t6(d,"columnValueChanged",L,t),Lh(d,R((le,me)=>le.width!=me.getActualWidth()),!0,t),lT(d,R((le,me)=>le.pinned!=me.getPinned()),t),e6(d,R((le,me)=>le.hide==me.isVisible()),t);let se=R((le,me)=>le.sort!=me.getSort()||le.sortIndex!=me.getSortIndex());se.length>0&&a?.dispatchSortChangedEvents(t,se);let W=AM(e);r6(v,W,t,r,d)}}function AM(e){let{colModel:t,rowGroupColsSvc:i,pivotColsSvc:s}=e,n=t.getColDefCols();if(_t(n)||!t.isAlive())return[];let r=i?.columns,a=s?.columns,d=[],h=b=>{let D=b.isRowGroupActive()&&r?r.indexOf(b):null,R=b.isPivotActive()&&a?a.indexOf(b):null,A=b.isValueActive()?b.getAggFunc():null,k=b.getSort()!=null?b.getSort():null,L=b.getSortIndex()!=null?b.getSortIndex():null;d.push({colId:b.getColId(),width:b.getActualWidth(),hide:!b.isVisible(),pinned:b.getPinned(),sort:k,sortIndex:L,aggFunc:A,rowGroup:b.isRowGroupActive(),rowGroupIndex:D,pivot:b.isPivotActive(),pivotIndex:R,flex:b.getFlex()??null})};t.forAllCols(b=>h(b));let v=new Map(t.getCols().map((b,D)=>[b.getColId(),D]));return d.sort((b,D)=>{let R=v.has(b.colId)?v.get(b.colId):-1,A=v.has(D.colId)?v.get(D.colId):-1;return R-A}),d}function i6(e){let t=(k,L)=>k??L??null,i=e.getColDef(),s=t(i.sort,i.initialSort),n=t(i.sortIndex,i.initialSortIndex),r=t(i.hide,i.initialHide),a=t(i.pinned,i.initialPinned),d=t(i.width,i.initialWidth),h=t(i.flex,i.initialFlex),v=t(i.rowGroupIndex,i.initialRowGroupIndex),b=t(i.rowGroup,i.initialRowGroup);v==null&&(b==null||b==!1)&&(v=null,b=null);let D=t(i.pivotIndex,i.initialPivotIndex),R=t(i.pivot,i.initialPivot);D==null&&(R==null||R==!1)&&(D=null,R=null);let A=t(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:s,sortIndex:n,hide:r,pinned:a,width:d,flex:h,rowGroup:b,rowGroupIndex:v,pivot:R,pivotIndex:D,aggFunc:A}}function s6(e,t,i){if(!e.applyOrder||!e.state)return;let s=[];e.state.forEach(n=>{n.colId!=null&&s.push(n.colId)}),n6(t.cols,s,t,i)}function n6(e,t,i,s){if(e==null)return;let n=[],r={};t.forEach(d=>{if(r[d])return;let h=e.map[d];h&&(n.push(h),r[d]=!0)});let a=0;if(e.list.forEach(d=>{let h=d.getColId();if(r[h]!=null)return;h.startsWith(Yh)?n.splice(a++,0,d):n.push(d)}),n=rT(n,s),!oT(n,i.getColTree())){ue(39);return}e.list=n}function r6(e,t,i,s,n){let r={};t.forEach(b=>r[b.colId]=b);let a={};e.forEach(b=>{r[b.colId]&&(a[b.colId]=!0)});let d=e.filter(b=>a[b.colId]),h=t.filter(b=>a[b.colId]),v=[];h.forEach((b,D)=>{let R=d&&d[D];if(R&&R.colId!==b.colId){let A=s.getCol(R.colId);A&&v.push(A)}}),v.length&&n.dispatchEvent({type:"columnMoved",columns:v,column:v.length===1?v[0]:null,finished:!0,source:i})}var FM=(e,t,i,s)=>{let n=e[i.getId()],r=e[s.getId()],a=n!=null,d=r!=null;if(a&&d)return n-r;if(a)return-1;if(d)return 1;let h=t.indexOf(i),v=t.indexOf(s),b=h>=0,D=v>=0;return b&&D?h-v:b?-1:1},o6=class extends ee{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(xh(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),xh(e.source)))}createColsFromColDefs(e){let{beans:t}=this,{valueCache:i,colAutosize:s,rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:a,visibleCols:d,colViewport:h,eventSvc:v}=t,b=this.colDefs?cT(t,e):void 0;i?.expire();let D=this.colDefCols?.list,R=this.colDefCols?.tree,A=$H(t,this.colDefs,!0,R,e);IM(t,this.colDefCols?.tree,A.columnTree);let k=A.columnTree,L=A.treeDept,H=zH(k),$={};H.forEach(Z=>$[Z.getId()]=Z),this.colDefCols={tree:k,treeDepth:L,list:H,map:$},n?.extractCols(e,D),r?.extractCols(e,D),a?.extractCols(e,D),this.ready=!0,this.refreshCols(!0),d.refresh(e),h.checkViewportColumns(),v.dispatchEvent({type:"columnEverythingChanged",source:e}),b&&(this.changeEventsDispatching=!0,b(),this.changeEventsDispatching=!1),v.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&s?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;let t=this.cols?.tree;this.saveColOrder();let{autoColSvc:i,selectionColSvc:s,rowNumbersSvc:n,quickFilter:r,pivotResultCols:a,showRowGroupCols:d,rowAutoHeight:h,visibleCols:v,colViewport:b,eventSvc:D}=this.beans,R=this.selectCols(a,this.colDefCols);this.createColumnsForService([i,s,n],R);let A=uH(this.gos,this.showingPivotResult);(!e||A)&&this.restoreColOrder(R),this.positionLockedCols(R),d?.refresh(),r?.refreshCols(),this.setColSpanActive(),h?.setAutoHeightActive(R),v.clear(),b.clear(),!wa(t,this.cols.tree)&&D.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(let i of e)i&&(i.createColumns(t,s=>{this.lastOrder=s(this.lastOrder),this.lastPivotOrder=s(this.lastPivotOrder)}),i.addColumns(t))}selectCols(e,t){let i=e?.getPivotResultCols()??null;this.showingPivotResult=i!=null;let{map:s,list:n,tree:r,treeDepth:a}=i??t;return this.cols={list:n.slice(),map:U({},s),tree:r.slice(),treeDepth:a},i&&(i.list.some(h=>this.cols?.map[h.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];let e=this.isPivotMode()&&!this.showingPivotResult,t=this.beans.valueColsSvc?.columns;return this.cols.list.filter(s=>{let n=WH(s);if(e){let r=t?.includes(s);return n||r}else return n||s.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,i){Sa(this.beans,{state:e.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!t}))},i)}restoreColOrder(e){let t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;let i=new Map(t.map((v,b)=>[v,b]));if(!e.list.some(v=>i.has(v)))return;let n=new Map(e.list.map(v=>[v,!0])),r=t.filter(v=>n.has(v)),a=new Map(r.map(v=>[v,!0])),d=e.list.filter(v=>!a.has(v)),h=r.slice();d.forEach(v=>{let b=v.getOriginalParent();if(!b){h.push(v);return}let D=[];for(;!D.length&&b;)b.getLeafColumns().forEach(L=>{let H=h.indexOf(L)>=0,$=D.indexOf(L)<0;H&&$&&D.push(L)}),b=b.getOriginalParent();if(!D.length){h.push(v);return}let R=D.map(k=>h.indexOf(k)),A=Math.max(...R);h.splice(A+1,0,v)}),e.list=h}positionLockedCols(e){e.list=rT(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);let{visibleCols:i,eventSvc:s}=this.beans;i.refresh(t),s.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){let e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);let t=xh(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){IM(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){let{pivotResultCols:t,autoColSvc:i,selectionColSvc:s}=this.beans;gh(this.colDefCols?.list,e),gh(i?.columns?.list,e),gh(s?.columns?.list,e),gh(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;let{map:i,list:s}=t;if(typeof e=="string"&&i[e])return i[e];for(let n=0;n<s.length;n++)if(jH(s[n],e))return s[n];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}};var a6=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){let t=this.existingIds[e],i;return typeof t!="number"?i=0:i=t+1,this.existingIds[e]=i,i}};function Xh(e,t,i){return i&&e.addDestroyFunc(()=>t.destroyBean(i)),i??e}var dT=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){let t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){let s=(e||"").split(" ");if(s.length>1){s.forEach(n=>this.addOrRemoveCssClass(n,t));return}}if(this.cssClassStates[e]!==t&&e.length){let s=this.getGui();s&&s.classList.toggle(e,t),this.cssClassStates[e]=t}}},l6=0,te=null,Ce=class extends ee{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=l6++,this.cssClassManager=new dT(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(i=>[i.selector,i])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());let e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(FR):null}applyElementsToComponent(e,t,i,s=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){let n=this[t];if(n===te)this[t]=s??e;else{let r=i&&i[t];if(!this.suppressDataRefValidation&&!r)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(e,t){let i=[];for(let s of e.childNodes??[])i.push(s);i.forEach(s=>{if(!(s instanceof HTMLElement))return;let n=this.createComponentFromElement(s,r=>{let a=r.getGui();if(a)for(let d of s.attributes??[])a.setAttribute(d.name,d.value)},t);if(n){if(n.addItems&&s.children.length){this.createChildComponentsFromTags(s,t);let r=Array.prototype.slice.call(s.children);n.addItems(r)}this.swapComponentForNode(n,e,s)}else s.childNodes&&this.createChildComponentsFromTags(s,t)})}createComponentFromElement(e,t,i){let s=e.nodeName,n=this.getDataRefAttribute(e),r=s.indexOf("AG-")===0,a=r?this.componentSelectors.get(s):null,d=null;if(a){let h=i&&n?i[n]:void 0;d=new a.component(h),d.setParentComponent(this),this.createBean(d,null,t)}else if(r)throw new Error(`selector: ${s}`);return this.applyElementsToComponent(e,n,i,d),d}swapComponentForNode(e,t,i){let s=e.getGui();t.replaceChild(s,i),t.insertBefore(document.createComment(i.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){let t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(i=>i.setAttribute("tabindex",t.toString()))}setTemplate(e,t,i){let s;typeof e=="string"||e==null?s=ZC(e):s=Qe(e),this.setTemplateFromElement(s,t,i)}setTemplateFromElement(e,t,i,s=!1){if(this.eGui=e,this.suppressDataRefValidation=s,t)for(let n=0;n<t.length;n++){let r=t[n];this.componentSelectors.set(r.selector,r)}this.wireTemplate(e,i)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let i=t;return e==null?null:(i||(i=this.eGui),dc(e)?{element:e,parent:i}:{element:e.getGui(),parent:i})}prependChild(e,t){let{element:i,parent:s}=this.getContainerAndElement(e,t)||{};!i||!s||s.insertAdjacentElement("afterbegin",i)}appendChild(e,t){let{element:i,parent:s}=this.getContainerAndElement(e,t)||{};!i||!s||s.appendChild(i)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;let{skipAriaHidden:i}=t;qV(this.eGui,e,{skipAriaHidden:i})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;let{skipAriaHidden:i}=t;qe(this.eGui,e,{skipAriaHidden:i});let s={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,i){this.eGui.addEventListener(e,t,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};var An=class tc{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(i=>this.onDone(i),i=>this.onReject(i))}static all(t){return t.length?new tc(i=>{let s=t.length,n=new Array(s);t.forEach((r,a)=>{r.then(d=>{n[a]=d,s--,s===0&&i(n)})})}):tc.resolve()}static resolve(t=null){return new tc(i=>i(t))}then(t){return new tc(i=>{this.status===1?i(t(this.resolution)):this.waiters.push(s=>i(t(s)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(i=>i(t))}onReject(t){}};function c6(e){return e?e.prototype&&"getGui"in e.prototype:!1}function d6(e,t,i,s){let{name:n}=i,r,a,d,h,v,b;if(t){let D=t,R=D[n+"Selector"],A=R?R(s):null,k=L=>{typeof L=="string"?r=L:L!=null&&L!==!0&&(e.isFrameworkComponent(L)?d=L:a=L)};A?(k(A.component),h=A.params,v=A.popup,b=A.popupPosition):k(D[n])}return{compName:r,jsComp:a,fwComp:d,paramsFromSelector:h,popupFromSelector:v,popupPositionFromSelector:b}}var u6=class extends ee{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,i,s=!1){return this.getCompDetails(this.gridOptions,e,t,i,s)}getCompDetails(e,t,i,s,n=!1){let{name:r,cellRenderer:a}=t,{compName:d,jsComp:h,fwComp:v,paramsFromSelector:b,popupFromSelector:D,popupPositionFromSelector:R}=d6(this.beans.frameworkOverrides,e,t,s),A,k=Z=>{let Q=this.registry.getUserComponent(r,Z);Q&&(h=Q.componentFromFramework?void 0:Q.component,v=Q.componentFromFramework?Q.component:void 0,A=Q.params)};if(d!=null&&k(d),h==null&&v==null&&i!=null&&k(i),h&&a&&!c6(h)&&(h=this.agCompUtils?.adaptFunction(t,h)),!h&&!v){let{validation:Z}=this.beans;n&&(d!==i||!i)?d?Z?.isProvidedUserComp(d)||ei(50,{compName:d}):i?Z||ei(260,be(U({},this.gos.getModuleErrorParams()),{propName:r,compName:i})):ei(216,{name:r}):i&&!Z&&ei(146,{comp:i});return}let L=this.mergeParams(e,t,s,b,A),H=h==null,$=h??v;return{componentFromFramework:H,componentClass:$,params:L,type:t,popupFromSelector:D,popupPositionFromSelector:R,newAgStackInstance:()=>this.newAgStackInstance($,H,L,t)}}newAgStackInstance(e,t,i,s){let n=!t,r;n?r=new e:r=this.frameworkCompWrapper.wrap(e,s.mandatoryMethods,s.optionalMethods,s),this.createBean(r);let a=r.init?.(i);return a==null?An.resolve(r):a.then(()=>r)}mergeParams(e,t,i,s=null,n){let r=U(U({},i),n),a=e,d=a&&a[t.name+"Params"];if(typeof d=="function"){let h=d(i);Hi(r,h)}else typeof d=="object"&&Hi(r,d);return Hi(r,s),r}};var h6={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},p6={name:"headerComponent",optionalMethods:["refresh"]},g6={name:"innerHeaderComponent"},f6={name:"innerHeaderGroupComponent"},m6={name:"headerGroupComponent"};var v6={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0};var C6={name:"loadingCellRenderer",cellRenderer:!0};var b6={name:"loadingOverlayComponent",optionalMethods:["refresh"]},y6={name:"noRowsOverlayComponent",optionalMethods:["refresh"]};var w6={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},S6={name:"loadingCellRenderer",cellRenderer:!0},x6={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},D6={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function E6(e,t){return e.getCompDetailsFromGridOptions(h6,"agDragAndDropImage",t,!0)}function M6(e,t,i){return e.getCompDetails(t,p6,"agColumnHeader",i)}function R6(e,t,i){return e.getCompDetails(t,g6,void 0,i)}function T6(e,t){let i=t.columnGroup.getColGroupDef();return e.getCompDetails(i,m6,"agColumnGroupHeader",t)}function I6(e,t,i){return e.getCompDetails(t,f6,void 0,i)}function A6(e,t){return e.getCompDetailsFromGridOptions(w6,void 0,t,!0)}function F6(e,t){return e.getCompDetailsFromGridOptions(S6,"agLoadingCellRenderer",t,!0)}function P6(e,t){return e.getCompDetailsFromGridOptions(x6,"agGroupRowRenderer",t,!0)}function _6(e,t){return e.getCompDetailsFromGridOptions(D6,"agDetailCellRenderer",t,!0)}function PM(e,t,i){return e.getCompDetails(t,v6,void 0,i)}function k6(e,t,i){return e.getCompDetails(t,C6,"agSkeletonCellRenderer",i,!0)}function L6(e,t){return e.getCompDetailsFromGridOptions(b6,"agLoadingOverlay",t,!0)}function O6(e,t){return e.getCompDetailsFromGridOptions(y6,"agNoRowsOverlay",t,!0)}function uT(e){let t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var hT=new Set,Oh={},fa={},Dh,pT=!1,N6=!1;function B6(e){let[t,i]=e.version.split(".")||[],[s,n]=Dh.split(".")||[];return t===s&&i===n}function G6(e){Dh||(Dh=e.version);let t=i=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${i} Please update all modules to the same version.`;if(e.version?B6(e)||nc(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Dh}.`)):nc(t(`'${e.moduleName}' is incompatible.`)),e.validate){let i=e.validate();i.isValid||nc(`${i.message}`)}}function BC(e,t){G6(e);let i=e.rowModels??["all"];hT.add(e);let s;t!==void 0?(pT=!0,fa[t]===void 0&&(fa[t]={}),s=fa[t]):s=Oh,i.forEach(n=>{s[n]===void 0&&(s[n]={}),s[n][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(n=>BC(n,t))}function V6(e){delete fa[e]}function gT(e,t,i){let s=n=>!!Oh[n]?.[e]||!!fa[t]?.[n]?.[e];return s(i)||s("all")}function fT(){return pT}function H6(e,t){let i=fa[e]??{};return[...Object.values(Oh.all??{}),...Object.values(i.all??{}),...Object.values(Oh[t]??{}),...Object.values(i[t]??{})]}function z6(){return new Set(hT)}function W6(){return N6}var j6=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(let t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{let i=new t;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(i)}),e.derivedBeans?.forEach(t=>{let{beanName:i,bean:s}=t(this);this.beans[i]=s,this.createdBeans.push(s)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(i=>{i.preWireBeans?.(this.beans),i.wireBeans?.(this.beans)}),e.forEach(i=>i.preConstruct?.()),t&&e.forEach(t),e.forEach(i=>i.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;let e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},U6=class extends j6{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),V6(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},$6="ag-column-first",K6="ag-column-last";function mT(e,t,i,s){return _t(e)?[]:CT(e.headerClass,e,t,i,s)}function Zh(e,t,i,s){return _t(e)?[]:CT(e.toolPanelClass,e,t,i,s)}function vT(e,t,i){e.addOrRemoveCssClass($6,i.isColAtEdge(t,"first")),e.addOrRemoveCssClass(K6,i.isColAtEdge(t,"last"))}function q6(e,t,i,s){return je(t,{colDef:e,column:i,columnGroup:s})}function CT(e,t,i,s,n){if(_t(e))return[];let r;if(typeof e=="function"){let a=q6(t,i,s,n);r=e(a)}else r=e;return typeof r=="string"?[r]:Array.isArray(r)?[...r]:[]}var K={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},GC=!1,Nh=0;function Y6(e){Nh>0||(e.addEventListener("keydown",Bh),e.addEventListener("mousedown",Bh))}function X6(e){Nh>0||(e.removeEventListener("keydown",Bh),e.removeEventListener("mousedown",Bh))}function Bh(e){let t=GC,i=e.type==="keydown";i&&(e.ctrlKey||e.metaKey||e.altKey)||t!==i&&(GC=i)}function Z6(e){let t=Jt(e);return Y6(t),Nh++,()=>{Nh--,X6(t)}}function sb(){return GC}function bT(e,t,i){t.addManagedElementListeners(i,{keydown:s=>{if(!s.defaultPrevented&&s.key===K.TAB){let n=s.shiftKey;Ts(e,i,!1,n)||Es(e,n)&&s.preventDefault()}}})}function Xs(e,t,i=!1){let s=KV,n=yR;t&&(n+=", "+t),i&&(n+=', [tabindex="-1"]');let r=Array.prototype.slice.apply(e.querySelectorAll(s)).filter(h=>nr(h)),a=Array.prototype.slice.apply(e.querySelectorAll(n));return a.length?((h,v)=>h.filter(b=>v.indexOf(b)===-1))(r,a):r}function sr(e,t=!1,i=!1,s=!1){let n=Xs(e,s?".ag-tab-guard":null,i),r=t?Ue(n):n[0];return r?(r.focus({preventScroll:!0}),!0):!1}function Ts(e,t,i,s){let n=Xs(t,i?':not([tabindex="-1"])':null),r=St(e),a;i?a=n.findIndex(h=>h.contains(r)):a=n.indexOf(r);let d=a+(s?-1:1);return d<0||d>=n.length?null:n[d]}function Q6(e,t=5){let i=0;for(;e&&wM(e)===null&&++i<=t;)e=e.parentElement;return wM(e)===null?null:e}function eo(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function nb(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function Es(e,t,i=!1){let s=e.ctrlsSvc.get("gridCtrl");return!i&&s.focusNextInnerContainer(t)?!0:((i||!t&&!s.isDetailGrid())&&s.forceFocusOutOfContainer(t),!1)}function J6(e,t=!1){return e===K.DELETE?!0:!t&&e===K.BACKSPACE?vR():!1}var e4=class extends ee{constructor(e,t,i,s){super(),this.cellCtrl=e,this.rowNode=i,this.rowCtrl=s,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){let t=e.key;switch(t){case K.ENTER:this.onEnterKeyDown(e);break;case K.F2:this.onF2KeyDown(e);break;case K.ESCAPE:this.onEscapeKeyDown(e);break;case K.TAB:this.onTabKeyDown(e);break;case K.BACKSPACE:case K.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case K.DOWN:case K.UP:case K.RIGHT:case K.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{let i=this.cellCtrl.getFocusedCellPosition();this.beans.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){let{rangeSvc:t,navigation:i}=this.beans;if(!t)return;let s=t.extendLatestRangeInDirection(e);s&&i?.ensureCellVisible(s)}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){let{cellCtrl:i,beans:s,rowNode:n}=this,{gos:r,rangeSvc:a,eventSvc:d}=s;if(!i.editing){if(d.dispatchEvent({type:"keyShortcutChangedCellStart"}),J6(e,r.get("enableCellEditingOnBackspace"))){if(a&&Ca(r))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){let{column:h}=i,v=this.beans.valueSvc.getDeleteValue(h,n);n.setDataValue(h,v,"cellClear")}}else s.editSvc?.startRowOrCellEdit(i,e,t);d.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){let{cellCtrl:t,beans:i}=this;if(t.editing||this.rowCtrl.editing)this.beans.editSvc?.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(i.gos.get("enterNavigatesVertically")){let s=e.shiftKey?K.UP:K.DOWN;i.navigation?.navigateToNextCell(null,s,t.cellPosition,!1)}else i.editSvc?.startRowOrCellEdit(t,K.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){let{cellCtrl:t,beans:i}=this;t.editing||i.editSvc?.startRowOrCellEdit(t,K.F2,e)}onEscapeKeyDown(e){let{cellCtrl:t,beans:i}=this;t.editing&&i.editSvc?.stopRowOrCellEdit(t,!0)}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.editing)return;let s=e.key;s===K.SPACE?this.onSpaceKeyDown(e):this.beans.editSvc?.startRowOrCellEdit(this.cellCtrl,s,e)&&e.preventDefault()}onSpaceKeyDown(e){let{gos:t}=this.beans;!this.cellCtrl.editing&&GR(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,this.rowNode,"spaceKey"),e.preventDefault()}destroy(){super.destroy()}},t4=class extends ee{constructor(e,t,i){super(),this.cellCtrl=e,this.column=i,this.beans=t}onMouseEvent(e,t){if(!Sn(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;let{eventSvc:t,rangeSvc:i,gos:s,editSvc:n}=this.beans,r=e.ctrlKey||e.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.cellPosition)>1&&i.intersectLastRange(!0);let a=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(a);let d=this.column.getColDef();d.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{d.onCellClicked(a)})},0),(s.get("singleClickEdit")||d.singleClickEdit)&&!s.get("suppressClickEdit")&&!(e.shiftKey&&i?.getCellRanges().length!=0)&&n?.startRowOrCellEdit(this.cellCtrl,void 0,e)}onCellDoubleClicked(e){let{column:t,beans:i,cellCtrl:s}=this,{eventSvc:n,frameworkOverrides:r,gos:a,editSvc:d}=i,h=t.getColDef(),v=s.createEvent(e,"cellDoubleClicked");n.dispatchEvent(v),typeof h.onCellDoubleClicked=="function"&&window.setTimeout(()=>{r.wrapOutgoing(()=>{h.onCellDoubleClicked(v)})},0),!a.get("singleClickEdit")&&!a.get("suppressClickEdit")&&d?.startRowOrCellEdit(s,null,e)}onMouseDown(e){let{ctrlKey:t,metaKey:i,shiftKey:s}=e,n=e.target,{cellCtrl:r,beans:a}=this,{eventSvc:d,rangeSvc:h,rowNumbersSvc:v,focusSvc:b,gos:D}=a;if(this.isRightClickInExistingRange(e))return;let R=h&&!h.isEmpty(),A=this.containsWidget(n),{cellPosition:k}=r,L=_h(k.column);if(v&&L&&!v.handleMouseDownOnCell(k,e)){h&&e.preventDefault(),e.stopImmediatePropagation();return}if(!s||!R){let $=D.get("enableCellTextSelection")&&e.defaultPrevented,Z=(lc()||$)&&!r.editing&&!XC(n)&&!A;r.focusCell(Z)}if(s&&R&&!b.isCellFocused(k)){e.preventDefault();let H=b.getFocusedCell();if(H){let{column:$,rowIndex:Z,rowPinned:Q}=H,W=a.rowRenderer.getRowByPosition({rowIndex:Z,rowPinned:Q})?.getCellCtrl($);W?.editing&&W.stopEditing(),b.setFocusedCell({column:$,rowIndex:Z,rowPinned:Q,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!A){if(h)if(L&&e.preventDefault(),s)h.extendLatestRangeToCell(k);else{let H=t||i;h.setRangeToCell(k,H)}d.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){let{rangeSvc:t}=this.beans;if(t){let i=t.isCellInAnyRange(this.cellCtrl.cellPosition),s=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(e){return ua(e,"ag-selection-checkbox",3)||ua(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),i?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;let{eventSvc:t,colHover:i}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),i?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;let t=this.cellCtrl.eGui,i=t.contains(e.target),s=t.contains(e.relatedTarget);return i&&s}destroy(){super.destroy()}},i4=class extends ee{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;let e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){let t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){let e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){let e=this.getColSpanningList();wa(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;let e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){let{column:e,rowNode:t}=this,i=e.getColSpan(t),s=[];if(i===1)s.push(e);else{let n=e,r=e.getPinned();for(let a=0;n&&a<i&&(s.push(n),n=this.beans.visibleCols.getColAfter(n),!(!n||_t(n)||r!==n.getPinned()));a++);}return s}onLeftChanged(){if(!this.eSetLeft)return;let e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Ue(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;let{visibleCols:t}=this.beans,i=t.getColsLeftWidth();if(this.column.getPinned()==="right"){let s=t.bodyWidth;return i+s+(e||0)}return i+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;let i=HR(this.beans)*this.rowSpan;this.eContent.style.height=`${i}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},s4="ag-cell",n4="ag-cell-auto-height",r4="ag-cell-normal-height",o4="ag-cell-focus",a4="ag-cell-first-right-pinned",l4="ag-cell-last-left-pinned",c4="ag-cell-not-inline-editing",d4="ag-cell-wrap-text",Gh="cellCtrl";function yT(e,t){return QR(e,t,Gh)}var u4=0,Eh=class extends ee{constructor(e,t,i,s){super(),this.column=e,this.rowNode=t,this.rowCtrl=s,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=i;let{colId:n,colIdSanitised:r}=e;this.instanceId=n+"-"+u4++,this.colIdSanitised=r,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){let{beans:e}=this;this.positionFeature=new i4(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.mouseListener=new t4(this,e,this.column),this.keyboardListener=new e4(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();let{rangeSvc:t}=e;t&&Ca(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){let e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,i,s,n,r,a){this.comp=e,this.eGui=t,this.printLayout=n,a??(a=this),this.addDomData(a),this.addFeatures(),a.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,a),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),r&&this.isCellEditable()?this.beans.editSvc?.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(d=>d()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){let e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){let{beans:i,column:s,rowNode:n,rangeFeature:r}=this,{userCompFactory:a}=i,d=this.getValueToDisplay(),h,v=n.stub&&n.groupData?.[s.getId()]==null,b=s.getColDef();if(v||this.isCellRenderer()){let D=this.createCellRendererParams();!v||_h(s)?h=PM(a,b,D):h=k6(a,b,D)}if(!h&&!v&&i.findSvc?.isMatch(n,s)){let D=this.createCellRendererParams();h=PM(a,be(U({},s.getColDef()),{cellRenderer:"agFindCellRenderer"}),D)}this.comp.setRenderDetails(h,d,e),!t&&r&&Rs(i,()=>r?.refreshHandle())}setupControlComps(){let e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){let{rowSelection:t,groupDisplayType:i}=this.beans.gridOptions,s=CH(t),n=iT(this.column);return i==="custom"&&s!=="selectionColumn"&&n?!1:e.checkboxSelection||n&&typeof t=="object"&&vH(t)}refreshShouldDestroy(){let e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),s=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return t||i||s||n}onPopupEditorClosed(){this.editing&&this.beans.editSvc?.stopRowOrCellEdit(this)}stopEditing(e=!1){return this.beans.editSvc?.stopEditing(this,e)??!1}createCellRendererParams(){let{value:e,valueFormatted:t,column:i,rowNode:s,comp:n,eGui:r,beans:{valueSvc:a,gos:d}}=this;return je(d,{value:e,valueFormatted:t,getValue:()=>a.getValueForDisplay(i,s),setValue:v=>a.setValue(s,i,v),formatValue:this.formatValue.bind(this),data:s.data,node:s,pinned:i.getPinned(),colDef:i.getColDef(),column:i,refreshCell:this.refreshCell.bind(this),eGridCell:r,eParentOfValue:n.getParentOfValue(),registerRowDragger:(v,b,D,R)=>this.registerRowDragger(v,b,R),setTooltip:(v,b)=>{d.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(v,b),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell(e){if(this.suppressRefreshCell||this.editing)return;let t=this.column.getColDef(),i=e!=null&&!!e.newData,s=e!=null&&!!e.suppressFlash,n=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,r=e&&e.forceRefresh||n||i,a=!!this.comp,d=this.updateAndFormatValue(a),h=r||d;if(a){if(h){this.showValue(i,!1);let v=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!s&&!v&&t.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){let t=this.value,i=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(e,t){let i=this.column.getColDef();return i.equals?i.equals(e,t):e===t}addDomData(e){let t=this.eGui;ma(this.beans.gos,t,Gh,this),e.addDestroyFunc(()=>ma(this.beans.gos,t,Gh,null))}createEvent(e,t){let{rowNode:i,column:s,value:n,beans:r}=this;return je(r.gos,{type:t,node:i,data:i.data,value:n,column:s,colDef:s.getColDef(),rowPinned:i.rowPinned,event:e,rowIndex:i.rowIndex})}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){let{comp:e,column:t,beans:i}=this;vT(e,t,i.visibleCols)}refreshAriaColIndex(){let e=this.beans.visibleCols.getAriaColIndex(this.column);hR(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){let{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell(be(U({},this.getFocusedCellPosition()),{forceBrowserFocus:e}))}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;let t=()=>{if(!this.isAlive())return;let i=this.comp.getFocusableElement();this.isCellFocused()&&i.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged()}onSuppressCellFocusChanged(e){let t=this.eGui;t&&(_h(this.column)&&(e=!0),ha(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;let e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(a4,e)}onLastLeftPinnedChanged(){if(!this.comp)return;let e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(l4,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){let e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){let{beans:t}=this;if(nb(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}let i=this.isCellFocused();if(this.comp.addOrRemoveCssClass(o4,i),i&&e&&e.forceBrowserFocus){let n=this.comp.getFocusableElement();if(this.editing){let r=Xs(n,null,!0);r.length&&(n=r[0])}n.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}let s=t.gos.get("editType")==="fullRow";!i&&!s&&this.editing&&t.editSvc?.stopRowOrCellEdit(this),i&&this.rowCtrl.announceDescription()}createCellPosition(){let{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Jr(t),column:this.column}}setInlineEditingCss(){this.beans.editSvc?.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){let{comp:e}=this;e.addOrRemoveCssClass(s4,!0),e.addOrRemoveCssClass(c4,!0);let t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(n4,t),e.addOrRemoveCssClass(r4,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){let e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(d4,e)}dispatchCellContextMenuEvent(e){let t=this.column.getColDef(),i=this.createEvent(e,"cellContextMenu"),{beans:s}=this;s.eventSvc.dispatchEvent(i),t.onCellContextMenu&&window.setTimeout(()=>{s.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(i)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(St(this.beans))??!1}createSelectionCheckbox(){let e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){let e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}let s=this.createRowDragComp(e,t,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(e,t,i){let s=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,i);if(s)return this.beans.context.createBean(s),s}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},wT="__ag_grid_instance";function ST(e,t){t[wT]=e.gridInstanceId}function ac(e,t){return h4(e,t.target)}function h4(e,t){let i=t;for(;i;){let s=i[wT];if(Ee(s))return s===e.gridInstanceId;i=i.parentElement}return!1}function p4(e,t){return yT(e,t.target)?.getFocusedCellPosition()??null}var ns=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(ns||{}),g4=class extends ee{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){let i={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:i,dragSource:e}),this.dragSvc.addDragSource(i)}getDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){let{dragSourceAndParamsList:t,dragSvc:i}=this,s=t.find(n=>n.dragSource===e);s&&(i.removeDragSource(s.params),Mn(t,s))}destroy(){let{dragSourceAndParamsList:e,dragSvc:t,dropTargets:i}=this;e.forEach(s=>t.removeDragSource(s.params)),e.length=0,i.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();let{lastDropTarget:t}=this;if(t?.onDragStop){let i=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){let{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){let i=this.getHorizontalDirection(e),s=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);let n=this.dropTargets.filter(b=>this.isMouseOnDropTarget(e,b)),r=this.findCurrentDropTarget(e,n),{lastDropTarget:a,dragSource:d,dragAndDropImageComp:h,dragItem:v}=this;if(r!==a){if(this.leaveLastTargetIfExists(e,i,s,t),a!==null&&r===null&&d?.onGridExit?.(v),a===null&&r!==null&&d?.onGridEnter?.(v),this.enterDragTargetIfExists(r,e,i,s,t),r&&h){let{comp:b,promise:D}=h;b?b.setIcon(r.getIconName?r.getIconName():null,!1):D.then(R=>{R&&R.setIcon(r.getIconName?r.getIconName():null,!1)})}this.lastDropTarget=r}else if(r&&r.onDragging){let b=this.createDropTargetEvent(r,e,i,s,t);r.onDragging(b)}}getAllContainersFromDropTarget(e){let t=e.getSecondaryContainers?e.getSecondaryContainers():null,i=[[e.getContainer()]];return t?i.concat(t):i}isMouseOnDropTarget(e,t){let i=this.getAllContainersFromDropTarget(t),s=!1,n=(d,h)=>{for(let v of h){let{width:b,height:D,left:R,right:A,top:k,bottom:L}=v.getBoundingClientRect();if(b===0||D===0)return!1;let H=d.clientX>=R&&d.clientX<A,$=d.clientY>=k&&d.clientY<L;if(!H||!$)return!1}return!0};for(let d of i)if(n(e,d)){s=!0;break}let{eElement:r,type:a}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(r)?!1:s&&t.isInterestedIn(a,r)}findCurrentDropTarget(e,t){let i=t.length;if(i===0)return null;if(i===1)return t[0];let n=va(this.beans).elementsFromPoint(e.clientX,e.clientY);for(let r of n)for(let a of t)if(this.getAllContainersFromDropTarget(a).flatMap(h=>h).indexOf(r)!==-1)return a;return null}enterDragTargetIfExists(e,t,i,s,n){if(e&&e.onDragEnter){let r=this.createDropTargetEvent(e,t,i,s,n);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,i,s){let{lastDropTarget:n}=this;if(!n)return;if(n.onDragLeave){let a=this.createDropTargetEvent(n,e,t,i,s);n.onDragLeave(a)}let r=this.getDragAndDropImageComponent();r&&r.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){let i=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:s}=e;return i.contains(s)}getHorizontalDirection(e){let t=this.eventLastTime?.clientX,i=e.clientX;return t===i?null:t>i?"left":"right"}getVerticalDirection(e){let t=this.eventLastTime?.clientY,i=e.clientY;return t===i?null:t>i?"up":"down"}createDropTargetEvent(e,t,i,s,n){let r=e.getContainer(),a=r.getBoundingClientRect(),{dragItem:d,dragSource:h,gos:v}=this,b=t.clientX-a.left,D=t.clientY-a.top;return je(v,{event:t,x:b,y:D,vDirection:s,hDirection:i,dragSource:h,fromNudge:n,dragItem:d,dropZoneTarget:r})}positionDragAndDropImageComp(e){let t=this.getDragAndDropImageComponent();t&&fH(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){let{dragAndDropImageComp:e}=this;if(e){let{comp:t}=e;if(t){let i=t.getGui();this.dragAndDropImageParent?.removeChild(i),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){let{dragSource:e,gos:t,userCompFactory:i}=this;if(!e)return;let s=E6(i,je(t,{dragSource:e}));if(!s)return;let n=s.newAgStackInstance();this.dragAndDropImageComp={promise:n},n.then(r=>{!r||!this.isAlive()||(this.processDragAndDropImageComponent(r),this.dragAndDropImageComp.comp=r)})}processDragAndDropImageComponent(e){let{dragSource:t,environment:i}=this;if(!t)return;let s=e.getGui();s.style.setProperty("position","absolute"),s.style.setProperty("z-index","9999"),ST(this.gos,s),i.applyThemeClasses(s),e.setIcon(null,!1);let{dragItemName:n}=t;typeof n=="function"&&(n=n()),e.setLabel(n||""),s.style.top="20px",s.style.left="20px";let r=ib(this.beans);this.dragAndDropImageParent=r,r?r.appendChild(s):ue(54)}registerGridDropTarget(e,t){let i={getContainer:e,isInterestedIn:s=>s===1||s===0,getIconName:()=>"notAllowed"};this.addDropTarget(i),t.addDestroyFunc(()=>this.removeDropTarget(i))}},xT=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){let i=t||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;let s=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<s.left+n,this.tickRight=e.clientX>s.right-n,this.tickUp=e.clientY<s.top+n&&!i,this.tickDown=e.clientY>s.bottom-n&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){let t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){let t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function f4(e,t){let i=e.column===t.column,s=e.rowPinned===t.rowPinned,n=e.rowIndex===t.rowIndex;return i&&s&&n}function m4(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ee(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function v4(e){let t=0,i,{pinnedRowModel:s,rowModel:n,pageBounds:r}=e;return s?.getPinnedTopRowCount()?i="top":n.getRowCount()?(i=null,t=r.getFirstRow()):s?.getPinnedBottomRowCount()&&(i="bottom"),i===void 0?null:{rowIndex:t,rowPinned:i}}function C4(e){let t,i=null,{pinnedRowModel:s,pageBounds:n}=e,r=s?.getPinnedBottomRowCount(),a=s?.getPinnedTopRowCount();return r?(i="bottom",t=r-1):e.rowModel.getRowCount()?(i=null,t=n.getLastRow()):a&&(i="top",t=a-1),t===void 0?null:{rowIndex:t,rowPinned:i}}function DT(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function fh(e,t){let i=e.spannedRowRenderer?.getCellByPosition(t);if(i)return i;let s=e.rowRenderer.getRowByPosition(t);return s?s.getCellCtrl(t.column):null}function Vh(e,t){let{rowIndex:i,rowPinned:s}=t,{pageBounds:n,pinnedRowModel:r,rowModel:a}=e;if(i===0)return s==="top"?null:s==="bottom"&&a.isRowsToRender()?{rowIndex:n.getLastRow(),rowPinned:null}:r?.isRowsToRender("top")?{rowIndex:r.getPinnedTopRowCount()-1,rowPinned:"top"}:null;let d=s?void 0:a.getRow(i);return ET(e,d,!0)??{rowIndex:i-1,rowPinned:s}}function _M(e,t){let{rowIndex:i,rowPinned:s}=t,{pageBounds:n,pinnedRowModel:r,rowModel:a}=e;if(b4(e,t))return s==="bottom"?null:s==="top"&&a.isRowsToRender()?{rowIndex:n.getFirstRow(),rowPinned:null}:r?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;let d=s?void 0:a.getRow(i);return ET(e,d)??{rowIndex:i+1,rowPinned:s}}function ET(e,t,i){let{gos:s,rowRenderer:n}=e;if(!t?.sticky||!jR(s))return;let r=i?n.getStickyTopRowCtrls():n.getStickyBottomRowCtrls(),a;for(let d=0;d<r.length;d++)if(r[d].rowNode.rowIndex===t.rowIndex){a=r[d+(i?-1:1)];break}return a?{rowIndex:a.rowNode.rowIndex,rowPinned:null}:void 0}function b4(e,t){let{rowPinned:i,rowIndex:s}=t,{pinnedRowModel:n,pageBounds:r}=e;return i==="top"?(n?.getPinnedTopRowCount()??0)-1<=s:i==="bottom"?(n?.getPinnedBottomRowCount()??0)-1<=s:r.getLastRow()<=s}function MT(e,t,i){if(i===0)return!1;let s=Math.abs(e.clientX-t.clientX),n=Math.abs(e.clientY-t.clientY);return Math.max(s,n)<=i}var y4=class extends ee{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){let{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){let t=e.dragSource.eElement,i=e.mouseDownListener;if(t.removeEventListener("mousedown",i),e.touchEnabled){let s=e.touchStartListener;t.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(e){let{dragSources:t}=this,i=t.find(s=>s.dragSource===e);i&&(this.removeListener(i),Mn(t,i))}addDragSource(e){let t=this.onMouseDown.bind(this,e),{eElement:i,includeTouch:s,stopPropagationForTouch:n}=e;i.addEventListener("mousedown",t);let r=null,a=this.gos.get("suppressTouch");s&&!a&&(r=d=>{XC(d.target)||(n&&d.stopPropagation(),this.onTouchStart(e,d))},i.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!s})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;let i=t.touches[0];this.touchLastTime=i,this.touchStart=i;let s=h=>this.onTouchMove(h,e.eElement),n=h=>this.onTouchUp(h,e.eElement),r=h=>{h.cancelable&&h.preventDefault()},a=t.target,d=[{target:va(this.beans),type:"touchmove",listener:r,options:{passive:!1}},{target:a,type:"touchmove",listener:s,options:{passive:!0}},{target:a,type:"touchend",listener:n,options:{passive:!0}},{target:a,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(d),e.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,e.eElement)}onMouseDown(e,t){let i=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;let s=v=>this.onMouseMove(v,e.eElement),n=v=>this.onMouseUp(v,e.eElement),r=v=>v.preventDefault(),a=v=>{v.key===K.ESCAPE&&this.cancelDrag(e.eElement)},d=va(this.beans),h=[{target:d,type:"mousemove",listener:s},{target:d,type:"mouseup",listener:n},{target:d,type:"contextmenu",listener:r},{target:d,type:"keydown",listener:a}];this.addTemporaryEvents(h),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{let{target:i,type:s,listener:n,options:r}=t;i.addEventListener(s,n,r)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{let{target:i,type:s,listener:n,options:r}=t;i.removeEventListener(s,n,r)})})}isEventNearStartEvent(e,t){let{dragStartPixels:i}=this.currentDragParams,s=Ee(i)?i:4;return MT(e,t,s)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,i){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){let i=this.getFirstActiveTouch(e.touches);i&&this.onCommonMove(i,this.touchStart,t)}onMouseMove(e,t){lc()&&Jt(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){let{gos:t}=this,i=t.get("enableCellTextSelection"),s=e.type==="mousemove",n=r=>!!r.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return i&&s&&e.cancelable&&ac(t,e)&&!n(e)}onTouchUp(e,t){let i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;let{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function RT(e,t){return e+"_"+t}function It(e){return e instanceof TT}var TT=class extends ee{constructor(e,t,i,s){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=i,this.pinned=s,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return RT(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){let e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{It(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){let t=Ue(this.displayedChildren).getLeft();this.setLeft(t)}else{let e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){let e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){let e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){let t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{En(t)?e.push(t):It(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{En(t)?e.push(t):It(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){let e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(It(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},VC="row-group-",w4="t-",S4="b-",x4=0,IT=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=x4++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){let{valueCache:i,selectionSvc:s,eventSvc:n}=this.beans,r=this.data;this.data=e,i?.onDataChanged(),this.updateDataOnDetailNode(),s?.updateRowSelectable(this),this.resetQuickFilterAggregateText();let a=this.createDataChangedEvent(e,r,t);this.__localEventService?.dispatchEvent(a),n.dispatchEvent({type:"rowNodeDataChanged",node:this})}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,i){return{type:"dataChanged",node:this,oldData:t,newData:e,update:i}}getRowIndexString(){return this.rowIndex==null?(ei(13),null):this.rowPinned==="top"?w4+this.rowIndex:this.rowPinned==="bottom"?S4+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){let{selectionSvc:i}=this.beans,s=i?.createDaemonNode?.(this),n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),i&&(i.updateRowSelectable(this),i.syncInRowNode(this,s));let r=this.createDataChangedEvent(e,n,!1);this.__localEventService?.dispatchEvent(r)}setId(e){let t=OC(this.beans.gos);if(t)if(this.data){let i=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(VC)&&ei(14,{groupPrefix:VC})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,i){this.beans.expansionSvc?.setExpanded(this,e,t,i)}setDataValue(e,t,i){let{colModel:s,valueSvc:n,gos:r,selectionSvc:a}=this.beans,d=typeof e!="string"?e:s.getCol(e)??s.getColDefCol(e);if(!d)return!1;let h=n.getValueForDisplay(d,this);if(r.get("readOnlyEdit")){let{beans:{eventSvc:b},data:D,rowIndex:R,rowPinned:A}=this;return b.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:R,rowPinned:A,column:d,colDef:d.colDef,data:D,node:this,oldValue:h,newValue:t,value:t,source:i}),!1}let v=n.setValue(this,d,t,i);return this.dispatchCellChangedEvent(d,t,h),a?.updateRowSelectable(this),v}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,i){let s={type:"cellChanged",node:this,column:e,newValue:t,oldValue:i};this.__localEventService?.dispatchEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,i="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:i})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new Dn),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new Dn),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);let i=this.frameworkEventListenerService?.wrap(t)??t;this.__localEventService.addEventListener(e,i)}removeEventListener(e,t){let i=this.frameworkEventListenerService?.unwrap(t)??t;this.removeLocalListener(e,i)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(ue(61),this.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;let e=[],t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};var AT="ag-resizer-wrapper",Qn=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),D4={tag:"div",cls:AT,children:[Qn("eTopLeft","topLeft"),Qn("eTop","top"),Qn("eTopRight","topRight"),Qn("eRight","right"),Qn("eBottomRight","bottomRight"),Qn("eBottom","bottom"),Qn("eBottomLeft","bottomLeft"),Qn("eLeft","left")]},Qh=class extends ee{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){let{clientHeight:e,clientWidth:t}=this.offsetParent,i=t/2-this.getWidth()/2,s=e/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;let{centered:e,forcePopupParentAsOffsetParent:t,minWidth:i,width:s,minHeight:n,height:r,x:a,y:d}=this.config;this.offsetParent||this.setOffsetParent();let h=0,v=0,b=nr(this.element);if(b){let D=this.findBoundaryElement(),R=window.getComputedStyle(D);if(R.minWidth!=null){let A=D.offsetWidth-this.element.offsetWidth;v=parseInt(R.minWidth,10)-A}if(R.minHeight!=null){let A=D.offsetHeight-this.element.offsetHeight;h=parseInt(R.minHeight,10)-A}}if(this.minHeight=n||h,this.minWidth=i||v,s&&this.setWidth(s),r&&this.setHeight(r),(!s||!r)&&this.refreshSize(),e)this.center();else if(a||d)this.offsetElement(a,d);else if(b&&t){let D=this.boundaryEl,R=!0;if(D||(D=this.findBoundaryElement(),R=!1),D){let A=parseFloat(D.style.top),k=parseFloat(D.style.left);R?this.offsetElement(isNaN(k)?0:k,isNaN(A)?0:A):this.setPosition(k,A)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;let i=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(i),this.moveElementDragListener=i):(this.dragSvc?.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{let s=!!e[t],n=this.getResizerElement(t),r={dragStartPixels:0,eElement:n,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(s||!this.isAlive()&&!s)&&(s?(this.dragSvc?.addDragSource(r),this.resizeListeners.push(r),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";let{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){let{popup:t}=this.config,i=this.element,s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)sc(i,e),e=xR(i),s=!0;else if(e=Math.max(this.minHeight,e),this.positioned){let n=this.getAvailableHeight();n&&e>n&&(e=n)}this.getHeight()!==e&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):t?sc(i,e):(i.style.height=`${e}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){let{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();let{clientHeight:i}=this.offsetParent;if(!i)return null;let s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:s.top,a=e?0:n.top,d=0;if(t){let v=this.element.parentElement;if(v){let{bottom:b}=v.getBoundingClientRect();d=b-s.bottom}}return i+a-r-d}getWidth(){return this.element.offsetWidth}setWidth(e){let t=this.element,{popup:i}=this.config,s=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ys(t,e),e=DR(t),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);let{clientWidth:n}=this.offsetParent,r=i?this.position.x:this.element.getBoundingClientRect().left;n&&e+r>n&&(e=n-r)}this.getWidth()!==e&&(s?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Ys(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){let{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupSvc?.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;let t=()=>{let i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=In(this.beans,this.popupSvc?.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){let{e:t,isLeft:i,isTop:s,anywhereWithin:n,topBuffer:r}=e,a=t.clientX-this.dragStartPosition.x,d=t.clientY-this.dragStartPosition.y,h=this.shouldSkipX(t,!!i,!!n,a)?0:a,v=this.shouldSkipY(t,!!s,r,d)?0:d;return{movementX:h,movementY:v}}shouldSkipX(e,t,i,s){let n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),d=this.config.popup?this.position.x:n.left,h=d<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=a.right;return h?!0:(t?h=s<0&&e.clientX>d+r.left||s>0&&e.clientX<d+r.left:i?h=s<0&&e.clientX>a.right||s>0&&e.clientX<d+r.left:h=s<0&&e.clientX>a.right||s>0&&e.clientX<a.right,h)}shouldSkipY(e,t,i=0,s){let n=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),a=this.boundaryEl.getBoundingClientRect(),d=this.config.popup?this.position.y:n.top,h=d<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=a.bottom;return h?!0:(t?h=s<0&&e.clientY>d+r.top+i||s>0&&e.clientY<d+r.top:h=s<0&&e.clientY>a.bottom||s>0&&e.clientY<a.bottom,h)}createResizeMap(){let e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;let e=this.element;e&&(e.appendChild(Qe(D4)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;let e=this.element.querySelector(`.${AT}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");let{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){let t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){let e=this.getSiblings()||[],t=0,i=0;for(let s=0;s<e.length;s++){let n=e[s],r=!!n.style.flex&&n.style.flex!=="0 0 auto";if(n===this.element)continue;let a=this.minHeight||0,d=this.minWidth||0;if(r){let h=window.getComputedStyle(n);h.minHeight&&(a=parseInt(h.minHeight,10)),h.minWidth&&(d=parseInt(h.minWidth,10))}else a=n.offsetHeight,d=n.offsetWidth;t+=a,i+=d}return{height:t,width:i}}applySizeToSiblings(e){let t=null,i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){let n=i[s];n!==t&&(e?n.style.height=`${n.offsetHeight}px`:n.style.width=`${n.offsetWidth}px`,n.style.flex="0 0 auto",n===this.element&&(t=i[s+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;let{popup:t,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:n,isBottom:r,isLeft:a}=this.currentResizer,d=n||a,h=r||s,{movementX:v,movementY:b}=this.calculateMouseMovement({e,isLeft:a,isTop:s}),D=this.position.x,R=this.position.y,A=0,k=0;if(d&&v){let L=a?-1:1,H=this.getWidth(),$=H+v*L,Z=!1;a&&(A=H-$,(D+A<=0||$<=this.minWidth)&&(Z=!0,A=0)),Z||this.setWidth($)}if(h&&b){let L=s?-1:1,H=this.getHeight(),$=H+b*L,Z=!1;s?(k=H-$,(R+k<=0||$<=this.minHeight)&&(Z=!0,k=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&H<$&&this.getMinSizeOfSiblings().height+$>this.element.parentElement.offsetHeight&&(Z=!0),Z||this.setHeight($)}this.updateDragStartPosition(e.clientX,e.clientY),((t||i)&&A||k)&&this.offsetElement(D+A,R+k)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){let e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;let{x:t,y:i}=this.position,s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());let{movementX:n,movementY:r}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(t+n,i+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){let e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},rb="ag-focus-managed",rr=class extends ee{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks=U({shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;let s=Ts(this.beans,this.eFocusable,!1,i.shiftKey);s&&(s.focus(),i.preventDefault())}},t)}postConstruct(){let{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:i}}=this;e.classList.add(rb),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),i&&this.addManagedElementListeners(e,{focusout:i})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Sn(t))return;let{callbacks:i}=this;if(i.shouldStopEventPropagation(t)){Zs(t);return}t.key===K.TAB?i.onTabKeyDown(t):i.handleKeyDown&&i.handleKeyDown(t)}})}};var ws={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},ob=class extends ee{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){let e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},i=t.autoHeight?ws.AUTO_HEIGHT:t.print?ws.PRINT:ws.NORMAL;this.view.updateLayoutClasses(i,t)}},Jn="Viewport",kM="fakeVScrollComp",LM=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],OM=100,hC=150,E4=class extends ee{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=ir(this,()=>this.lastScrollSource[1]=null,hC),this.resetLastVScrollDebounced=ir(this,()=>this.lastScrollSource[0]=null,hC)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");let e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,i=>{this.centerRowsCtrl=i.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Jn)});for(let e of LM){let t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){let e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),i=t?ir(this,this.onVScroll.bind(this,Jn),OM):this.onVScroll.bind(this,Jn),s=t?ir(this,this.onVScroll.bind(this,kM),OM):this.onVScroll.bind(this,kM);this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(e,s)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(let t of[...LM,Jn]){if(this.lastScrollSource[1]===t)continue;let i=this.getViewportForSource(t);Ah(i,e,this.enableRtl)}}getViewportForSource(e){return e===Jn?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;let t=this.centerRowsCtrl.eViewport,{scrollLeft:i}=t;if(this.shouldBlockScrollUpdate(1,i,!0))return;let s=Ih(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Jn?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;let{animationFrameSvc:i}=this;i?.setScrollTop(t),this.nextScrollTop=t,e===Jn?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,i?.active?i.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){let t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){let t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent(be(U({},t),{type:"bodyScrollEnd"}))},hC)}shouldBlockScrollUpdate(e,t,i=!1){return i&&!ic()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){let t=SR(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return e<0||e+t>i}shouldBlockHorizontalScroll(e){let t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&Th()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Jn)}scrollGridIfNeeded(e=!1){let t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){let s=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Th()?e=e>0?0:s:e=Math.min(Math.max(e,0),s)),Ah(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){let{lastOffsetHeight:i,lastScrollTop:s}=this;return{top:s,bottom:s+i}}this.isVerticalPositionInvalidated=!1;let{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){let t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){let{rowModel:i}=this.beans,s=i.getRowCount(),n=-1;for(let r=0;r<s;r++){let a=i.getRow(r);if(typeof e=="function"){if(a&&e(a)){n=r;break}}else if(e===a||e===a.data){n=r;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(vi(this.gos,"print"))return;let{rowModel:i}=this.beans,s=i.getRowCount();if(typeof e!="number"||e<0||e>=s){ue(88,{index:e});return}let{frameworkOverrides:n,pageBounds:r,rowContainerHeight:a,rowRenderer:d}=this.beans;n.wrapIncoming(()=>{let h=this.ctrlsSvc.getGridBodyCtrl(),v=i.getRow(e),b,D,R=0;this.invalidateVerticalScroll();do{let{stickyTopHeight:A,stickyBottomHeight:k}=h,L=v.rowTop,H=v.rowHeight,$=r.getPixelOffset(),Z=v.rowTop-$,Q=Z+v.rowHeight,se=this.getVScrollPosition(),W=a.divStretchOffset,le=se.top+W,me=se.bottom+W,Fe=me-le,ye=a.getScrollPositionForPixel(Z),tt=a.getScrollPositionForPixel(Q-Fe),ct=Math.min((ye+tt)/2,Z),ti=le+A>Z,ii=me-k<Q,$t=null;t==="top"?$t=ye-A:t==="bottom"?$t=tt+k:t==="middle"?$t=ct:ti?$t=ye-A:ii&&($t=tt+k),$t!==null&&(this.setVerticalScrollPosition($t),d.redraw({afterScroll:!0})),b=L!==v.rowTop||H!==v.rowHeight,D=A!==h.stickyTopHeight||k!==h.stickyBottomHeight,R++}while((b||D)&&R<10);this.animationFrameSvc?.flushAllFrames()})}ensureColumnVisible(e,t="auto"){let{colModel:i,frameworkOverrides:s}=this.beans,n=i.getCol(e);if(!n||n.isPinned()||!this.visibleCols.isColDisplayed(n))return;let r=this.getPositionedHorizontalScroll(n,t);s.wrapIncoming(()=>{r!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(r),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){let{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(e),n=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),a=this.enableRtl,d=(a?i:s)||n,h=a?s:i;t!=="auto"&&(d=t==="start",h=t==="end");let v=t==="middle";if(d||h||v){let{colLeft:b,colMiddle:D,colRight:R}=this.getColumnBounds(e);return v?D-r/2:d?a?R:b:a?b-r:R-r}return null}isColumnOutsideViewport(e){let{start:t,end:i}=this.getViewportBounds(),{colLeft:s,colRight:n}=this.getColumnBounds(e),r=this.enableRtl,a=r?t>n:i<n,d=r?i<s:t>s;return{columnBeforeStart:a,columnAfterEnd:d}}getColumnBounds(e){let t=this.enableRtl,i=this.visibleCols.bodyWidth,s=e.getActualWidth(),n=e.getLeft(),r=t?-1:1,a=t?i-n:n,d=a+s*r,h=a+s/2*r;return{colLeft:a,colMiddle:h,colRight:d}}getViewportBounds(){let e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=t,s=e+t;return{start:i,end:s,width:e}}},ab=class extends ee{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){let e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){let e=vi(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:i}=this.beans,s=t.bodyWidth,n=t.getColsLeftWidth(),r=t.getDisplayedColumnsRightWidth(),a;e?a=s+n+r:(a=s,this.addSpacer&&(this.gos.get("enableRtl")?n:r)===0&&i.verticalScrollShowing&&(a+=i.getScrollbarWidth())),this.callback(a)}},M4=class extends ee{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){let{beans:e,centerContainerCtrl:t,gridBodyCtrl:i}=this,s=()=>{Rs(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(s),i.registerBodyViewportResizeListener(s)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){let{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();let i=this.centerContainerCtrl.getCenterWidth();i!==this.centerWidth&&(this.centerWidth=i,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){let e=this.gridBodyCtrl.eBodyViewport,t=SR(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){let e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){let e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function NM(e){if(e.group)return e.level;let t=e.parent;return t?t.level+1:0}var R4=0,Hh="renderedRow",HC=class extends ee{constructor(e,t,i,s,n){super(),this.rowNode=e,this.useAnimationFrameForCreate=s,this.printLayout=n,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+R4++,this.rowId=xs(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=NM(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;let e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=xs(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,i,s){let{context:n,focusSvc:r}=this.beans;s=Xh(this,n,s);let a={rowComp:e,element:t,containerType:i,compBean:s};this.allRowGuis.push(a),this.updateGui(i,a),this.initialiseRowComp(a);let d=this.rowNode,h=this.rowType==="FullWidthLoading"||d.stub,v=!d.data&&this.beans.rowModel.getType()==="infinite";!h&&!v&&!d.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();let b=this.fullWidthGui?.element;b&&!this.editing&&r.isRowFocused(d.rowIndex,d.rowPinned)&&r.shouldTakeFocus()&&setTimeout(()=>b.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){let t=e?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=t)}initialiseRowComp(e){let t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),GR(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);let i=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(n=>i.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Tn(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),ma(t,e.element,Hh,this),e.compBean.addDestroyFunc(()=>ma(t,e.element,Hh,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){let t=xs(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){let{containerType:t}=e;this.slideInAnimation[t]&&(FC(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(FC(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){let t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;let i=this.createBean(t,this.beans.context);this.rowDragComps.push(i),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(s=>s!==i),this.destroyBean(i,this.beans.context)})}setupFullWidth(e){let t=this.getPinnedForContainer(e.containerType),i=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(i)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){let e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;let t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){let{leftGui:e,centerGui:t,rightGui:i,beans:{visibleCols:s}}=this,n=!!e||!s.isPinningLeft(),r=!!t,a=!!i||!s.isPinningRight();return n&&r&&a}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;let e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){let e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.colModel.isPivotMode(),r=!!this.rowNode.group&&!this.rowNode.footer&&UR(this.gos,s);e?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":r?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;let{animationFrameSvc:i}=this.beans;if(!i?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(i.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Eh(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){return!!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,i=null){let s={list:[],map:{}},n=(a,d,h)=>{h!=null?s.list.splice(h,0,d):s.list.push(d),s.map[a]=d},r=[];for(let a of t){let d=a.getInstanceId(),h=e.map[d];h&&this.shouldRecreateCellCtrl(h)&&(h.destroy(),h=void 0),h||(h=this.getNewCellCtrl(a)),h&&n(d,h)}if(this.beans.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned)){let a=this.beans.focusSvc.getFocusedCell().column,d=a.getInstanceId();if(!s.map[d]&&a.getPinned()==i&&this.beans.visibleCols.allCols.includes(a)){let v=this.getNewCellCtrl(a);v&&n(d,v)}}for(let a of e.list){let d=a.column.getInstanceId();if(s.map[d]!=null)continue;!this.isCellEligibleToBeRemoved(a,i)?r.push([d,a]):a.destroy()}if(r.length)for(let[a,d]of r){let h=s.list.findIndex(b=>b.column.getLeft()>d.column.getLeft()),v=h===-1?void 0:Math.max(h-1,0);n(a,d,v)}return s}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{let i=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(i,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){let e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{let i=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i);let s=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,"left");let n=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,t){let{column:n}=e;if(n.getPinned()!=t||this.shouldRecreateCellCtrl(e))return!0;let{editing:r}=e,{visibleCols:a}=this.beans,d=e.isCellFocused();return r||d?!(a.allCols.indexOf(n)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||vi(this.gos,"print")}listenOnDomOrder(e){let t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;let t=Ee(this.rowNode.oldRowTop),{visibleCols:i}=this.beans,s=i.isPinningLeft(),n=i.isPinningRight();if(t){let{slideInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=s,r.right=n}else{let{fadeInAnimation:r}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){r.fullWidth=!0;return}r.center=!0,r.left=s,r.right=n}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){let e=(a,d)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,d).params):!0,t=e(this.fullWidthGui,null),i=e(this.centerGui,null),s=e(this.leftGui,"left"),n=e(this.rightGui,"right");return t&&i&&s&&n}addListeners(){this.addManagedListeners(this.rowNode,U({heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this)},this.beans.expansionSvc?.getRowExpandedListeners(this)??{})),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:e})=>{e&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(t=>{this.addRowDraggerToRow(t)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){let e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{let i=e==="Above",s=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){let e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Jr(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){let t=this.findFullWidthInfoForEvent(e);if(!t)return;let{rowGui:i,column:s}=t;if(!(i.element===e.target))return;let a=this.rowNode,{focusSvc:d,navigation:h}=this.beans,v=d.getFocusedCell(),b={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:v?.column??s};h?.navigateToNextCell(e,e.key,b,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Sn(e))return;let t=this.allRowGuis.find(d=>d.element.contains(e.target)),i=t?t.element:null,s=i===e.target,n=St(this.beans),r=!1;i&&n&&(r=i.contains(n)&&n.classList.contains("ag-cell"));let a=null;!s&&!r&&(a=Ts(this.beans,i,!1,e.shiftKey)),(this.isFullWidth()&&s||!a)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){let e=this.allRowGuis.find(t=>nr(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){let t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(i=>{ha(i.element,"tabindex",t)})}onFullWidthRowFocused(e){let t=this.rowNode,i=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,s;if(this.fullWidthGui)s=this.fullWidthGui.element;else{let r=this.beans.colModel.getCol(e?.column)?.pinned;r?s=r==="right"?this.rightGui?.element:this.leftGui?.element:s=this.centerGui?.element}s&&(s.classList.toggle("ag-full-width-focus",i),i&&e?.forceBrowserFocus&&s.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){let i={list:[],map:{}};return e.list.forEach(s=>{s!==t&&(i.list.push(s),i.map[s.column.getInstanceId()]=s)}),i}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){let{rowNode:i}=this;return je(this.gos,{type:e,node:i,data:i.data,rowIndex:i.rowIndex,rowPinned:i.rowPinned,event:t})}createRowEventWithSource(e,t){let i=this.createRowEvent(e,t);return i.source=this,i}onRowDblClick(e){Sn(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;let t=this.findFullWidthRowGui(e.target),i=this.getColumnForFullWidth(t);if(!(!t||!i))return{rowGui:t,column:i}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){let{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=ua(e.target,"ag-row-drag",3),!this.isFullWidth())return;let t=this.rowNode,{rangeSvc:i,focusSvc:s}=this.beans;i?.removeAllCellRanges();let n=this.findFullWidthInfoForEvent(e);if(!n)return;let{rowGui:r,column:a}=n,d=r.element,h=e.target,v=e.defaultPrevented||lc();d&&d.contains(h)&&XC(h)&&(v=!1),s.setFocusedCell({rowIndex:t.rowIndex,column:a,rowPinned:t.rowPinned,forceBrowserFocus:v})}onRowClick(e){if(Sn(e)||this.lastMouseDownOnDragger)return;let{eventSvc:i,selectionSvc:s}=this.beans;i.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),s?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){let{gos:i,rowNode:s}=this,n=je(i,{fullWidth:!0,data:s.data,node:s,value:s.key,valueFormatted:s.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,d,h,v)=>this.addFullWidthRowDragging(a,d,h,v),setTooltip:(a,d)=>{i.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(a,d)}}),r=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return _6(r,n);case"FullWidthGroup":return n.value=s.groupValue,n.valueFormatted=s.rowGroupColumn?this.beans.valueSvc.formatValue(s.rowGroupColumn,s,n.value):n.value,P6(r,n);case"FullWidthLoading":return F6(r,n);default:return A6(r,n)}}refreshRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,i="",s){let{rowDragSvc:n,context:r}=this.beans;if(!n||!this.isFullWidth())return;let a=n.createRowDragComp(()=>i,this.rowNode,void 0,e,t,s);this.createBean(a,r),this.addDestroyFunc(()=>{this.destroyBean(a,r)})}onUiLevelChanged(){let e=NM(this.rowNode);if(this.rowLevel!=e){let t="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(t,!0),s.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){let e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){let e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){let t=this.getPinnedForContainer(e),i=this.isFullWidth(),{rowNode:s,beans:n}=this,r=[];r.push("ag-row"),r.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&r.push("ag-opacity-zero"),r.push(s.rowIndex%2===0?"ag-row-even":"ag-row-odd"),s.isRowPinned()&&r.push("ag-row-pinned"),s.isSelected()&&r.push("ag-row-selected"),s.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+this.rowLevel),s.stub&&r.push("ag-row-loading"),i&&r.push("ag-full-width-row"),n.expansionSvc?.addExpandedCss(r,s),s.dragging&&r.push("ag-row-dragging");let{rowStyleSvc:a}=n;return a&&(a.processClassesFromGridOptions(r,s),a.preProcessRowClassRules(r,s)),r.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&r.push("ag-row-first"),this.isLastRowOnPage()&&r.push("ag-row-last"),i&&(t==="left"&&r.push("ag-cell-last-left-pinned"),t==="right"&&r.push("ag-cell-first-right-pinned")),r}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;let{element:t,compBean:i}=e,{rowNode:s,beans:n,gos:r}=this;i.addManagedListeners(t,{mouseenter:()=>s.dispatchRowEvent("mouseEnter"),mouseleave:()=>s.dispatchRowEvent("mouseLeave")}),i.addManagedListeners(s,{mouseEnter:()=>{!n.dragSvc?.dragging&&!r.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),s.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){let t=e?[e]:this.allRowGuis.map(i=>i.element);for(let i of t)i.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){let t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(t.top,!0)-100,s=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(i,e),s)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;let t=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),n=VR(this.gos)?kC(this.beans,this.rowNode).height:void 0,r=n?`${Math.min(i,n)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${t}px`,r&&a.element.style.setProperty("--ag-line-height",r)})}destroyFirstPass(e=!1){this.active=!1;let{rowNode:t}=this;if(!e&&pa(this.gos)&&!t.sticky)if(t.rowTop!=null){let n=this.roundRowTopToBounds(t.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(St(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);let i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventSvc.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.beans.editSvc?.stopRowEditing(this);let e=t=>(t.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){let{focusSvc:e,editSvc:t}=this.beans,i=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);i!==this.rowFocused&&(this.rowFocused=i,this.setFocusedClasses()),!i&&this.editing&&t?.stopRowEditing(this,!1)}onPaginationChanged(){let e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;let i=this.beans.pageBounds.getPixelOffset();return e+i*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ee(e)){let t=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";let t=this.rowNode,i;if(t.sticky)i=t.stickyRowTop;else{let s=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,n=this.applyPaginationOffset(s);i=t.isRowPinned()?n:this.beans.rowContainerHeight.getRealPixelPosition(n)}return i+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let i=null;return this.getAllCellCtrls().forEach(s=>{s.column==e&&(i=s)}),i!=null||t||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(e)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){let t=this.rowNode.getRowIndexString();if(t===null)return;let i=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),s=this.rowNode.rowIndex%2===0,n=i+this.rowNode.rowIndex+1;this.forEachGui(e,r=>{r.rowComp.setRowIndex(t),r.rowComp.addOrRemoveCssClass("ag-row-even",s),r.rowComp.addOrRemoveCssClass("ag-row-odd",!s),uR(r.element,n)})}};function FT(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function BM(e,t,i,s,n){let r=s?s.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;let a=je(e,{event:t,editing:n,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(r&&r(a))}function T4(e){let{pinnedRowModel:t,rowModel:i}=e,[s,n]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],r=s?null:"top",a,d;n?(a=null,d=i.getRowCount()-1):(a="bottom",d=t?.getPinnedBottomRowCount()??-1);let{visibleCols:h,rangeSvc:v}=e,b=h.allCols;!v||!b?.length||v.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:d,rowEndPinned:a})}var I4=65,A4=67,F4=86,P4=68,_4=90,k4=89;function L4(e){let{keyCode:t}=e,i;switch(t){case I4:i=K.A;break;case A4:i=K.C;break;case F4:i=K.V;break;case P4:i=K.D;break;case _4:i=K.Z;break;case k4:i=K.Y;break;default:i=e.code}return i}var O4=class extends ee{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this)}addKeyboardListeners(){let e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",ZR("touchstart")?"touchstart":"mousedown"].forEach(i=>{let s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(e,t){if(!ac(this.gos,t)||Sn(t))return;let{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(i?.column&&i.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,s,i)):(i&&i.onMouseEvent(e,t),s&&s.onMouseEvent(e,t))}getControlsForEventTarget(e){let{gos:t}=this;return{cellCtrl:yT(t,e),rowCtrl:QR(t,e,Hh)}}processKeyboardEvent(e,t){let{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(i?this.processCellKeyboardEvent(i,e,t):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,t))}processCellKeyboardEvent(e,t,i){let{rowNode:s,column:n,editing:r}=e;!BM(this.gos,i,s,n,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.editing),FT(i)&&e.processCharacter(i)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,i){let{rowNode:s}=e,{focusSvc:n,navigation:r}=this.beans,a=n.getFocusedCell(),d=a&&a.column;if(!BM(this.gos,i,s,d,!1)){let v=i.key;if(t==="keydown")switch(v){case K.PAGE_HOME:case K.PAGE_END:case K.PAGE_UP:case K.PAGE_DOWN:r?.handlePageScrollingKey(i,!0);break;case K.LEFT:case K.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case K.UP:case K.DOWN:e.onKeyboardNavigate(i);break;case K.TAB:e.onTabKeyDown(i);break;default:}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",i))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!ac(this.gos,e))return;let i=L4(e),{clipboardSvc:s,undoRedo:n}=this.beans;if(i===K.A)return this.onCtrlAndA(e);if(i===K.C)return this.onCtrlAndC(s,e);if(i===K.D)return this.onCtrlAndD(s,e);if(i===K.V)return this.onCtrlAndV(s,e);if(i===K.X)return this.onCtrlAndX(s,e);if(i===K.Y)return this.onCtrlAndY(n);if(i===K.Z)return this.onCtrlAndZ(n,e)}onCtrlAndA(e){let{beans:{rowModel:t,rangeSvc:i,selectionSvc:s},gos:n}=this;i&&Ca(n)&&t.isRowsToRender()?T4(this.beans):s&&s?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:wH(n)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;let{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);i?.editing||s?.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;let{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);i?.editing||s?.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){let{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(t.target);i?.editing||s?.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},PT=class extends ee{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){let t=e.uiContainerHeight,i=t!=null?`${t}px`:"";this.eContainer.style.height=i,this.eViewport&&(this.eViewport.style.height=i)}},mh=e=>e.topRowCtrls,vh=e=>e.getStickyTopRowCtrls(),Ch=e=>e.getStickyBottomRowCtrls(),bh=e=>e.bottomRowCtrls,yh=e=>e.allRowCtrls,pC=e=>e.getCtrls("top"),gC=e=>e.getCtrls("center"),fC=e=>e.getCtrls("bottom"),N4={center:{type:"center",name:"center-cols",getRowCtrls:yh,getSpannedRowCtrls:gC},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:yh,getSpannedRowCtrls:gC},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:yh,getSpannedRowCtrls:gC},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:yh},topCenter:{type:"center",name:"floating-top",getRowCtrls:mh,getSpannedRowCtrls:pC},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:mh,getSpannedRowCtrls:pC},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:mh,getSpannedRowCtrls:pC},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:mh},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:vh},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:vh},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:vh},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:vh},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Ch},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Ch},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Ch},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Ch},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:bh,getSpannedRowCtrls:fC},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:bh,getSpannedRowCtrls:fC},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:bh,getSpannedRowCtrls:fC},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:bh}};function _T(e){return`ag-${uc(e).name}-viewport`}function Mh(e){let t=uc(e);return t.container??`ag-${t.name}-container`}function B4(e){return`ag-${uc(e).name}-spanned-cells-container`}function uc(e){return N4[e]}var G4=["topCenter","topLeft","topRight"],V4=["bottomCenter","bottomLeft","bottomRight"],H4=["center","left","right"],z4=["center","left","right","fullWidth"],W4=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],j4=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],U4=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],kT=["stickyTopCenter","stickyTopLeft","stickyTopRight"],LT=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],$4=[...kT,"stickyTopFullWidth",...LT,"stickyBottomFullWidth"],K4=[...G4,...V4,...H4,...kT,...LT],q4=class extends ee{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=uc(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new M4(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,i,s){this.comp=e,this.eContainer=t,this.eSpannedContainer=i,this.eViewport=s,this.createManagedBean(new O4(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();let{pinnedCols:n,rangeSvc:r}=this.beans,a=()=>this.onPinnedWidthChanged();this.forContainers(j4,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:a})}),this.forContainers(U4,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(n?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:a})}),this.forContainers(z4,()=>this.createManagedBean(new PT(this.eContainer,this.name==="center"?s:void 0))),r&&this.forContainers(K4,()=>this.createManagedBean(r.createDragListenerFeature(this.eContainer))),this.forContainers(W4,()=>this.createManagedBean(new ab(d=>this.comp.setContainerWidth(`${d}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){let{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:i=>this.onDisplayedRowsChanged(i.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{let i=this.options.getSpannedRowCtrls(e);i&&this.comp.setSpannedRowCtrls(i,!1)}})}listenOnDomOrder(){if($4.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}let t=()=>{let i=this.gos.get("ensureDomOrder"),s=vi(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){let{dragSvc:e}=this.beans;if(!e)return;let t=i=>{e.dragging&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){let t=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,i,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Rh(this.eViewport)}getCenterViewportScrollLeft(){return Ih(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){let t=In(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return MR(this.eViewport)}getViewportScrollLeft(){return Ih(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||XV(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Ah(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){let e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){let t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}let i=vi(this.gos,"print"),n=this.gos.get("embedFullWidthRows")||i,r=t.filter(a=>{let d=a.isFullWidth();return this.options.fullWidth?!n&&d:n||!d});this.comp.setRowCtrls({rowCtrls:r,useFlushSync:e})}},OT="ag-force-vertical-scroll",Y4="ag-selectable",X4="ag-column-moving",Z4=class extends ee{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,i,s,n,r,a){this.comp=e,this.eGridBody=t,this.eBodyViewport=i,this.eTop=s,this.eBottom=n,this.eStickyTop=r,this.eStickyBottom=a,this.eCenterColsViewport=i.querySelector(`.${_T("center")}`),this.eFullWidthContainer=i.querySelector(`.${Mh("fullWidth")}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${Mh("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=a.querySelector(`.${Mh("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",d=>this.setCellTextSelection(d.currentValue)),this.createManagedBean(new ob(this.comp)),this.scrollFeature=this.createManagedBean(new E4(this.eBodyViewport)),this.beans.rowDragSvc?.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,n,r,a]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(s),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){let e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){let e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){let{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();let i=t&&e.getScrollbarWidth()||0,s=bR()?16:0,n=`calc(100% + ${i+s}px)`;Rs(this.beans,()=>this.comp.setBodyViewportWidth(n)),this.updateScrollingClasses()}setGridRootRole(){let{rowGroupColsSvc:e,colModel:t}=this,i=this.gos.get("treeData");if(!i){let s=t.isPivotMode();i=(e?e.columns.length:0)>=(s?2:1)}this.comp.setGridRootRole(i?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:i=>{let{target:s}=i,n=ua(s,"ag-root",t);t.classList.toggle("ag-has-focus",!n)},focusout:i=>{let{target:s,relatedTarget:n}=i,r=t.contains(n),a=ua(n,"ag-root",t);ua(s,"ag-root",t)||(!r||a)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(X4,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(Y4,e)}updateScrollingClasses(){let{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){let e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,i=t.isLastRowIndexKnown()?t.getRowCount():-1,s=i===-1?-1:e+i;this.comp.setRowCount(s)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){let t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){let e=this.gos.get("alwaysShowVerticalScroll"),t=e?OT:null,i=vi(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||i&&ZV(this.eBodyViewport)}setupRowAnimationCssClass(){let{rowContainerHeight:e,environment:t}=this.beans,i=t.sizesMeasured,s=()=>{let n=i&&pa(this.gos)&&!e.stretching,r=n?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,n)};s(),this.addManagedEventListeners({heightScaleChanged:s}),this.addManagedPropertyListener("animateRows",s),this.addManagedEventListeners({gridStylesChanged:()=>{!i&&t.sizesMeasured&&(i=!0,s())}})}addBodyViewportListener(){let{popupSvc:e,touchSvc:t}=this.beans,i=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:i}),t?.mockBodyContextMenu(this,i),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){let{deltaX:t,deltaY:i,shiftKey:s}=e;(s||Math.abs(t)>Math.abs(i))&&ac(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){let{deltaX:t,deltaY:i,shiftKey:s}=e,n=s||Math.abs(t)>Math.abs(i),r=e.target;n?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(e){let{deltaX:t,deltaY:i}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||i})}onBodyViewportContextMenu(e,t,i){if(!e&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();let{target:s}=e||t;(s===this.eBodyViewport||s===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:i,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){let t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){let{pinnedRowModel:e}=this,t=e?.getPinnedTopTotalHeight()??0,i=e?.getPinnedBottomTotalHeight()??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(i),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{let t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){let t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),i=this.pinnedRowModel?.getPinnedTopTotalHeight()??0,s=0;t>0&&(s+=t),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){let{pinnedRowModel:e,scrollVisibleSvc:t,comp:i}=this,s=e?.getPinnedBottomTotalHeight()??0,r=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,a=s+r;i.setStickyBottomBottom(`${a}px`)}},NT=class extends Ce{constructor(e,t){super(),this.direction=t,this.eViewport=te,this.eContainer=te,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",vR()||ic())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=bR(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){let e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),Rs(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){let t=this.eViewport;QC(()=>nr(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},Q4={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},J4=class extends NT{constructor(){super(Q4,"horizontal"),this.eLeftSpacer=te,this.eRightSpacer=te,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();let e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new ab(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;let e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){let e=this.scrollVisibleSvc.verticalScrollShowing,t=this.visibleCols.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,s=this.scrollVisibleSvc.getScrollbarWidth();i&&(t+=s),Ys(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=s);let n=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(n+=s),Ys(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=s)}setScrollVisible(){let e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,r=i?0:s===0&&t?16:s,a=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),sc(this.getGui(),r),sc(this.eViewport,r),sc(this.eContainer,r),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(a,100):a()}getScrollPosition(){return Ih(this.eViewport,this.enableRtl)}setScrollPosition(e){nr(this.eViewport)||this.attemptSettingScrollPosition(e),Ah(this.eViewport,e,this.enableRtl)}},ez={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:J4},tz={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},iz=class extends NT{constructor(){super(tz,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new PT(this.eContainer));let{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){let{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,i=this.invisibleScrollbar,s=t&&e.getScrollbarWidth()||0,n=s===0&&i?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",i),Ys(this.getGui(),n),Ys(this.eViewport,n),Ys(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){let i=e.getGridBodyCtrl().eBodyViewport,s=this.getScrollPosition(),n=i.scrollTop;s!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!nr(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},sz={selector:"AG-FAKE-VERTICAL-SCROLL",component:iz};function nz(e){return e.cols?e.cols.treeDepth+1:-1}function qs(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function lb(e){let t=[],i=e.ctrlsSvc.getHeaderRowContainerCtrls();for(let s of i){if(!s)continue;let n=s.getGroupRowCount()||0;for(let r=0;r<n;r++){let a=s.getGroupRowCtrlAtIndex(r),d=t[r];if(a){let h=rz(e,a);(d==null||h>d)&&(t[r]=h)}}}return t}function rz(e,t){let s=e.colModel.isPivotMode()?az(e):GT(e),n=t.getHeaderCellCtrls();for(let r of n){let{column:a}=r,d=a.getAutoHeaderHeight();d!=null&&d>s&&a.isAutoHeaderHeight()&&(s=d)}return s}function cb(e){let i=e.colModel.isPivotMode()?oz(e):Jh(e);return e.colModel.forAllCols(s=>{let n=s.getAutoHeaderHeight();n!=null&&n>i&&s.isAutoHeaderHeight()&&(i=n)}),i}function Jh(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function BT(e){return e.gos.get("floatingFiltersHeight")??Jh(e)}function GT(e){return e.gos.get("groupHeaderHeight")??Jh(e)}function oz(e){return e.gos.get("pivotHeaderHeight")??Jh(e)}function az(e){return e.gos.get("pivotGroupHeaderHeight")??GT(e)}var lz=class extends ee{setComp(e,t,i){this.comp=e,this.eGui=t;let{beans:s}=this,{headerNavigation:n,touchSvc:r,ctrlsSvc:a}=s;n&&this.createManagedBean(new rr(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,s),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,s)}),this.onPivotModeChanged(s),this.setupHeaderHeight();let d=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:d}),r?.mockHeaderContextMenu(this,d),a.register("gridHeaderCtrl",this)}setupHeaderHeight(){let e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>Rs(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){let{beans:e}=this,t=0,i=lb(e).reduce((r,a)=>r+a,0),s=cb(e);if(e.filterManager?.hasFloatingFilters()&&(t+=BT(e)),t+=i,t+=s,this.headerHeight===t)return;this.headerHeight=t;let n=`${t+1}px`;this.comp.setHeightAndMinHeight(n),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){let t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){let i=e.visibleCols.allCols.some(s=>s.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",i)}onTabKeyDown(e){let t=this.gos.get("enableRtl"),i=e.shiftKey,s=i!==t?"LEFT":"RIGHT",{beans:n}=this,{headerNavigation:r,focusSvc:a}=n;(r.navigateHorizontally(s,!0,e)||!i&&a.focusOverlay(!1)||Es(n,i,!0))&&e.preventDefault()}handleKeyDown(e){let t=null,{headerNavigation:i}=this.beans;switch(e.key){case K.LEFT:t="LEFT";case K.RIGHT:{Ee(t)||(t="RIGHT"),i.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case K.UP:t="UP";case K.DOWN:{Ee(t)||(t="DOWN"),i.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){let{relatedTarget:t}=e,{eGui:i,beans:s}=this;!t&&i.contains(St(s))||i.contains(t)||(s.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,i){let{menuSvc:s,ctrlsSvc:n}=this.beans;if(!e&&!i||!s?.isHeaderContextMenuEnabled())return;let{target:r}=e??t;(r===this.eGui||r===n.getHeaderRowContainerCtrl()?.eViewport)&&s.showHeaderContextMenu(void 0,e,i)}},db=class extends Ce{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},cz={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},dz=class extends db{constructor(e){super(cz,e),this.eResize=te,this.eHeaderCompWrapper=te,this.headerCompVersion=0}postConstruct(){let e=this.getGui();((n,r)=>{r!=null&&r!=""?e.setAttribute(n,r):e.removeAttribute(n)})("col-id",this.ctrl.column.getColId());let i={setWidth:n=>e.style.width=n,addOrRemoveCssClass:(n,r)=>this.addOrRemoveCssClass(n,r),setUserStyles:n=>cc(e,n),setAriaSort:n=>n?zV(e,n):WV(e),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);let s=this.ctrl.getSelectAllGui();s&&this.eResize.insertAdjacentElement("afterend",s)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;let t=this.headerCompVersion;e.newAgStackInstance().then(i=>this.afterCompCreated(t,i))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},uz={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},hz=class extends db{constructor(e){super(uz,e),this.eResize=te,this.eHeaderCompWrapper=te}postConstruct(){let e=this.getGui(),t=(s,n)=>n!=null?e.setAttribute(s,n):e.removeAttribute(s);e.setAttribute("col-id",this.ctrl.column.getUniqueId());let i={addOrRemoveCssClass:(s,n)=>this.addOrRemoveCssClass(s,n),setUserStyles:s=>cc(e,s),setHeaderWrapperHidden:s=>{s?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:s=>{s!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${s}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",s!=null)},setResizableDisplayed:s=>qe(this.eResize,s),setWidth:s=>e.style.width=s,setAriaExpanded:s=>t("aria-expanded",s),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){let t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}let i=this.getGui(),s=e.getGui();this.eHeaderCompWrapper.appendChild(s),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(i)}addOrRemoveHeaderWrapperStyle(e,t){let{eHeaderCompWrapper:i}=this;t?i.style.setProperty(e,t):i.style.removeProperty(e)}},pz={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},gz=class extends db{constructor(e){super(pz,e),this.eFloatingFilterBody=te,this.eButtonWrapper=te,this.eButtonShowMainFilter=te}postConstruct(){let e=this.getGui(),t={addOrRemoveCssClass:(i,s)=>this.addOrRemoveCssClass(i,s),setUserStyles:i=>cc(e,i),addOrRemoveBodyCssClass:(i,s)=>this.eFloatingFilterBody.classList.toggle(i,s),setButtonWrapperDisplayed:i=>qe(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>e.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},fz=class extends Ce{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){uR(this.getGui(),this.ctrl.getAriaRowIndex());let e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,i)=>this.setHeaderCtrls(t,i),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;let i=this.headerComps;if(this.headerComps={},e.forEach(s=>{let n=s.instanceId,r=i[n];delete i[n],r==null&&(r=this.createHeaderComp(s),this.getGui().appendChild(r.getGui())),this.headerComps[n]=r}),Object.values(i).forEach(s=>{this.getGui().removeChild(s.getGui()),this.destroyBean(s)}),t){let s=Object.values(this.headerComps);s.sort((r,a)=>{let d=r.getCtrl().column.getLeft(),h=a.getCtrl().column.getLeft();return d-h});let n=s.map(r=>r.getGui());TR(this.getGui(),n)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new hz(e);break;case"filter":t=new gz(e);break;default:t=new dz(e);break}return this.createBean(t),t.setParentComponent(this),t}},VT=class extends ee{constructor(e,t,i,s){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=s,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=i}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){let{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Ue(t):this.columnOrGroup}postConstruct(){let e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){let{gos:e,colAnimation:t}=this.beans,i=e.get("suppressColumnMoveAnimation"),s=Ee(this.columnOrGroup.getOldLeft());t?.isActive()&&s&&!i?this.animateInLeft():this.onLeftChanged()}animateInLeft(){let e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),i=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=i,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===i&&this.setLeft(i)})}onLeftChanged(){let e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){let{gos:i,visibleCols:s}=this.beans;if(!vi(i,"print")||e.getPinned()==="left")return t;let r=s.getColsLeftWidth();if(e.getPinned()==="right"){let a=s.bodyWidth;return r+a+t}return r+t}setLeft(e){if(Ee(e)&&(this.eCell.style.left=`${e}px`),It(this.columnOrGroup)){let t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&HV(this.ariaEl,t.length)}}},mz=0,HT="headerCtrl",zT=class extends ee{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+mz++}postConstruct(){let e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){let{headerRowIndex:t,column:i}=this.beans.focusSvc.focusedHeader,s=i.getDefinition(),n=s&&s.suppressHeaderKeyboardEvent;if(!Ee(n))return!1;let r=je(this.gos,{colDef:s,column:i,headerRowIndex:t,event:e});return!!n(r)}getWrapperHasFocus(){return St(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){let e=this.column.getDefinition();if(!e)return;let{headerStyle:t}=e,i;if(typeof t=="function"){let s=this.getHeaderClassParams();i=t(s)}else i=t;i&&this.comp.setUserStyles(i)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){let{wrapperElement:t,checkMeasuringCallback:i,compBean:s}=e,{beans:n}=this,r=D=>{if(!this.isAlive()||!s.isAlive())return;let{paddingTop:R,paddingBottom:A,borderBottomWidth:k,borderTopWidth:L}=ya(this.eGui),H=R+A+k+L,Z=t.offsetHeight+H;if(D<5){let Q=Jt(n),se=!Q||!Q.contains(t),W=Z==0;if(se||W){FC(()=>r(D+1),"raf",n);return}}this.setColHeaderHeight(this.column,Z)},a=!1,d,h=()=>{let D=this.column.isAutoHeaderHeight();D&&!a&&v(),!D&&a&&b()},v=()=>{a=!0,r(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),d=In(this.beans,t,()=>r(0))},b=()=>{a=!1,d&&d(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),d=void 0};h(),s.addDestroyFunc(()=>b()),s.addManagedListeners(this.column,{widthChanged:()=>a&&r(0)}),s.addManagedEventListeners({sortChanged:()=>{a&&window.setTimeout(()=>r(0))}}),i&&i(h)}onDisplayedColumnsChanged(){let{comp:e,column:t,beans:i,eGui:s}=this;!e||!t||!s||(vT(e,t,i.visibleCols),hR(s,i.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){let e=eo(this.beans);this.eGui&&ha(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){let t=St(this.beans),i=e.key===K.LEFT||e.key===K.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||i)&&(e.preventDefault(),e.stopImmediatePropagation()),!i))return;let n=e.key===K.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;let r=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(r,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(n)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e),{pinnedCols:i}=this.beans;return i?i.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){let{gos:t,column:i}=this,s=e.key===K.LEFT!==t.get("enableRtl"),n=i.getPinned(),r=t.get("enableRtl");return n&&r!==(n==="right")&&(s=!s),(s?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){let t=this.getWrapperHasFocus();switch(e.key){case K.PAGE_DOWN:case K.PAGE_UP:case K.PAGE_HOME:case K.PAGE_END:t&&e.preventDefault()}}addDomData(e){let t=HT,{eGui:i,gos:s}=this;ma(s,i,t,this),e.addDestroyFunc(()=>ma(s,i,t,null))}focus(e){let{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,i){let s=e??t,{menuSvc:n,gos:r}=this.beans;r.get("preventDefaultOnContextMenu")&&s.preventDefault(),n?.isHeaderContextMenuEnabled(i)&&n.showHeaderContextMenu(i,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",i)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;let{eventSvc:i}=this;e.isColumn?i.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):i.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},vz=class extends zT{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,i,s,n){this.comp=e;let{rowCtrl:r,column:a,beans:d}=this,{colResize:h,context:v,colHover:b,rangeSvc:D}=d,R=Xh(this,v,n);this.setGui(t,R),this.updateState(),this.setupWidth(R),this.setupMovingCss(R),this.setupMenuClass(R),this.setupSortableClass(R),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:k=>this.setRefreshFunction("measuring",k),compBean:R}),this.addColumnHoverListener(R),this.setupFilterClass(R),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(R),this.setupSelectAll(R),this.setupUserComp(),this.refreshAria(),h?this.resizeFeature=R.createManagedBean(h.createResizeFeature(r.pinned,a,i,e,this)):qe(i,!1),b?.createHoverFeature(R,[a],t),D?.createRangeHighlightFeature(R,a,e),R.createManagedBean(new VT(a,t,d)),R.createManagedBean(new rr(t,{shouldStopEventPropagation:k=>this.shouldStopEventPropagation(k),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(R),R.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),R.addManagedListeners(a,{colDefChanged:()=>this.refresh()}),R.addManagedListeners(a,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});let A=()=>this.checkDisplayName();R.addManagedEventListeners({columnValueChanged:A,columnRowGroupChanged:A,columnPivotChanged:A,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),R.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.colDef;return je(t.gos,{colDef:i,column:e,floatingFilter:!1})}setupUserComp(){let e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){let e=this.createParams(),t=this.column.getColDef();return M6(this.beans.userCompFactory,t,e)}createParams(){let{menuSvc:e,sortSvc:t,colFilter:i,gos:s}=this.beans;return je(s,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!i&&(!this.openFilterEnabled||Fh(this.gos)),showColumnMenu:(r,a)=>{e?.showColumnMenu({column:this.column,buttonElement:r,positionBy:"button",onClosedCallback:a})},showColumnMenuAfterMouseClick:(r,a)=>{e?.showColumnMenu({column:this.column,mouseEvent:r,positionBy:"mouse",onClosedCallback:a})},showFilter:r=>{e?.showFilterMenu({column:this.column,buttonElement:r,containerType:"columnFilter",positionBy:"button"})},progressSort:r=>{t?.progressSort(this.column,!!r,"uiColumnSorted")},setSort:(r,a)=>{t?.setSortForColumn(this.column,r,!!a,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(r,a)=>{s.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,a)}})}setupSelectAll(e){let{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===K.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===K.ENTER&&this.onEnterKeyDown(e),e.key===K.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){let i=this.comp.getUserCompInstance();GM(i)&&i.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),sb()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){let e=()=>{let t=this.column.getColDef(),i=mT(t,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(n=>{s.has(n)?s.delete(n):this.comp.addOrRemoveCssClass(n,!0)}),s.forEach(n=>this.comp.addOrRemoveCssClass(n,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){let{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){let e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){let t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){let e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){let t=()=>{let i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){let t=()=>{this.comp?.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){let t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){let t=()=>{let i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){let e=()=>{let t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){let e=this.column.getHighlighted(),t=e===0,i=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){let{eGui:e,column:t,comp:i,beans:s}=this,n=lb(this.beans),r=n.reduce((b,D)=>b+=D,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",r),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}let{numberOfParents:a,isSpanningTotal:d}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",a>0);let h=cb(s);if(a===0){i.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${h}px`);return}i.addOrRemoveCssClass("ag-header-span-total",d);let v=0;for(let b=0;b<a;b++)v+=n[n.length-1-b];e.style.setProperty("top",`${-v}px`),e.style.setProperty("height",`${h+v}px`)}refreshAriaSort(){if(this.sortable){let e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(kV(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Fh(this.gos)){let e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){let e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(St(this.beans)))return;let e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,i)=>t==="filter"?-1:i.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){let t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){let t=this.comp.getUserCompInstance();return GM(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function GM(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var Cz=0,mC=class extends ee{constructor(e,t,i){super(),this.rowIndex=e,this.pinned=t,this.type=i,this.instanceId=Cz++,this.allCtrls=[];let s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}postConstruct(){this.isPrintLayout=vi(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,i=!0){this.comp=e,t=Xh(this,this.beans.context,t),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){let t=this.onRowHeightChanged.bind(this),i=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:i,virtualColumnsChanged:s=>this.onVirtualColumnsChanged(s.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",i),e.addManagedPropertyListener("ensureDomOrder",s=>this.isEnsureDomOrder=s.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=vi(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){let e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){let{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){let{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let{filterManager:e}=this.beans,t=[],i=lb(this.beans),s=cb(this.beans);t.push(...i),t.push(s),e?.hasFloatingFilters()&&t.push(BT(this.beans));let n=0;for(let a=0;a<this.rowIndex;a++)n+=t[a];let r=t[this.rowIndex];return{topOffset:n,rowHeight:r}}onVirtualColumnsChanged(e=!1){let t=this.getUpdatedHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,i,e)}getUpdatedHeaderCtrls(){let e=this.ctrlsById;this.ctrlsById=new Map;let t=this.getColumnsInViewport();for(let s of t)this.recycleAndCreateHeaderCtrls(s,this.ctrlsById,e);let i=s=>{let{focusSvc:n,visibleCols:r}=this.beans;return n.isHeaderWrapperFocused(s)?r.isVisible(s.column):!1};if(e)for(let[s,n]of e)i(n)?this.ctrlsById.set(s,n):this.destroyBean(n);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,i){if(e.isEmptyGroup())return;let s=e.getUniqueId(),n;if(i&&(n=i.get(s),i.delete(s)),n&&n.column!=e&&(this.destroyBean(n),n=void 0),n==null)switch(this.type){case"filter":{n=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":n=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:n=this.createBean(new vz(e,this));break}t.set(s,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[],t=this.getActualDepth(),{colViewport:i}=this.beans;return["left",null,"right"].forEach(s=>{let n=i.getHeadersToRender(s,t);e=e.concat(n)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){let i=this.allCtrls.find(n=>n.column==e);return i?i.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},bz=class extends ee{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;let{pinnedCols:i,ctrlsSvc:s,colModel:n,colMoves:r,filterManager:a}=this.beans;this.setupCenterWidth(),i?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(r,this.eViewport);let d=this.onDisplayedColumnsChanged.bind(this,a);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:d,advancedFilterEnabledChanged:d});let h=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;s.register(h,this),n.ready&&this.refresh()}getAllCtrls(){let e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){let{focusSvc:t,colModel:i,filterManager:s}=this.beans,n=0,r=t.getFocusHeaderToUseAfterRefresh(),a=()=>{let b=nz(i)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let D=0;D<b;D++){let R=this.createBean(new mC(n++,this.pinned,"group"));this.groupsRowCtrls.push(R)}},d=()=>{let b=n++,D=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==b);(D||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),D&&(this.columnsRowCtrl=this.createBean(new mC(b,this.pinned,"column")))},h=()=>{this.includeFloatingFilter=!!s?.hasFloatingFilters()&&!this.hidden;let b=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){b();return}let D=n++;if(this.filtersRowCtrl){let R=this.filtersRowCtrl.rowIndex!==D;(!e||R)&&b()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new mC(D,this.pinned,"filter")))};a(),d(),h();let v=this.getAllCtrls();this.comp.setCtrls(v),this.restoreFocusOnHeader(t,r)}getHeaderCtrlForColumn(e){let t=i=>i?.getHeaderCellCtrls().find(s=>s.column===e);if(En(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){let s=t(this.groupsRowCtrls[i]);if(s)return s}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,i){let n=this.getAllCtrls()[e];return n?n.focusHeader(t,i):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){let i=e?.createBodyDropTarget(this.pinned,t);i&&this.createManagedBean(i)}restoreFocusOnHeader(e,t){if(!t)return;let{column:i}=t;i.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){let t=!!e?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new ab(e=>this.comp.setCenterWidth(`${e}px`),!0))}};var WT=class extends Ce{constructor(){super()}},yz={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},wz=class extends WT{init(){let e=Jr(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??yz),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},Sz={tag:"span",cls:"ag-overlay-no-rows-center"},xz=class extends WT{init(){let e=Jr(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??Sz),!e){let t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function ep(e,t,i){let s=et(e,t,i);if(s){let{className:r}=s;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return s}let n=Qe({tag:"span"});return n.appendChild(s),n}function et(e,t,i){let s=null;e==="smallDown"?ue(262):e==="smallLeft"?ue(263):e==="smallRight"&&ue(264);let n=i&&i.getColDef().icons;if(n&&(s=n[e]),t.gos&&!s){let r=t.gos.get("icons");r&&(s=r[e])}if(s){let r;if(typeof s=="function")r=s();else if(typeof s=="string")r=s;else{ue(38,{iconName:e});return}if(typeof r=="string")return ZC(r);if(dc(r))return r;ue(133,{iconName:e});return}else{let r=t.registry.getIcon(e);return r||t.validation?.validateIcon(e),Qe({tag:"span",cls:`ag-icon ag-icon-${r??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var Dz=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Ez={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Mz=class extends Ce{constructor(){super(),this.dragSource=null,this.eIcon=te,this.eLabel=te,this.eGhost=te,this.registerCSS(Dz)}postConstruct(){let e=t=>ep(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Ez),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){let{eIcon:i,dragSource:s,dropIconMap:n,gos:r}=this;mi(i);let a=null;e||(e=s?.getDefaultIconName?s.getDefaultIconName():"notAllowed"),a=n[e],i.classList.toggle("ag-shake-left-to-right",t),!(a===n.hide&&r.get("suppressDragLeaveHidesColumns"))&&a&&i.appendChild(a)}setLabel(e){this.eLabel.textContent=e}},Rz=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Tz=class extends Ce{constructor(e,t,i){super(t,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Rz)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");let{labelSeparator:e,label:t,labelWidth:i,labelAlignment:s,disabled:n}=this.config;n!=null&&this.setDisabled(n),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){let{label:e,eLabel:t}=this;mi(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(qe(t,!1),Ds(t,"presentation")):(qe(t,!0),Ds(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){let e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){let i=this.getGui().classList;return i.toggle("ag-label-align-left",e==="left"),i.toggle("ag-label-align-right",e==="right"),i.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(IR(this.eLabel,e),this)}setDisabled(e){e=!!e;let t=this.getGui();return wR(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Iz=class extends Tz{constructor(e,t,i,s){super(e,t,i),this.className=s}postConstruct(){super.postConstruct();let{width:e,value:t,onValueChange:i}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){let e=this.getAriaElement(),t=this.getLabelId(),i=this.getLabel();i==null||i==""||LV(e)!==null?RC(e,""):RC(e,t??"")}setAriaLabel(e){return Ri(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Ys(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Az(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var jT=class extends Iz{constructor(e,t,i="text",s="input"){super(e,e?.template??Az(s),[],t),this.inputType=i,this.displayFieldTag=s,this.eLabel=te,this.eWrapper=te,this.eInput=te}postConstruct(){super.postConstruct(),this.setInputType();let{eLabel:e,eWrapper:t,eInput:i,className:s}=this;e.classList.add(`${s}-label`),t.classList.add(`${s}-input-wrapper`),i.classList.add(`${s}-input`),this.addCssClass("ag-input-field"),i.id=i.id||`ag-${this.getCompId()}-input`;let{inputName:n,inputWidth:r}=this.config;n!=null&&this.setInputName(n),r!=null&&this.setInputWidth(r),this.addInputListeners(),this.activateTabIndex([i])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return IR(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){let t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return ha(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ri(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return wR(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)ha(this.eInput,"autocomplete",null);else{let t=typeof e=="string"?e:"off";ha(this.eInput,"autocomplete",t)}return this}},UT=class extends jT{constructor(e,t="ag-checkbox",i="checkbox"){super(e,t,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();let{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;let e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){let t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;let i=this.eInput;i.checked=e,i.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:i});let s=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;let t=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,t,e)}refreshSelectedClass(e){let t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},io={selector:"AG-CHECKBOX",component:UT},Fz=".ag-checkbox-cell{height:100%}",Pz={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},_z=class extends Ce{constructor(){super(Pz,[io]),this.eCheckbox=te,this.registerCSS(Fz)}init(e){this.refresh(e);let{eCheckbox:t,beans:i}=this,s=t.getInputElement();s.setAttribute("tabindex","-1"),lR(s,"polite"),this.addManagedListeners(s,{click:n=>{if(Zs(n),t.isDisabled())return;let r=t.getValue();this.onCheckboxChanged(r)},dblclick:n=>{Zs(n)}}),this.addManagedElementListeners(e.eGridCell,{keydown:n=>{if(n.key===K.SPACE&&!t.isDisabled()){e.eGridCell===St(i)&&t.toggle();let r=t.getValue();this.onCheckboxChanged(r),n.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,i=!0,{value:s,column:n,node:r}=e;if(r.group&&n)if(typeof s=="boolean")t=s;else{let D=n.getColId();D.startsWith(Yh)?t=s==null||s===""?void 0:s==="true":r.aggData&&r.aggData[D]!==void 0?t=s??void 0:i=!1}else t=s??void 0;let{eCheckbox:a}=this;if(!i){a.setDisplayed(!1);return}a.setValue(t);let d=e.disabled??!n?.isCellEditable(r);a.setDisabled(d);let h=this.getLocaleTextFunc(),v=jV(h,t),b=d?v:`${h("ariaToggleCellValue","Press SPACE to toggle cell value")} (${v})`;a.setInputAriaLabel(b)}onCheckboxChanged(e){let{eventSvc:t,params:i}=this,{column:s,node:n,value:r}=i,a={column:s,colDef:s.getColDef(),data:n.data,node:n,rowIndex:n.rowIndex,rowPinned:n.rowPinned,value:r};t.dispatchEvent(U({type:"cellEditingStarted"},a));let d=n.setDataValue(s,e,"edit");t.dispatchEvent(be(U({type:"cellEditingStopped"},a),{oldValue:r,newValue:e,valueChanged:d})),d||this.updateCheckbox(i)}},kz="ROOT_NODE_ID",Lz=class extends ee{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=kz,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){let t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){let t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,i)=>this.createRowNode(t,i))??[]}setImmutableRowData(e,t){let i=OC(this.gos),s=!this.gos.get("suppressMaintainUnsortedOrder"),n=e.changedRowNodes,r=new Set,a=this.rootNode,d=a.allLeafChildren,h=d.length,v=!1,b=!1,D=!1,R=!1;for(let k=0,L=-1,H=t.length;k<H;k++){let $=t[k],Z=this.getRowNode(i({data:$,level:0}));if(!Z)v=!0,Z=this.createRowNode($,-1),n.add(Z);else{if(s){let Q=Z.sourceRowIndex;R||(R=Q<=L||v),L=Q}Z.data!==$&&(D=!0,Z.updateData($),n.update(Z))}r.add(Z)}let A=[];for(let k=0;k<h;k++){let L=d[k];r.has(L)||(b=!0,L.isSelected()&&A.push(L),this.rowNodeDeleted(L),n.remove(L))}if(v||b||R){let k=new Array(r.size),L=0;if(!s)for(let $=0;$<h;++$){let Z=d[$];r.delete(Z)&&(Z.sourceRowIndex=L,k[L++]=Z)}for(let $ of r)$.sourceRowIndex=L,k[L++]=$;a.allLeafChildren=k;let H=a.sibling;H&&(H.allLeafChildren=k),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=R)}(v||b||R||D)&&(this.deselectNodes(A),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();let t=e.id,i=this.allNodesMap;i[t]===e&&delete i[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);let i={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},s=[],n=OC(this.gos);return this.executeRemove(n,e,i,s),this.executeUpdate(n,e,i,s),this.executeAdd(e,i),this.deselectNodes(s),i}executeAdd(e,t){let i=e.add;if(!i?.length)return;let s=this.rootNode.allLeafChildren,n=s.length;if(typeof e.addIndex=="number"&&(n=this.sanitizeAddIndex(e.addIndex),n>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let D=0;D<s.length;D++)if(s[D]?.rowIndex==n-1){n=D+1;break}}let r=i.length,a=t.changedRowNodes,d=new Array(r);for(let b=0;b<r;b++){let D=this.createRowNode(i[b],n+b);a.add(D),d[b]=D}let h=this.rootNode;if(n<s.length){let b=s.slice(0,n),D=s.slice(n,s.length),R=b.length+d.length;for(let A=0,k=D.length;A<k;++A)D[A].sourceRowIndex=R+A;s=[...b,...d,...D],t.rowsInserted=!0}else s=s.concat(d);h.allLeafChildren=s;let v=h.sibling;v&&(v.allLeafChildren=s),t.rowNodeTransaction.add=d}executeRemove(e,t,{changedRowNodes:i,rowNodeTransaction:s},n){let{remove:r}=t;if(!r?.length)return;let a={};r.forEach(v=>{let b=this.lookupRowNode(e,v);b&&(b.isSelected()&&n.push(b),b.clearRowTopAndRowIndex(),a[b.id]=!0,delete this.allNodesMap[b.id],s.remove.push(b),i.remove(b))});let d=this.rootNode;d.allLeafChildren=d.allLeafChildren?.filter(v=>!a[v.id])??null,d.allLeafChildren?.forEach((v,b)=>{v.sourceRowIndex=b});let h=d.sibling;h&&(h.allLeafChildren=d.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:i,rowNodeTransaction:s},n){let{update:r}=t;r?.length&&r.forEach(a=>{let d=this.lookupRowNode(e,a);d&&(d.updateData(a),!d.selectable&&d.isSelected()&&n.push(d),s.update.push(d),i.update(d))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){let t="rowDataChanged",i=this.beans.selectionSvc,s=e.length>0;s&&i?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),i?.updateGroupsFromChildrenSelections?.(t),s&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:i?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){let t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){let i=new IT(this.beans);return i.parent=this.rootNode,i.level=0,i.group=!1,i.expanded=!1,i.sourceRowIndex=t,i.setDataAndId(e,String(this.nextId)),this.allNodesMap[i.id]&&ue(2,{nodeId:i.id}),this.allNodesMap[i.id]=i,this.nextId++,i}lookupRowNode(e,t){let i;if(e){let s=e({data:t,level:0});if(i=this.allNodesMap[s],!i)return ei(4,{id:s}),null}else if(i=this.rootNode?.allLeafChildren?.find(s=>s.data===t),!i)return ei(5,{data:t}),null;return i||null}};var Oz='.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;transition:background-color .1s;:where(.ag-toggle-button-input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-toggle-button-height);margin:0;max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);opacity:0}&:before{background-color:var(--ag-toggle-button-switch-background-color);border-radius:100%;content:"";display:block;height:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2);left:var(--ag-toggle-button-switch-inset);pointer-events:none;position:absolute;top:var(--ag-toggle-button-switch-inset);transition:left .1s;width:calc(var(--ag-toggle-button-height) - var(--ag-toggle-button-switch-inset)*2)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-switch-inset))}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}',Nz=class extends UT{constructor(e){super(e,"ag-toggle-button"),this.registerCSS(Oz)}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},$T={selector:"AG-TOGGLE-BUTTON",component:Nz},Bz=class extends jT{constructor(e,t="ag-text-field",i="text"){super(e,t,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){let i=this.eInput;return i.value!==e&&(i.value=Ee(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){let e=new RegExp(`[${this.config.allowedCharPattern}]`),t=i=>{FT(i)&&i.key&&!e.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:i=>{let s=i.clipboardData?.getData("text");s&&s.split("").some(n=>!e.test(n))&&i.preventDefault()}})}},KT={selector:"AG-INPUT-TEXT-FIELD",component:Bz};function VM(e,t){return e.toString().padStart(t,"0")}function HM(e,t=!0,i="-"){if(!e)return null;let s=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(n=>VM(n,2)).join(i);return t&&(s+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(n=>VM(n,2)).join(":")),s}function zM(e){if(!e)return null;let[t,i]=e.split(" ");if(!t)return null;let s=t.split("-").map(D=>parseInt(D,10));if(s.filter(D=>!isNaN(D)).length!==3)return null;let[n,r,a]=s,d=new Date(n,r-1,a);if(d.getFullYear()!==n||d.getMonth()!==r-1||d.getDate()!==a)return null;if(!i||i==="00:00:00")return d;let[h,v,b]=i.split(":").map(D=>parseInt(D,10));return h>=0&&h<24&&d.setHours(h),v>=0&&v<60&&d.setMinutes(v),b>=0&&b<60&&d.setSeconds(b),d}function Gz(e){return e.get("tooltipShowMode")==="whenTruncated"}function tp(e,t){return Gz(e)?Vz(t):void 0}function Vz(e){return()=>{let t=e();return t?t.scrollWidth>t.clientWidth:!0}}var rc={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},Hz=class extends ee{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;let{comp:t,eTopGuard:i,eBottomGuard:s,focusTrapActive:n,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:a,focusInnerElement:d,onFocusIn:h,onFocusOut:v,shouldStopEventPropagation:b,onTabKeyDown:D,handleKeyDown:R,isEmpty:A,eFocusableElement:k}=e;this.comp=t,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=d,this.eFocusableElement=k,this.focusTrapActive=!!n,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!a,this.providedFocusIn=h,this.providedFocusOut=v,this.providedShouldStopEventPropagation=b,this.providedOnTabKeyDown=D,this.providedHandleKeyDown=R,this.providedIsEmpty=A}postConstruct(){this.createManagedBean(new rr(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;let e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Xs(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;let t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){let t=Jt(this.beans),i=Xs(t.body,null,!0),s=i.indexOf(e?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let n,r;e?(n=0,r=s):(n=s+1,r=i.length);let a=i.slice(n,r),d=this.gos.get("tabIndex");a.sort((h,v)=>{let b=parseInt(h.getAttribute("tabindex")||"0"),D=parseInt(v.getAttribute("tabindex")||"0");return D===d?1:b===d?-1:b===0?1:D===0?-1:b-D}),a[e?a.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;let t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();let i=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),e.preventDefault())}focusInnerElement(e=!1){let t=Xs(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return Ts(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;let t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},zz=class extends ee{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();let{eTopGuard:t,eBottomGuard:i,eFocusableElement:s}=this,n=[t,i],r={setTabIndex:H=>{n.forEach($=>H!=null?$.setAttribute("tabindex",H):$.removeAttribute("tabindex"))}};this.addTabGuards(t,i);let{focusTrapActive:a=!1,onFocusIn:d,onFocusOut:h,focusInnerElement:v,handleKeyDown:b,onTabKeyDown:D,shouldStopEventPropagation:R,isEmpty:A,forceFocusOutWhenTabGuardsAreEmpty:k,isFocusableContainer:L}=e;this.tabGuardCtrl=this.createManagedBean(new Hz({comp:r,focusTrapActive:a,eTopGuard:t,eBottomGuard:i,eFocusableElement:s,onFocusIn:d,onFocusOut:h,focusInnerElement:v,handleKeyDown:b,onTabKeyDown:D,shouldStopEventPropagation:R,isEmpty:A,forceFocusOutWhenTabGuardsAreEmpty:k,isFocusableContainer:L}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){let t=Jt(this.beans).createElement("div"),i=e==="top"?rc.TAB_GUARD_TOP:rc.TAB_GUARD_BOTTOM;return t.classList.add(rc.TAB_GUARD,i),Ds(t,"presentation"),t}addTabGuards(e,t){let i=this.eFocusableElement;i.insertAdjacentElement("afterbegin",e),i.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){let e=[this.eTopGuard,this.eBottomGuard];mi(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,i){dc(t)||(t=t.getGui());let{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",t):e(t,i)}destroy(){let{eTopGuard:e,eBottomGuard:t}=this;ki(e),ki(t),super.destroy()}},so=class extends Ce{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new zz(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}};var wn=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Dn,this.preventMouseClick=t;let i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);e.addEventListener("touchstart",i,{passive:!0}),e.addEventListener("touchmove",s,{passive:!0}),e.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",i,{passive:!0}),e.removeEventListener("touchmove",s,{passive:!0}),e.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;let t=this.touchStart;window.setTimeout(()=>{let i=this.touchStart===t;if(this.touching&&i&&!this.moved){this.moved=!0;let s={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(e){if(!this.touching)return;let t=this.getActiveTouch(e.touches);if(!t)return;!MT(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){let t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){let e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){let i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};var ub=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${PR}/${this.frameworkName}-data-grid`,nH(this.baseDocLink)}setInterval(e,t){return new An(i=>{i(window.setInterval(e,t))})}addEventListener(e,t,i,s){let n={};if(typeof s=="object"?n=s:typeof s=="boolean"&&(n={capture:s}),n.passive==null){let r=JR(t);r!=null&&(n.passive=r)}e.addEventListener(t,i,n)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function Wz(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var jz=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],WM=Object.fromEntries(jz.map((e,t)=>[e,t]));function Uz(e,t){let i=(e.beanName?WM[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(t.beanName?WM[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function $z(e,t){return e?.beanName==="gridDestroySvc"?-1:0}var Kz={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},qz={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},Yz={tag:"div",cls:"ag-header-viewport",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"rowgroup"}]},vC=class extends Ce{constructor(e){super(),this.eCenterContainer=te,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();let e={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{let s=this.getGui();s.style.width=i,s.style.maxWidth=i,s.style.minWidth=i}};this.createManagedBean(new bz(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){let e=this.pinned=="left",t=this.pinned=="right",i=e?Kz:t?qz:Yz;this.setTemplate(i),this.eRowContainer=this.eCenterContainer!==te?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){let t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i,s=n=>{let r=n.getGui();r.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(r),i&&RR(this.eRowContainer,r,i),i=r};e.forEach(n=>{let r=n.instanceId,a=t[r];delete t[r];let d=a||this.createBean(new fz(n));this.headerRowComps[r]=d,this.rowCompsList.push(d),s(d)}),Object.values(t).forEach(n=>this.destroyRowComp(n))}},Xz={tag:"div",cls:"ag-header",role:"presentation"},Zz=class extends Ce{constructor(){super(Xz)}postConstruct(){let e={addOrRemoveCssClass:(s,n)=>this.addOrRemoveCssClass(s,n),setHeightAndMinHeight:s=>{this.getGui().style.height=s,this.getGui().style.minHeight=s}};this.createManagedBean(new lz).setComp(e,this.getGui(),this.getFocusableElement());let i=s=>{this.createManagedBean(s),this.appendChild(s)};i(new vC("left")),i(new vC(null)),i(new vC("right"))}},Qz={selector:"AG-HEADER-ROOT",component:Zz},Jz=class extends Ce{constructor(e,t,i,s,n){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.column,this.rowNode=t.rowNode,this.eRow=s;let r=Qe({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":t.colIdSanitised}});this.eCell=r;let a;t.isCellSpanning()?(a=Qe({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),a.appendChild(r),this.setTemplateFromElement(a)):this.setTemplateFromElement(r),this.cellCssClassManager=new dT(()=>r),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);let d={addOrRemoveCssClass:(h,v)=>this.cellCssClassManager.addOrRemoveCssClass(h,v),setUserStyles:h=>cc(r,h),getFocusableElement:()=>r,setIncludeSelection:h=>this.includeSelection=h,setIncludeRowDrag:h=>this.includeRowDrag=h,setIncludeDndSource:h=>this.includeDndSource=h,setRenderDetails:(h,v,b)=>this.setRenderDetails(h,v,b),setEditDetails:(h,v,b)=>this.setEditDetails(h,v,b),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(d,r,a,this.eCellWrapper,i,n,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(e,t,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;let n=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(i||n)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,i){e?this.createCellEditorInstance(e,t,i):this.destroyEditor()}removeControls(){let e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){let t=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=t||this.forceWrapper,s=i&&this.eCellWrapper==null;s&&(this.eCellWrapper=Qe({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));let n=!i&&this.eCellWrapper!=null;n&&(ki(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssClassManager.addOrRemoveCssClass("ag-cell-value",!i);let r=!e&&i,a=r&&this.eCellValue==null;a&&(this.eCellValue=Qe({tag:"span",cls:"ag-cell-value",role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue));let d=!r&&this.eCellValue!=null;d&&(ki(this.eCellValue),this.eCellValue=void 0);let h=s||n||a||d;return h&&this.removeControls(),!e&&t&&this.addControls(),h}addControls(){let{cellCtrl:e,eCellWrapper:t,eCellValue:i,includeRowDrag:s,includeDndSource:n,includeSelection:r}=this,a=d=>{d&&t.insertBefore(d.getGui(),i)};s&&this.rowDraggingComp==null&&(this.rowDraggingComp=e.createRowDragComp(),a(this.rowDraggingComp)),n&&this.dndSourceComp==null&&(this.dndSourceComp=e.createDndSource(),a(this.dndSourceComp)),r&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),a(this.checkboxSelectionComp))}createCellEditorInstance(e,t,i){let s=this.editorVersion,n=e.newAgStackInstance(),{params:r}=e;n.then(d=>this.afterCellEditorCreated(s,d,r,t,i)),_t(this.cellEditor)&&r.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){let t=this.getParentOfValue();mi(t);let i=e!=null?xs(e,!0):null;i!=null&&(t.textContent=i)}destroyRenderer(){let{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),ki(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){let{context:e}=this.beans;(this.cellEditorPopupWrapper?.getGui().contains(St(this.beans))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),this.hideEditorPopup?.(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),ki(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer?.refresh==null||this.cellRendererClass!==e.componentClass)return!1;let t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){let t=this.rendererVersion,{componentClass:i}=e,s=()=>{if(this.rendererVersion!==t||!this.isAlive())return;let a=e.newAgStackInstance(),d=this.afterCellRendererCreated.bind(this,t,i);a?.then(d)},{animationFrameSvc:n}=this.beans;n?.active&&this.firstRender?n.createTask(s,this.rowNode.rowIndex,"p2",e.componentFromFramework):s()}afterCellRendererCreated(e,t,i){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(i);return}this.cellRenderer=i,this.cellRendererClass=t;let n=i.getGui();if(this.cellRendererGui=n,n!=null){let r=this.getParentOfValue();mi(r),r.appendChild(n)}}afterCellEditorCreated(e,t,i,s,n){let r=e!==this.editorVersion,{context:a}=this.beans;if(r){a.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){a.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){ue(97,{colId:this.column.getId()}),a.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();let h=s||t.isPopup!==void 0&&t.isPopup();h?this.addPopupCellEditor(i,n):this.addInCellEditor(),this.refreshEditStyles(!0,h),t.afterGuiAttached?.(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){let{cellCssClassManager:i}=this;i.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),i.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),i.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.cellCtrl.setInlineEditingCss()}addInCellEditor(){let{eCell:e}=this;e.contains(St(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),mi(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){let{gos:i,context:s,editSvc:n,popupSvc:r,localeSvc:a}=this.beans;i.get("editType")==="fullRow"&&ue(98);let d=this.cellEditor;this.cellEditorPopupWrapper=s.createBean(n.createPopupEditorWrapper(e));let h=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&h.appendChild(this.cellEditorGui);let v=i.get("stopEditingWhenCellsLoseFocus"),b=t??d.getPopupPosition?.()??"over",D=i.get("enableRtl"),R={ePopup:h,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:b,alignSide:D?"right":"left",keepWithinBounds:!0},A=r.positionPopupByComponent.bind(r,R),k=nR(a),L=r.addPopup({modal:v,eChild:h,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback:A,ariaLabel:k("ariaLabelCellEditor","Cell Editor")});L&&(this.hideEditorPopup=L.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},e5=class extends Ce{constructor(e,t,i){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;let s=Qe({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(s,i),this.setTemplateFromElement(s);let n=s.style;this.domOrder=this.rowCtrl.getDomOrder();let r={setDomOrder:a=>this.domOrder=a,setCellCtrls:a=>this.setCellCtrls(a),showFullWidth:a=>this.showFullWidth(a),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(a,d)=>this.addOrRemoveCssClass(a,d),setUserStyles:a=>cc(s,a),setTop:a=>n.top=a,setTransform:a=>n.transform=a,setRowIndex:a=>s.setAttribute("row-index",a),setRowId:a=>s.setAttribute("row-id",a),setRowBusinessKey:a=>s.setAttribute("row-business-key",a),refreshFullWidth:a=>this.fullWidthCellRenderer?.refresh?.(a())??!1};e.setComp(r,this.getGui(),i,void 0),this.addDestroyFunc(()=>{e.unsetComp(i)})}setInitialStyle(e,t){let i=this.rowCtrl.getInitialTransform(t);if(i)e.style.setProperty("transform",i);else{let s=this.rowCtrl.getInitialRowTop(t);s&&e.style.setProperty("top",s)}}showFullWidth(e){let t=s=>{if(this.isAlive()){let n=s.getGui();this.getGui().appendChild(n),this.rowCtrl.setupDetailRowAutoHeight(n),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)};e.newAgStackInstance().then(t)}setCellCtrls(e){let t=new Map(this.cellComps);for(let i of e){let s=i.instanceId;this.cellComps.has(s)?t.delete(s):this.newCellComp(i)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;let t=[];for(let i of e){let s=this.cellComps.get(i.instanceId);s&&t.push(s.getGui())}TR(this.getGui(),t)}newCellComp(e){let t=new Jz(this.beans,e,this.rowCtrl.printLayout,this.getGui(),this.rowCtrl.editing);this.cellComps.set(e.instanceId,t),this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){for(let t of e.values()){if(!t)return;let i=t.cellCtrl.instanceId;if(this.cellComps.get(i)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(i)}}};function t5(e,t,i){let s=!!i.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,n={tag:"div",ref:"eContainer",cls:Mh(e),role:"rowgroup"};if(t.type==="center"||s){let r={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${B4(e)}`,role:"rowgroup"};return{tag:"div",ref:"eViewport",cls:`ag-viewport ${_T(e)}`,role:"presentation",children:[n,s?r:null]}}return n}var i5=class extends Ce{constructor(e){super(),this.eViewport=te,this.eContainer=te,this.eSpannedContainer=te,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e?.name,this.options=uc(this.name)}postConstruct(){this.setTemplate(t5(this.name,this.options,this.beans));let e={setHorizontalScroll:i=>this.eViewport.scrollLeft=i,setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setSpannedRowCtrls:i=>this.setRowCtrls(i,!0),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>{this.eContainer.style.width=i,this.eSpannedContainer&&(this.eSpannedContainer.style.width=i)},setOffsetTop:i=>{let s=`translateY(${i})`;this.eContainer.style.transform=s,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=s)}};this.createManagedBean(new q4(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){let{beans:i,options:s}=this,n=t?this.eSpannedContainer:this.eContainer,r=t?U({},this.rowCompsWithSpan):U({},this.rowCompsNoSpan),a={};t?this.rowCompsWithSpan=a:this.rowCompsNoSpan=a,this.lastPlacedElement=null;let d=[];for(let h of e){let v=h.instanceId,b=r[v],D;if(b)D=b,delete r[v];else{if(!h.rowNode.displayed)continue;D=new e5(h,i,s.type)}a[v]=D,d.push([D,!b])}this.removeOldRows(Object.values(r),n),this.addRowNodes(d,n)}addRowNodes(e,t){let{domOrder:i}=this;for(let[s,n]of e){let r=s.getGui();i?this.ensureDomOrder(r,t):n&&t.appendChild(r)}}removeOldRows(e,t){for(let i of e)t.removeChild(i.getGui()),i.destroy()}ensureDomOrder(e,t){RR(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},s5={selector:"AG-ROW-CONTAINER",component:i5};function Ql(e,t){return t.map(i=>{let s=`e${i[0].toUpperCase()+i.substring(1)}RowContainer`;return e[s]={name:i},{tag:"ag-row-container",ref:s,attrs:{name:i}}})}function n5(e){let t={},i={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:Ql(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:Ql(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:Ql(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:Ql(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:Ql(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:i}}var r5=class extends Ce{constructor(){super(...arguments),this.eGridRoot=te,this.eBodyViewport=te,this.eStickyTop=te,this.eStickyBottom=te,this.eTop=te,this.eBottom=te,this.eBody=te}postConstruct(){let{overlays:e,rangeSvc:t}=this.beans,i=e?.getOverlayWrapperSelector(),{paramsMap:s,elementParams:n}=n5(!!i);this.setTemplate(n,[...i?[i]:[],ez,sz,Qz,s5],s);let r=(d,h)=>{let v=`${d}px`;h.style.minHeight=v,h.style.height=v},a={setRowAnimationCssOnBodyViewport:(d,h)=>this.setRowAnimationCssOnBodyViewport(d,h),setColumnCount:d=>VV(this.getGui(),d),setRowCount:d=>GV(this.getGui(),d),setTopHeight:d=>r(d,this.eTop),setBottomHeight:d=>r(d,this.eBottom),setTopDisplay:d=>this.eTop.style.display=d,setBottomDisplay:d=>this.eBottom.style.display=d,setStickyTopHeight:d=>this.eStickyTop.style.height=d,setStickyTopTop:d=>this.eStickyTop.style.top=d,setStickyTopWidth:d=>this.eStickyTop.style.width=d,setStickyBottomHeight:d=>{this.eStickyBottom.style.height=d,this.eStickyBottom.classList.toggle("ag-invisible",d==="0px")},setStickyBottomBottom:d=>this.eStickyBottom.style.bottom=d,setStickyBottomWidth:d=>this.eStickyBottom.style.width=d,setColumnMovingCss:(d,h)=>this.addOrRemoveCssClass(d,h),updateLayoutClasses:(d,h)=>{let v=[this.eBodyViewport.classList,this.eBody.classList];for(let b of v)b.toggle(ws.AUTO_HEIGHT,h.autoHeight),b.toggle(ws.NORMAL,h.normal),b.toggle(ws.PRINT,h.print);this.addOrRemoveCssClass(ws.AUTO_HEIGHT,h.autoHeight),this.addOrRemoveCssClass(ws.NORMAL,h.normal),this.addOrRemoveCssClass(ws.PRINT,h.print)},setAlwaysVerticalScrollClass:(d,h)=>this.eBodyViewport.classList.toggle(OT,h),registerBodyViewportResizeListener:d=>{let h=In(this.beans,this.eBodyViewport,d);this.addDestroyFunc(()=>h())},setPinnedTopBottomOverflowY:d=>this.eTop.style.overflowY=this.eBottom.style.overflowY=d,setCellSelectableCss:(d,h)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(v=>v.classList.toggle(d,h))},setBodyViewportWidth:d=>this.eBodyViewport.style.width=d,setGridRootRole:d=>Ds(this.eGridRoot,d)};this.ctrl=this.createManagedBean(new Z4),this.ctrl.setComp(a,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&Ca(this.gos)||bH(this.gos))&&BV(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){let i=this.eBodyViewport.classList;i.toggle("ag-row-animation",t),i.toggle("ag-row-no-animation",!t)}},o5={selector:"AG-GRID-BODY",component:r5},a5=class extends ee{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,i){this.view=e,this.eGridHostDiv=t,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());let{dragAndDrop:s,ctrlsSvc:n}=this.beans;s?.registerGridDropTarget(()=>this.eGui,this),ST(this.gos,t),this.createManagedBean(new ob(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");let r=In(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>r()),n.register("gridCtrl",this)}isDetailGrid(){return Q6(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){let e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){let t=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(t,e);if(s<0||s>=t.length)return!1;if(s===0){if(i>0){let{visibleCols:n,focusSvc:r}=this.beans,a=n.allCols,d=Ue(a);if(r.focusGridView({column:d,backwards:!0}))return!0}return!1}return this.focusContainer(t[s],e)}focusInnerElement(e){let t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;let i=this.getFocusableContainers(),{focusSvc:s,visibleCols:n}=this.beans,r=n.allCols;if(e){if(i.length>1)return this.focusContainer(Ue(i),e);let a=Ue(r);if(s.focusGridView({column:a,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||eo(this.beans)){if(s.focusGridView({column:r[0],backwards:e}))return!0;for(let a=1;a<i.length;a++)if(sr(i[a].getGui(),e))return!0;return!1}return s.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){let t=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(t,e);if(s===-1||i<0||i>=t.length)return;let n=t[i];n.setAllowFocus?.(!0),setTimeout(()=>{n.setAllowFocus?.(!1)})}isFocusable(){let e=this.beans;return!nb(e)||!eo(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){let i=St(this.beans),s=e.findIndex(r=>r.getGui().contains(i)),n=s+(t?-1:1);return{indexWithFocus:s,nextIndex:n}}focusContainer(e,t){e.setAllowFocus?.(!0);let i=sr(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},l5=class extends so{constructor(e){super(),this.gridBody=te,this.sideBar=te,this.pagination=te,this.rootWrapperBody=te,this.eGridDiv=e}postConstruct(){let e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:r=>this.addCssClass(r),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:r=>{this.getGui().style.userSelect=r??"",this.getGui().style.webkitUserSelect=r??""},setCursor:r=>{this.getGui().style.cursor=r??""}},t=this.createManagedBean(new a5),i=t.getOptionalSelectors(),s=this.createTemplate(i),n=[o5,...Object.values(i).filter(r=>!!r)];this.setTemplate(s,n),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:r=>t.focusInnerElement(r),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){let e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),oc(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){let i=this.rootWrapperBody.classList,{AUTO_HEIGHT:s,NORMAL:n,PRINT:r}=ws,{autoHeight:a,normal:d,print:h}=t;i.toggle(s,a),i.toggle(n,d),i.toggle(r,h),this.addOrRemoveCssClass(s,a),this.addOrRemoveCssClass(n,d),this.addOrRemoveCssClass(r,h)}createTemplate(e){let t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,i=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,s=e.statusBarSelector?{tag:"ag-status-bar"}:null,n=e.watermarkSelector?{tag:"ag-watermark"}:null,r=e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},i]},s,r,n]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){let e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>nr(t.getGui()))}},De=(e,t)=>{for(let i of Object.keys(t))t[i]=e;return t},jM=U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U(U({dispatchEvent:"CommunityCore"},De("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0})),De("GridState",{getState:0})),De("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0})),De("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0})),De("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0})),De("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0})),De("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0})),De("ValueCache",{expireValueCache:0})),De("CellApi",{getCellValue:0})),De("SharedMenu",{showColumnMenu:0,hidePopupMenu:0})),De("Sort",{onSortChanged:0})),De("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0})),De("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0})),De("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0})),De("HighlightChanges",{flashCells:0})),De("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0})),De("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0})),De("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0})),De("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0})),De("ColumnMove",{moveColumnByIndex:0,moveColumns:0})),De("ColumnResize",{setColumnWidths:0})),De("ColumnHover",{isColumnHovered:0})),De("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0})),De("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0})),De("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0})),De("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0})),De("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0})),De("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0})),De("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0})),De("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0})),De("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0})),De("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0})),De("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0})),De("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0})),De("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0})),De("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0})),De("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0})),De("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0})),De("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0})),De("ContextMenu",{showContextMenu:0})),De("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0})),De("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0})),De("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0})),De("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0})),De("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0})),De("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0})),De("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0})),De("StatusBar",{getStatusPanel:0})),CC={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},c5=(e,t)=>e.eventSvc.dispatchEvent(t),qT=class{};Reflect.defineProperty(qT,"name",{value:"GridApi"});var d5=class extends ee{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new qT,this.fns=be(U({},CC),{dispatchEvent:c5}),this.preDestroyLink="";let{api:e}=this;for(let t of Object.keys(jM))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){let{fns:i,beans:s}=this;i!==CC&&(i[e]=s?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{let{beans:i,fns:{[e]:s}}=this;return s?s(i,...t):this.apiNotFound(e)}}}apiNotFound(e){let{beans:t,gos:i,preDestroyLink:s}=this;if(!t)ue(26,{fnName:e,preDestroyLink:s});else{let n=jM[e];i.assertModuleRegistered(n,`api.${e}`)&&ue(27,{fnName:e,module:n})}}destroy(){super.destroy(),this.fns=CC,this.beans=null}};function u5(e){return e.context.getGridId()}function h5(e){e.gridDestroySvc.destroy()}function p5(e){return e.gridDestroySvc.destroyCalled}function g5(e,t){return e.gos.get(t)}function f5(e,t,i){YT(e,{[t]:i})}function YT(e,t){e.gos.updateGridOptions({options:t})}var m5=class extends ee{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){let t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:i}=this.beans;return i.addDragSource(t),()=>i.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();let i=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(i)}setResizeIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){let e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};var XT={moduleName:"Drag",version:ut,beans:[y4]};var hb={moduleName:"SharedDragAndDrop",version:ut,beans:[g4],dependsOn:[XT],userComponents:{agDragAndDropImage:Mz},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}};var pb={moduleName:"HorizontalResize",version:ut,beans:[m5],dependsOn:[XT]},v5=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",C5=class extends ee{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;let{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;let e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){let{executeNextFuncs:i,executeLaterFuncs:s}=this;if(i.length===0&&s.length===0){e(),t();return}let n=r=>{for(;r.length;){let a=r.pop();a&&a()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),n(i)},0),window.setTimeout(()=>{t(),n(s)},200)})}};function b5(e,t,i){e.colMoves?.moveColumnByIndex(t,i,"api")}function y5(e,t,i){e.colMoves?.moveColumns(t,i,"api")}var w5=class extends ee{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;let t=e.dragItem.columns;t&&t.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){let{valueColsSvc:t,rowGroupColsSvc:i,pivotColsSvc:s}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&i?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&s?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function S5(e,t){!t||t.length<=1||t.filter(s=>e.indexOf(s)<0).length>0||t.sort((s,n)=>{let r=e.indexOf(s),a=e.indexOf(n);return r-a})}function ZT(e){let{isFromHeader:t,fromLeft:i,xPosition:s,fromEnter:n,fakeEvent:r,pinned:a,gos:d,colModel:h,colMoves:v,visibleCols:b}=e,{allMovingColumns:D}=e;if(t){let W=[];D.forEach(le=>{let me=null,Fe=le.getParent();for(;Fe!=null&&Fe.getDisplayedLeafColumns().length===1;)me=Fe,Fe=Fe.getParent();me!=null?(!!me.getColGroupDef()?.marryChildren?me.getProvidedColumnGroup().getLeafColumns():me.getLeafColumns()).forEach(ct=>{W.includes(ct)||W.push(ct)}):W.includes(le)||W.push(le)}),D=W}let R=D.slice();S5(h.getCols(),R);let A=M5({movingCols:R,draggingRight:i,xPosition:s,pinned:a,gos:d,colModel:h,visibleCols:b}),k=x5(R,h);if(A.length===0)return;let L=A[0],H=k!==null&&!n;if(t&&(H=k!==null),H&&!r&&(!i&&L>=k||i&&L<=k))return;let $=b.allCols,Z=[],Q=null;for(let W=0;W<A.length;W++){let le=A[W],me=v.getProposedColumnOrder(R,le);if(!v.doesOrderPassRules(me))continue;let Fe=me.filter(tt=>$.includes(tt));if(Q===null)Q=Fe;else if(!wa(Fe,Q))break;let ye=D5(me);Z.push({move:le,fragCount:ye})}if(Z.length===0)return;Z.sort((W,le)=>W.fragCount-le.fragCount);let se=Z[0].move;if(!(se>h.getCols().length-D.length))return{columns:D,toIndex:se}}function QT(e){let{columns:t,toIndex:i}=ZT(e)||{},{finished:s,colMoves:n}=e;return!t||i==null?null:(n.moveColumns(t,i,"uiColumnMoved",s),s?null:{columns:t,toIndex:i})}function x5(e,t){let i=t.getCols(),s=e.map(h=>i.indexOf(h)).sort((h,v)=>h-v),n=s[0];return Ue(s)-n!==s.length-1?null:n}function D5(e){function t(s){let n=[],r=s.getOriginalParent();for(;r!=null;)n.push(r),r=r.getOriginalParent();return n}let i=0;for(let s=0;s<e.length-1;s++){let n=t(e[s]),r=t(e[s+1]);[n,r]=n.length>r.length?[n,r]:[r,n],n.forEach(a=>{r.indexOf(a)===-1&&i++})}return i}function E5(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function M5(e){let{movingCols:t,draggingRight:i,xPosition:s,pinned:n,gos:r,colModel:a,visibleCols:d}=e;if(r.get("suppressMovableColumns")||t.some(Q=>Q.getColDef().suppressMovable))return[];let v=E5(d,n),b=a.getCols(),D=v.filter(Q=>t.includes(Q)),R=v.filter(Q=>!t.includes(Q)),A=b.filter(Q=>!t.includes(Q)),k=0,L=s;if(i){let Q=0;D.forEach(se=>Q+=se.getActualWidth()),L-=Q}if(L>0){for(let Q=0;Q<R.length;Q++){let se=R[Q];if(L-=se.getActualWidth(),L<0)break;k++}i&&k++}let H;if(k>0){let Q=R[k-1];H=A.indexOf(Q)+1}else H=A.indexOf(R[0]),H===-1&&(H=0);let $=[H],Z=(Q,se)=>Q-se;if(i){let Q=H+1,se=b.length-1;for(;Q<=se;)$.push(Q),Q++;$.sort(Z)}else{let Q=H,se=b.length-1,W=b[Q];for(;Q<=se&&v.indexOf(W)<0;)Q++,$.push(Q),W=b[Q];Q=H-1;let le=0;for(;Q>=le;)$.push(Q),Q--;$.sort(Z).reverse()}return $}function zC(e){let{pinned:t,fromKeyboard:i,gos:s,ctrlsSvc:n,useHeaderRow:r,skipScrollPadding:a}=e,d=n.getHeaderRowContainerCtrl(t)?.eViewport,{x:h}=e;return d?(i&&(h-=d.getBoundingClientRect().left),s.get("enableRtl")&&(r&&(d=d.querySelector(".ag-header-row")),h=d.clientWidth-h),t==null&&!a&&(h+=n.get("center").getCenterViewportScrollLeft()),h):0}function bC(e,t){for(let i of e)i.moving=t,i.dispatchColEvent("movingChanged","uiColumnMoved")}var UM=7,WC=100,wh=WC/2,R5=5,T5=100,I5=class extends ee{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ee(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){let{pinned:e,lastDraggingEvent:t}=this,i=t?.dragItem.columns??[];for(let s of i){let n=s.getPinned();if(s.getColDef().lockPinned){if(n==e)return"move";continue}if(n===e||!e)return"move";if(!n&&e)return"pinned"}return"notAllowed"}onDragEnter(e){let t=e.dragItem,i=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(i,!0,"uiColumnDragged");else{let n=t.visibleState,r=(i||[]).filter(a=>n[a.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(i,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,i=!1,s=!1){let{gos:n,ctrlsSvc:r}=this.beans,a=n.get("suppressMoveWhenColumnDragging");if(s&&!a){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!s&&_t(e.hDirection))return;let d=zC({x:e.x,pinned:this.pinned,gos:n,ctrlsSvc:r});t||this.checkCenterForScrolling(d),a?this.handleColumnDragWhileSuppressingMovement(e,t,i,d,s):this.handleColumnDragWhileAllowingMovement(e,t,i,d,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,i){if(!e)return;let s=e.filter(n=>!n.getColDef().lockVisible);this.beans.colModel.setColsVisible(s,t,i)}finishColumnMoving(){this.clearHighlighted();let e=this.lastMovedInfo;if(!e)return;let{columns:t,toIndex:i}=e;this.beans.colMoves.moveColumns(t,i,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,i,s,n){let r=this.getAllMovingColumns(e,!0);if(n){let a=this.isAttemptingToPin(r);a&&this.attemptToPinColumns(r,void 0,!0);let{fromLeft:d,xPosition:h}=this.getNormalisedXPositionInfo(r,a)||{};if(d==null||h==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:h,fromEnter:t,fakeEvent:i,fromLeft:d})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,s)}}handleColumnDragWhileAllowingMovement(e,t,i,s,n){let r=this.getAllMovingColumns(e),a=this.normaliseDirection(e.hDirection)==="right",d=e.dragSource.type===1,h=this.getMoveColumnParams({allMovingColumns:r,isFromHeader:d,xPosition:s,fromLeft:a,fromEnter:t,fakeEvent:i}),v=QT(be(U({},h),{finished:n}));v&&(this.lastMovedInfo=v)}getAllMovingColumns(e,t=!1){let i=e.dragSource.getDragItem(),s=null;t?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;let n=r=>r.getColDef().lockPinned?r.getPinned()==this.pinned:!0;return s?s.filter(n):[]}getMoveColumnParams(e){let{allMovingColumns:t,isFromHeader:i,xPosition:s,fromLeft:n,fromEnter:r,fakeEvent:a}=e,{gos:d,colModel:h,colMoves:v,visibleCols:b}=this.beans;return{allMovingColumns:t,isFromHeader:i,fromLeft:n,xPosition:s,pinned:this.pinned,fromEnter:r,fakeEvent:a,gos:d,colModel:h,colMoves:v,visibleCols:b}}highlightHoveredColumn(e,t){let{gos:i,colModel:s}=this.beans,n=i.get("enableRtl"),r=s.getCols().filter(b=>b.isVisible()&&b.getPinned()===this.pinned),a=null,d=null,h=null;for(let b of r){if(d=b.getActualWidth(),a=this.getNormalisedColumnLeft(b,0,n),a!=null){let D=a+d;if(a<=t&&D>=t){h=b;break}}a=null,d=null}if(h)e.indexOf(h)!==-1&&(h=null);else{for(let b=r.length-1;b>=0;b--){let D=r[b],R=r[b].getParent();if(!R){h=D;break}let A=R?.getDisplayedLeafColumns();if(A.length){h=Ue(A);break}}if(!h)return;a=this.getNormalisedColumnLeft(h,0,n),d=h.getActualWidth()}if(this.lastHighlightedColumn?.column!==h&&this.clearHighlighted(),h==null||a==null||d==null)return;let v;t-a<d/2!==n?v=0:v=1,$M(h,v),this.lastHighlightedColumn={column:h,position:v}}getNormalisedXPositionInfo(e,t){let{gos:i,visibleCols:s}=this.beans,n=i.get("enableRtl"),{firstMovingCol:r,column:a,position:d}=this.getColumnMoveAndTargetInfo(e,t,n);if(!r||!a||d==null)return;let h=s.allCols,v=h.indexOf(r),b=h.indexOf(a),D=d===0!==n,R=v<b||v===b&&!D,A=0;if(D?R&&(A-=1):R||(A+=1),b+A===v)return;let k=h[b+A];if(!k)return;let L=this.getNormalisedColumnLeft(k,20,n);return{fromLeft:R,xPosition:L}}getColumnMoveAndTargetInfo(e,t,i){let s=this.lastHighlightedColumn||{},{firstMovingCol:n,lastMovingCol:r}=A5(e);if(!n||!r||s.column||!t)return U({firstMovingCol:n},s);let d=this.getPinDirection()==="left";return{firstMovingCol:n,position:d?1:0,column:d!==i?n:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,i){let{gos:s,ctrlsSvc:n}=this.beans,r=e.getLeft();if(r==null)return null;let a=e.getActualWidth();return zC({x:i?r+a-t:r+t,pinned:e.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsSvc:n})}isAttemptingToPin(e){let t=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>UM;return t&&i||e.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){let{allMovingColumns:t,xPosition:i,fromEnter:s,fakeEvent:n,fromLeft:r}=e,a=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:i,fromLeft:r,fromEnter:s,fakeEvent:n}),{columns:d,toIndex:h}=ZT(a)||{};d&&h!=null&&(this.lastMovedInfo={columns:d,toIndex:h}),this.finishColumnMoving()}clearHighlighted(){let{lastHighlightedColumn:e}=this;e&&($M(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;let t=this.beans.ctrlsSvc.get("center"),i=t.getCenterViewportScrollLeft(),s=i+t.getCenterWidth(),n,r;this.gos.get("enableRtl")?(n=e<i+wh,r=e>s-wh):(r=e<i+wh,n=e>s-wh),this.needToMoveRight=n,this.needToMoveLeft=r,r||n?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),T5),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*R5,e>WC&&(e=WC);let t=null,i=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=i.scrollHorizontally(-e):this.needToMoveRight&&(t=i.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;let{pinnedCols:s,dragAndDrop:n,gos:r}=this.beans;if(this.failedMoveAttempts<=UM+1||!s)return;if(n.getDragAndDropImageComponent()?.setIcon("pinned",!1),!r.get("suppressMoveWhenColumnDragging")){let a=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(a,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,i=!1){let s=(e||[]).filter(a=>!a.getColDef().lockPinned);if(!s.length)return 0;i&&(t=this.getPinDirection());let{pinnedCols:n,dragAndDrop:r}=this.beans;return n?.setColsPinned(s,t,"uiColumnDragged"),i&&r.nudge(),s.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function $M(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function A5(e){let t=e.length,i,s;for(let n=0;n<t;n++){if(!i){let r=e[n];r.getLeft()!=null&&(i=r)}if(!s){let r=e[t-1-n];r.getLeft()!=null&&(s=r)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}var F5=class extends ee{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){let{ctrlsSvc:e,dragAndDrop:t}=this.beans,i=this.pinned;e.whenReady(this,s=>{let n,r=s.gridBodyCtrl.eBodyViewport;switch(i){case"left":n=[[r,s.left.eContainer],[s.bottomLeft.eContainer],[s.topLeft.eContainer]];break;case"right":n=[[r,s.right.eContainer],[s.bottomRight.eContainer],[s.topRight.eContainer]];break;default:n=[[r,s.center.eViewport],[s.bottomCenter.eViewport],[s.topCenter.eViewport]];break}this.eSecondaryContainers=n}),this.moveColumnFeature=this.createManagedBean(new I5(i)),this.bodyDropPivotTarget=this.createManagedBean(new w5(i)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},P5=class extends ee{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,i){let s=this.beans.colModel.getCols();if(!s)return;let n=s[e];this.moveColumns([n],t,i)}moveColumns(e,t,i,s=!0){let{colModel:n,colAnimation:r,visibleCols:a,eventSvc:d}=this.beans,h=n.getCols();if(!h)return;if(t>h.length-e.length){ue(30,{toIndex:t});return}r?.start();let v=n.getColsForKeys(e);this.doesMovePassRules(v,t)&&(TM(n.getCols(),v,t),a.refresh(i),d.dispatchEvent({type:"columnMoved",columns:v,column:v.length===1?v[0]:null,toIndex:t,finished:s,source:i})),r?.finish()}doesMovePassRules(e,t){let i=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(i)}doesOrderPassRules(e){let{colModel:t,gos:i}=this.beans;return!(!oT(e,t.getColTree())||!(n=>{let r=v=>v?v==="left"||v===!0?-1:1:0,a=i.get("enableRtl"),d=a?1:-1,h=!0;return n.forEach(v=>{let b=r(v.getColDef().lockPosition);a?b>d&&(h=!1):b<d&&(h=!1),d=b}),h})(e))}getProposedColumnOrder(e,t){let s=this.beans.colModel.getCols().slice();return TM(s,e,t),s}createBodyDropTarget(e,t){return new F5(e,t)}moveHeader(e,t,i,s,n){let{ctrlsSvc:r,gos:a,colModel:d,visibleCols:h,focusSvc:v}=this.beans,b=t.getBoundingClientRect(),D=b.left,R=It(i),A=R?b.width:i.getActualWidth(),k=e==="left"!==a.get("enableRtl"),L=zC({x:k?D-20:D+A+20,pinned:s,fromKeyboard:!0,gos:a,ctrlsSvc:r}),H=v.focusedHeader;QT({allMovingColumns:R?i.getLeafColumns():[i],isFromHeader:!0,fromLeft:e==="right",xPosition:L,pinned:s,fromEnter:!1,fakeEvent:!1,gos:a,colModel:d,colMoves:this,visibleCols:h,finished:!0});let $;if(R){let Z=i.getDisplayedLeafColumns();$=k?Z[0]:Ue(Z)}else $=i;if(r.getScrollFeature().ensureColumnVisible($,"auto"),(!n.isAlive()||a.get("ensureDomOrder"))&&H){let Z;if(R){let Q=i.getGroupId(),se=i.getLeafColumns();if(!se.length)return;let W=se[0].getParent();if(!W)return;Z=_5(W,Q)}else Z=i;Z&&v.focusHeaderPosition({headerPosition:be(U({},H),{column:Z})})}}setDragSourceForHeader(e,t,i){let{gos:s,colModel:n,dragAndDrop:r,visibleCols:a}=this.beans,d=!s.get("suppressDragLeaveHidesColumns"),h=It(t),v=h?t.getProvidedColumnGroup().getLeafColumns():[t],D={type:1,eElement:e,getDefaultIconName:()=>d?"hide":"notAllowed",getDragItem:h?()=>L5(t,a.allCols):()=>k5(t),dragItemName:i,onDragStarted:()=>{d=!s.get("suppressDragLeaveHidesColumns"),bC(v,!0)},onDragStopped:()=>bC(v,!1),onDragCancelled:()=>bC(v,!1),onGridEnter:R=>{if(d){let{columns:A=[],visibleState:k}=R??{},L=h?$=>!k||k[$.getColId()]:()=>!0,H=A.filter($=>!$.getColDef().lockVisible&&L($));n.setColsVisible(H,!0,"uiColumnMoved")}},onGridExit:R=>{if(d){let A=R?.columns?.filter(k=>!k.getColDef().lockVisible)||[];n.setColsVisible(A,!1,"uiColumnMoved")}}};return r.addDragSource(D,!0),D}};function _5(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function k5(e){let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function L5(e,t){let i=e.getProvidedColumnGroup().getLeafColumns(),s={};i.forEach(d=>s[d.getId()]=d.isVisible());let n=[];t.forEach(d=>{i.indexOf(d)>=0&&(n.push(d),Mn(i,d))}),i.forEach(d=>n.push(d));let r=[],a=e.getLeafColumns();for(let d of n)a.indexOf(d)!==-1&&r.push(d);return{columns:n,columnsInSplit:r,visibleState:s}}var gb={moduleName:"ColumnMove",version:ut,beans:[P5,C5],apiFunctions:{moveColumnByIndex:b5,moveColumns:y5},dependsOn:[hb],css:[v5]},O5=class extends ee{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){let i=this.getHeaderCellForColumn(e);if(!i)return-1;let s=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||s.push(i),this.getPreferredWidthForElements(s)}getPreferredWidthForColumnGroup(e){let t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){let i=document.createElement("form");i.style.position="fixed";let s=this.centerRowContainerCtrl.eContainer;e.forEach(r=>this.cloneItemIntoDummy(r,i)),s.appendChild(i);let n=i.offsetWidth;return s.removeChild(i),t=t??this.gos.get("autoSizePadding"),n+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(i=>{let s=i.getHtmlElementForColumnHeader(e);s!=null&&(t=s)}),t}cloneItemIntoDummy(e,t){let i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";let s=document.createElement("div"),n=s.classList;["ag-header-cell","ag-header-group-cell"].some(d=>i.classList.contains(d))?(n.add("ag-header","ag-header-row"),s.style.position="static"):n.add("ag-row");let a=e.parentElement;for(;a;){if(["ag-header-row","ag-row"].some(h=>a.classList.contains(h))){for(let h=0;h<a.classList.length;h++){let v=a.classList[h];v!="ag-row-position-absolute"&&n.add(v)}break}a=a.parentElement}s.appendChild(i),t.appendChild(s)}},N5={moduleName:"AutoWidth",version:ut,beans:[O5]};function B5(e,t,i=!0,s="api"){e.colResize?.setColumnWidths(t,!1,i,s)}var G5=class extends ee{constructor(e,t,i,s){super(),this.comp=e,this.eResize=t,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}let{horizontalResizeSvc:e,gos:t,colAutosize:i}=this.beans,s=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(s),!t.get("suppressAutoSize")&&i&&this.addDestroyFunc(i.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){let{columnsToResize:t,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:n,groupAfterStartWidth:r,groupAfterRatios:a}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=n,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=a,this.toggleColumnResizing(!0)}onResizing(e,t,i="uiColumnResized"){let s=this.normaliseDragChange(t),n=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(n,i,e)}getInitialValues(e){let t=h=>h.reduce((v,b)=>v+b.getActualWidth(),0),i=(h,v)=>h.map(b=>b.getActualWidth()/v),s=this.getColumnsToResize(),n=t(s),r=i(s,n),a={columnsToResize:s,resizeStartWidth:n,resizeRatios:r},d=null;if(e&&(d=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),d){let h=d.getDisplayedLeafColumns(),v=a.groupAfterColumns=h.filter(D=>D.isResizable()),b=a.groupAfterStartWidth=t(v);a.groupAfterRatios=i(v,b)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a}resizeLeafColumnsToFit(e){let t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();t>i.resizeStartWidth&&this.resizeColumns(i,t,e,!0)}resizeColumnsFromLocalValues(e,t,i=!0){if(!this.resizeCols||!this.resizeRatios)return;let s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(s,e,t,i)}resizeColumns(e,t,i,s=!0){let{columnsToResize:n,resizeStartWidth:r,resizeRatios:a,groupAfterColumns:d,groupAfterStartWidth:h,groupAfterRatios:v}=e,b=[];if(b.push({columns:n,ratios:a,width:t}),d){let D=t-r;b.push({columns:d,ratios:v,width:h-D})}this.beans.colResize?.resizeColumnSets({resizeSets:b,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},V5=class extends ee{constructor(e,t,i,s,n){super(),this.pinned=e,this.column=t,this.eResize=i,this.comp=s,this.ctrl=n}postConstruct(){let e=[],t,i,s=()=>{if(qe(this.eResize,t),!t)return;let{horizontalResizeSvc:a,colAutosize:d}=this.beans,h=a.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(h),i&&d&&e.push(d.addColumnAutosize(this.eResize,this.column))},n=()=>{e.forEach(a=>a()),e.length=0},r=()=>{let a=this.column.isResizable(),d=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(a!==t||d!==i)&&(t=a,i=d,n(),s())};r(),this.addDestroyFunc(n),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){let{column:i,lastResizeAmount:s,resizeStartWidth:n,beans:r}=this,a=this.normaliseResizeAmount(t),d=n+a,h=[{key:i,newWidth:d}],{pinnedCols:v,ctrlsSvc:b,colResize:D}=r;if(this.column.getPinned()){let R=v?.leftWidth??0,A=v?.rightWidth??0,k=Rh(b.getGridBodyCtrl().eBodyViewport)-50;if(R+A+(a-s)>k)return}this.lastResizeAmount=a,D?.setColumnWidths(h,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e,i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(t*=-1):s&&(t*=-1),t}},H5=class extends ee{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,i,s){let n=[],{colModel:r,gos:a,visibleCols:d}=this.beans;e.forEach(h=>{let v=r.getColDefCol(h.key)||r.getCol(h.key);if(!v)return;if(n.push({width:h.newWidth,ratios:[1],columns:[v]}),a.get("colResizeDefault")==="shift"&&(t=!t),t){let D=d.getColAfter(v);if(!D)return;let R=v.getActualWidth()-h.newWidth,A=D.getActualWidth()+R;n.push({width:A,ratios:[1],columns:[D]})}}),n.length!==0&&this.resizeColumnSets({resizeSets:n,finished:i,source:s})}resizeColumnSets(e){let{resizeSets:t,finished:i,source:s}=e;if(!(!t||t.every(b=>z5(b)))){if(i){let b=t&&t.length>0?t[0].columns:null;Lh(this.eventSvc,b,i,s)}return}let r=[],a=[];t.forEach(b=>{let{width:D,columns:R,ratios:A}=b,k={},L={};R.forEach(Z=>a.push(Z));let H=!0,$=0;for(;H;){if($++,$>1e3){ei(31);break}H=!1;let Z=[],Q=0,se=D;R.forEach((le,me)=>{if(L[le.getId()])se-=k[le.getId()];else{Z.push(le);let ye=A[me];Q+=ye}});let W=1/Q;Z.forEach((le,me)=>{let Fe=me===Z.length-1,ye;Fe?ye=se:(ye=Math.round(A[me]*D*W),se-=ye);let tt=le.getMinWidth(),ct=le.getMaxWidth();ye<tt?(ye=tt,L[le.getId()]=!0,H=!0):ct>0&&ye>ct&&(ye=ct,L[le.getId()]=!0,H=!0),k[le.getId()]=ye})}R.forEach(Z=>{let Q=k[Z.getId()];Z.getActualWidth()!==Q&&(Z.setActualWidth(Q,s),r.push(Z))})});let d=r.length>0,h=[];if(d){let{colFlex:b,visibleCols:D,colViewport:R}=this.beans;h=b?.refreshFlexedColumns({resizingCols:a,skipSetLeft:!0})??[],D.setLeftValues(s),D.updateBodyWidths(),R.checkViewportColumns()}let v=a.concat(h);(d||i)&&Lh(this.eventSvc,v,i,s,h)}resizeHeader(e,t,i){if(!e.isResizable())return;let s=e.getActualWidth(),n=e.getMinWidth(),r=e.getMaxWidth(),a=Math.min(Math.max(s+t,n),r);this.setColumnWidths([{key:e,newWidth:a}],i,!0,"uiColumnResized")}createResizeFeature(e,t,i,s,n){return new V5(e,t,i,s,n)}createGroupResizeFeature(e,t,i,s){return new G5(e,t,i,s)}};function z5(e){let{columns:t,width:i}=e,s=0,n=0,r=!0;t.forEach(h=>{let v=h.getMinWidth();s+=v||0;let b=h.getMaxWidth();b>0?n+=b:r=!1});let a=i>=s,d=!r||i<=n;return a&&d}var W5={moduleName:"ColumnResize",version:ut,beans:[H5],apiFunctions:{setColumnWidths:B5},dependsOn:[pb,N5]},j5=class extends ee{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();let e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){let e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},U5=class extends zT{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,i,s,n){let{column:r,beans:a}=this,{context:d,colNames:h,colHover:v,rangeSvc:b,colResize:D}=a;this.comp=e,n=Xh(this,d,n),this.setGui(t,n),this.displayName=h.getDisplayNameForColumnGroup(r,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(n),this.setupExpandable(n),this.setupTooltip(),this.setupAutoHeight({wrapperElement:s,compBean:n}),this.setupUserComp(),this.addHeaderMouseListeners(n),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();let R=this.rowCtrl.pinned,A=r.getProvidedColumnGroup().getLeafColumns();v?.createHoverFeature(n,A,t),b?.createRangeHighlightFeature(n,r,e),n.createManagedBean(new VT(r,t,a)),n.createManagedBean(new j5(e,r)),D?this.resizeFeature=n.createManagedBean(D.createGroupResizeFeature(e,i,R,r)):e.setResizableDisplayed(!1),n.createManagedBean(new rr(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(n,A),n.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(n),n.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){let{column:e,beans:t}=this,i=e.getDefinition();return je(t.gos,{colDef:i,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){let{gos:e,comp:t}=this,i=e.get("groupHeaderHeight");i!=null?i===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(i):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(let i of t)e.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(e){let t=this.column.getDisplayedLeafColumns(),i=t[0]===e,s=Ue(t)===e;if(!i&&!s)return;let n=e.getHighlighted(),r=!!this.rowCtrl.getHeaderCellCtrls().find(h=>h.column.isMoving()),a=!1,d=!1;if(r){let h=this.beans.gos.get("enableRtl"),v=n===1,b=n===0;i&&(h?d=v:a=b),s&&(h?a=b:d=v)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",a),this.comp.addOrRemoveCssClass("ag-header-highlight-after",d)}resizeHeader(e,t){let{resizeFeature:i}=this;if(!i)return;let s=i.getInitialValues(t);i.resizeColumns(s,s.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){let{colGroupSvc:e,userCompFactory:t,gos:i}=this.beans,s=je(i,{displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,a)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(r,a)}}),n=T6(t,s);n&&this.comp.setUserCompDetails(n)}addHeaderMouseListeners(e){let t=n=>this.handleMouseOverChange(n.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=n=>this.handleContextMenuMouseEvent(n,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:i,contextmenu:s})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){let t=this.column.getProvidedColumnGroup();this.refreshExpanded();let i=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){let{column:e}=this;this.expandable=e.isExpandable();let t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){let{column:e}=this,t=e.getColGroupDef(),i=mT(t,this.gos,null,e);e.isPadding()?(i.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(n=>n.isSpanHeaderHeight())&&i.push("ag-header-span-height")):(i.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&i.push("ag-header-cell-wrap-text")),i.forEach(s=>this.comp.addOrRemoveCssClass(s,!0))}setupMovingCss(e){let{column:t}=this,s=t.getProvidedColumnGroup().getLeafColumns(),n=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());s.forEach(r=>{e.addManagedListeners(r,{movingChanged:n})}),n()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);let t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===K.ENTER){let i=this.column,s=!i.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function $5(e,t,i){e.colGroupSvc?.setColumnGroupOpened(t,i,"api")}function K5(e,t,i){return e.colGroupSvc?.getColumnGroup(t,i)??null}function q5(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function Y5(e,t,i){return e.colNames.getDisplayNameForColumnGroup(t,i)||""}function X5(e){return e.colGroupSvc?.getColumnGroupState()??[]}function Z5(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function Q5(e){e.colGroupSvc?.resetColumnGroupState("api")}function J5(e){return e.visibleCols.treeLeft}function e8(e){return e.visibleCols.treeCenter}function t8(e){return e.visibleCols.treeRight}function i8(e){return e.visibleCols.getAllTrees()}function s8(e,t){for(let i=0;i<t.length;i++){let s=e.indexOf(t[i]);s>=0&&(e[s]=e[e.length-1],e.pop())}}var n8=class extends ee{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){let{colModel:i,colGroupSvc:s,colViewport:n}=this.beans;t||this.buildTrees(i,s),s?.updateOpenClosedVisibility();let r=yC(this.treeLeft);this.leftCols=r,this.centerCols=yC(this.treeCenter);let a=yC(this.treeRight);this.rightCols=a,this.joinColsAriaOrder(i),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(d=>d.isAutoHeight()),this.beans.colFlex?.refreshFlexedColumns(),this.updateBodyWidths(),n.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(i,r,a,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){let e=ca(this.centerCols),t=ca(this.leftCols),i=ca(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=i,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,i,s){let n,r;this.gos.get("enableRtl")?(n=t?t[0]:null,r=i?Ue(i):null):(n=t?Ue(t):null,r=i?i[0]:null),e.getCols().forEach(a=>{a.setLastLeftPinned(a===n,s),a.setFirstRightPinned(a===r,s)})}buildTrees(e,t){let i=e.getColsToShow(),s=i.filter(h=>h.getPinned()=="left"),n=i.filter(h=>h.getPinned()=="right"),r=i.filter(h=>h.getPinned()!="left"&&h.getPinned()!="right"),a=new a6,d=h=>t?t.createColumnGroups(h):h.columns;this.treeLeft=d({columns:s,idCreator:a,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=d({columns:n,idCreator:a,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=d({columns:r,idCreator:a,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){let t=e.getCols(),i=[],s=[],n=[];for(let r of t){let a=r.getPinned();a?a===!0||a==="left"?i.push(r):n.push(r):s.push(r)}this.ariaOrderColumns=i.concat(s).concat(n)}getAriaColIndex(e){let t;return It(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{It(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){let{colModel:t}=this.beans;if(!t.getColDefCols())return;let s=t.getCols().slice(0),n=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(r=>{if(n){let a=ca(r);r.forEach(d=>{a-=d.getActualWidth(),d.setLeft(a,e)})}else{let a=0;r.forEach(d=>{d.setLeft(a,e),a+=d.getActualWidth()})}s8(s,r)}),s.forEach(r=>{r.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){let{leftCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){let{rightCols:t,beans:{colModel:i}}=this;return i.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,i,s){let n=[],r=null;for(let a=0;a<t.length;a++){let d=t[a],h=t.length-a,v=Math.min(d.getColSpan(e),h),b=[d];if(v>1){let R=v-1;for(let A=1;A<=R;A++)b.push(t[a+A]);a+=R}let D;i?(D=!1,b.forEach(R=>{i(R)&&(D=!0)})):D=!0,D&&(n.length===0&&r&&(s&&s(d))&&n.push(r),n.push(d)),r=d}return n}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){let t=this.allCols,i=t.indexOf(e);return i>0?t[i-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};let e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};to(this.treeCenter,!1,e),to(this.treeLeft,!1,e),to(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){let e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let i=0;i<t.length;i++){let s=this[t[i]];if(s.length)return e?Ue(s):s[0]}return null}getColAfter(e){let t=this.allCols,i=t.indexOf(e);return i<t.length-1?t[i+1]:null}getColsLeftWidth(){return ca(this.leftCols)}getDisplayedColumnsRightWidth(){return ca(this.rightCols)}isColAtEdge(e,t){let i=this.allCols;if(!i.length)return!1;let s=t==="first",n;if(It(e)){let r=e.getDisplayedLeafColumns();if(!r.length)return!1;n=s?r[0]:Ue(r)}else n=e;return(s?i[0]:Ue(i))===n}};function to(e,t,i){if(e)for(let s=0;s<e.length;s++){let n=e[s];if(It(n)){let r=t?n.getDisplayedChildren():n.getChildren();to(r,t,i)}i(n)}}function yC(e){let t=[];return to(e,!0,i=>{En(i)&&t.push(i)}),t}var r8=class extends ee{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){let e=[],t=this.beans.colModel.getColTree();return xn(null,t,i=>{Et(i)&&e.push({groupId:i.getGroupId(),open:i.isExpanded()})}),e}resetColumnGroupState(e){let t=this.beans.colModel.getColDefColTree();if(!t)return;let i=[];xn(null,t,s=>{if(Et(s)){let n=s.getColGroupDef(),r={groupId:s.getGroupId(),open:n?n.openByDefault:void 0};i.push(r)}}),this.setColumnGroupState(i,e)}setColumnGroupState(e,t){let{colModel:i,colAnimation:s,visibleCols:n,eventSvc:r}=this.beans;if(!i.getColTree().length)return;s?.start();let d=[];e.forEach(h=>{let v=h.groupId,b=h.open,D=this.getProvidedColGroup(v);D&&D.isExpanded()!==b&&(D.setExpanded(b),d.push(D))}),n.refresh(t,!0),d.length&&r.dispatchEvent({type:"columnGroupOpened",columnGroup:d.length===1?d[0]:void 0,columnGroups:d}),s?.finish()}setColumnGroupOpened(e,t,i){let s;Et(e)?s=e.getId():s=e||"",this.setColumnGroupState([{groupId:s,open:t}],i)}getProvidedColGroup(e){let t=null;return xn(null,this.beans.colModel.getColTree(),i=>{Et(i)&&i.getId()===e&&(t=i)}),t}getGroupAtDirection(e,t){let i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),n=t==="After"?Ue(s):s[0],r=`getCol${t}`;for(;;){let a=this.beans.visibleCols[r](n);if(!a)return null;let d=this.getColGroupAtLevel(a,i);if(d!==e)return d}}getColGroupAtLevel(e,t){let i=e.getParent(),s,n;for(;s=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),!(s+n<=t);)i=i.getParent();return i}updateOpenClosedVisibility(){let e=this.beans.visibleCols.getAllTrees();to(e,!1,t=>{It(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(It(e))return e;let i=this.beans.visibleCols.getAllTrees(),s=typeof t=="number",n=null;return to(i,!1,r=>{if(It(r)){let a=r,d;s?d=e===a.getGroupId()&&t===a.getPartId():d=e===a.getGroupId(),d&&(n=a)}}),n}createColumnGroups(e){let{columns:t,idCreator:i,pinned:s,oldDisplayedGroups:n,isStandaloneStructure:r}=e,a=this.mapOldGroupsById(n),d=[],h=t;for(;h.length;){let v=h;h=[];let b=0,D=R=>{let A=b;b=R;let k=v[A],H=(It(k)?k.getProvidedColumnGroup():k).getOriginalParent();if(H==null){for(let Z=A;Z<R;Z++)d.push(v[Z]);return}let $=this.createColumnGroup(H,i,a,s,r);for(let Z=A;Z<R;Z++)$.addChild(v[Z]);h.push($)};for(let R=1;R<v.length;R++){let A=v[R],L=(It(A)?A.getProvidedColumnGroup():A).getOriginalParent(),H=v[b],Z=(It(H)?H.getProvidedColumnGroup():H).getOriginalParent();L!==Z&&D(R)}b<v.length&&D(v.length)}return r||this.setupParentsIntoCols(d,null),d}createProvidedColumnGroup(e,t,i,s,n,r,a){let d=n.getUniqueKey(t.groupId||null,null),h=this.createMergedColGroupDef(t,d),v=new ga(h,d,!1,i);this.createBean(v);let b=this.findExistingGroup(t,r);b&&r.splice(b.idx,1);let D=b?.group;D&&v.setExpanded(D.isExpanded());let R=sT(this.beans,h.children,i+1,e,s,n,r,a);return v.setChildren(R),v}balanceColumnTree(e,t,i,s){let n=[];for(let r=0;r<e.length;r++){let a=e[r];if(Et(a)){let d=a,h=this.balanceColumnTree(d.getChildren(),t+1,i,s);d.setChildren(h),n.push(d)}else{let d,h;for(let v=i-1;v>=t;v--){let b=s.getUniqueKey(null,null),D=this.createMergedColGroupDef(null,b),R=new ga(D,b,!0,t);this.createBean(R),h&&h.setChildren([R]),h=R,d||(d=h)}if(d&&h)if(n.push(d),e.some(b=>Et(b))){h.setChildren([a]);continue}else{h.setChildren(e);break}n.push(a)}}return n}findDepth(e){let t=0,i=e;for(;i&&i[0]&&Et(i[0]);)t++,i=i[0].getChildren();return t}findMaxDepth(e,t){let i=t;for(let s=0;s<e.length;s++){let n=e[s];if(Et(n)){let r=n,a=this.findMaxDepth(r.getChildren(),t+1);i<a&&(i=a)}}return i}balanceTreeForAutoCols(e,t){let i=[];return e.forEach(s=>{let n=s;for(let r=t-1;r>=0;r--){let a=new ga(null,`FAKE_PATH_${s.getId()}}_${r}`,!0,r);this.createBean(a),a.setChildren([n]),n.originalParent=a,n=a}t===0&&(s.originalParent=null),i.push(n)}),i}createMergedColGroupDef(e,t){let i={},{gos:s,validation:n}=this.beans;return Object.assign(i,s.get("defaultColGroupDef")),Object.assign(i,e),n?.validateColDef(i,t),i}findExistingGroup(e,t){if(e.groupId!=null)for(let s=0;s<t.length;s++){let n=t[s];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:s,group:n}}}createColumnGroup(e,t,i,s,n){let r=e.getGroupId(),a=t.getInstanceIdForKey(r),d=RT(r,a),h=i[d];return h&&h.getProvidedColumnGroup()!==e&&(h=null),Ee(h)?h.reset():(h=new TT(e,r,a,s),n||this.createBean(h)),h}mapOldGroupsById(e){let t={},i=s=>{s.forEach(n=>{if(It(n)){let r=n;t[n.getUniqueId()]=r,i(r.getChildren())}})};return e&&i(e),t}setupParentsIntoCols(e,t){e.forEach(i=>{if(i.parent=t,It(i)){let s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}},o8={moduleName:"ColumnGroup",version:ut,dynamicBeans:{headerGroupCellCtrl:U5},beans:[r8],apiFunctions:{getAllDisplayedColumnGroups:i8,getCenterDisplayedColumnGroups:e8,getColumnGroup:K5,getColumnGroupState:X5,getDisplayNameForColumnGroup:Y5,getLeftDisplayedColumnGroups:J5,getProvidedColumnGroup:q5,getRightDisplayedColumnGroups:t8,resetColumnGroupState:Q5,setColumnGroupOpened:$5,setColumnGroupState:Z5}},a8={moduleName:"CheckboxCellRenderer",version:ut,userComponents:{agCheckboxCellRenderer:_z}};var l8=class extends ee{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){let t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);let i=this.flexViewportWidth;if(!i)return[];let{visibleCols:s}=this.beans,n=s.centerCols,r=-1;if(e.resizingCols){let k=new Set(e.resizingCols);for(let L=n.length-1;L>=0;L--)if(k.has(n[L])){r=L;break}}let a=!1,d=n.map((k,L)=>{let H=k.getFlex(),$=H!=null&&H>0&&L>r;return a||(a=$),{col:k,isFlex:$,flex:Math.max(0,H??0),initialSize:k.getActualWidth(),min:k.getMinWidth(),max:k.getMaxWidth(),targetSize:0}});if(!a)return[];let h=d.length,v=d.reduce((k,L)=>k+L.flex,0),b=i,D=(k,L)=>{k.frozenSize=L,k.col.setActualWidth(L,t),b-=L,v-=k.flex,h-=1},R=k=>k.frozenSize!=null;for(let k of d)k.isFlex||D(k,k.initialSize);for(;h>0;){let k=Math.round(v<1?b*v:b),L,H=0,$=0;for(let se of d){if(R(se))continue;L=se,$+=k*(se.flex/v);let W=$-H,le=Math.round(W);se.targetSize=le,H+=le}L&&(L.targetSize+=k-H);let Z=0;for(let se of d){if(R(se))continue;let W=se.targetSize,le=Math.min(Math.max(W,se.min),se.max);Z+=le-W,se.violationType=le===W?void 0:le<W?"max":"min",se.targetSize=le}let Q=Z===0?"all":Z>0?"min":"max";for(let se of d)R(se)||(Q==="all"||se.violationType===Q)&&D(se,se.targetSize)}e.skipSetLeft||s.setLeftValues(t),e.updateBodyWidths&&s.updateBodyWidths();let A=d.filter(k=>k.isFlex&&!k.violationType).map(k=>k.col);if(e.fireResizedEvent){let k=d.filter(H=>H.initialSize!==H.frozenSize).map(H=>H.col),L=d.filter(H=>H.flex).map(H=>H.col);Lh(this.eventSvc,k,!0,t,L)}return A}initCol(e){let{flex:t,initialFlex:i}=e.colDef;t!==void 0?e.flex=t:i!==void 0&&(e.flex=i)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},c8=class extends ee{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){let e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;let i={};this.formatValueFuncs=i;let s=a=>d=>{let{column:h,node:v,value:b}=d,D=h.getColDef().valueFormatter;return D===a.groupSafeValueFormatter&&(D=a.valueFormatter),this.beans.valueSvc.formatValue(h,v,b,D)};for(let a of Object.keys(e)){let d=e[a],h=be(U({},d),{groupSafeValueFormatter:YM(d,this.gos)});t[a]=h,i[a]=s(h)}let n=this.gos.get("dataTypeDefinitions")??{},r={};this.dataTypeMatchers=r;for(let a of Object.keys(n)){let d=n[a],h=this.processDataTypeDefinition(d,n,[a],e);h&&(t[a]=h,d.dataTypeMatcher&&(r[a]=d.dataTypeMatcher),i[a]=s(h))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(a=>{let d=r[a];d&&delete r[a],r[a]=d??e[a].dataTypeMatcher})}processDataTypeDefinition(e,t,i,s){let n,r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let a=s[r],d=t[r];if(a&&d&&(a=d),!qM(e,a,r))return;n=KM(a,e)}else{if(i.includes(r)){ue(44);return}let a=t[r];if(!qM(e,a,r))return;let d=this.processDataTypeDefinition(a,t,[...i,r],s);if(!d)return;n=KM(d,e)}return be(U({},n),{groupSafeValueFormatter:YM(n,this.gos)})}updateColDefAndGetColumnType(e,t,i){let{cellDataType:s}=t,{field:n}=t;if(s===void 0&&(s=e.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(e,t)?this.inferCellDataType(n,i):!1),!s){e.cellDataType=!1;return}let r=this.dataTypeDefinitions[s];if(!r){ue(47,{cellDataType:s});return}return e.cellDataType=s,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,r,i),r.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;let t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;let i=s=>{t.add(s.key)};e.__addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",i))}canInferCellDataType(e,t){let{gos:i}=this;if(!tb(i))return!1;let s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(wC(t,s))return!1;let n=t.type===null?e.type:t.type;if(n){let r=i.get("columnTypes")??{};if(kh(n).some(d=>{let h=r[d.trim()];return h&&wC(h,s)}))return!1}return!wC(e,s)}inferCellDataType(e,t){if(!e)return;let i,s=this.getInitialData();if(s){let n=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Sh(s,e,n)}else this.initWaitForRowData(t);if(i!=null)return Object.keys(this.dataTypeMatchers).find(n=>this.dataTypeMatchers[n](i))??"object"}getInitialData(){let e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{let t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;let t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:i,eventSvc:s}=this.beans;t&&i&&(i.shouldQueueResizeOperations=!0);let[n]=this.addManagedEventListeners({rowDataUpdateStarted:r=>{let{firstRowData:a}=r;a&&(n?.(),this.isPendingInference=!1,this.processColumnsPendingInference(a,t),this.columnStateUpdatesPendingInference={},t&&i?.processResizeOperations(),s.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;let i=[];this.destroyColumnStateUpdateListeners();let s={},n={};for(let r of Object.keys(this.columnStateUpdatesPendingInference)){let a=this.columnStateUpdatesPendingInference[r],d=this.colModel.getCol(r);if(!d)return;let h=d.getColDef();if(!this.resetColDefIntoCol(d,"cellDataTypeInferred"))return;let v=d.getColDef();if(t&&v.type&&v.type!==h.type){let b=u8(d,a);b.rowGroup&&b.rowGroupIndex==null&&(s[r]=b),b.pivot&&b.pivotIndex==null&&(n[r]=b),i.push(b)}}t&&i.push(...this.generateColumnStateForRowGroupAndPivotIndexes(s,n)),i.length&&Sa(this.beans,{state:i},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){let i={},{rowGroupColsSvc:s,pivotColsSvc:n}=this.beans;return s?.restoreColumnOrder(i,e),n?.restoreColumnOrder(i,t),Object.values(i)}resetColDefIntoCol(e,t){let i=e.getUserProvidedColDef();if(!i)return!1;let s=NC(this.beans,i,e.getColId());return e.setColDef(s,i,t),!0}checkObjectValueHandlers(e){let t=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=t.valueParser!==i.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(e){let{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){let t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;let i=this.getDataTypeDefinition(e)?.dataTypeMatcher;return i?i(t):!0}validateColDef(e){let t=i=>ue(48,{property:i});if(e.cellDataType==="object"){let{object:i}=this.dataTypeDefinitions;e.valueFormatter===i.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===i.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,i,s){let n=this.formatValueFuncs[t];switch(i.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=r=>!!r.colDef.editable&&r.event.key===K.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=n;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=n;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(r,a)=>{let d=this.colModel.getColDefCol(s),h=d?.getColDef();if(!d||!h)return 0;let v=r==null?"":n({column:d,node:null,value:r}),b=a==null?"":n({column:d,node:null,value:a});return v===b?0:v>b?1:-1},e.keyCreator=n;break}}this.beans.filterManager?.setColDefPropertiesForDataType(e,i,n)}getDefaultDataTypes(){let e=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>i.newValue?.trim?.()===""?null:Number(i.newValue),valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?t("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:AC(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>i.newValue==null?i.newValue:i.newValue?.trim?.()===""?null:String(i.newValue).toLowerCase()==="true",valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>zM(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?t("invalidDate","Invalid Date"):HM(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>zM(i)??void 0,dateFormatter:i=>HM(i??null,!1)??void 0,valueParser:i=>e(String(i.newValue))?i.newValue:null,valueFormatter:i=>e(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&e(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>AC(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function KM(e,t){let i=U(U({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(i.columnTypes=[...kh(e.columnTypes),...kh(t.columnTypes)]),i}function qM(e,t,i){return t?t.baseDataType!==e.baseDataType?(ue(46),!1):!0:(ue(45,{parentCellDataType:i}),!1)}function YM(e,t){if(e.valueFormatter)return i=>{if(i.node?.group){let s=(i.colDef.pivotValueColumn??i.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(i);if(e.baseDataType==="number"&&s!=="count"){if(typeof i.value=="number")return e.valueFormatter(i);if(typeof i.value=="object"){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(be(U({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(be(U({},i),{value:i.value.value}))}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&i.column.isRowGroupActive()&&typeof i.value=="string"&&!e.dataTypeMatcher?.(i.value))return;return e.valueFormatter(i)}}function d8(e,t,i,s){if(!t[i])return!1;let n=e[i];return n===null?(t[i]=!1,!1):s===void 0?!!n:n===s}function wC(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>d8(e,t,i,s))}function u8(e,t){let i=i6(e);return t.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}var h8={moduleName:"DataType",version:ut,beans:[c8],dependsOn:[a8]},p8={moduleName:"ColumnFlex",version:ut,beans:[l8]};function g8(e){if(!e||e==null)return null;let t=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(n=>n.substring(0,1).toUpperCase()+(n.length>1?n.substring(1,n.length):"")).join(" ")}var f8=class extends ee{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,i=!1){if(!e)return null;let s=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:n}=this.beans;return i&&n?n.getHeaderName(e,s):s}getDisplayNameForProvidedColumnGroup(e,t,i){let s=t?.getColGroupDef();return s?this.getHeaderName(s,null,e,t,i):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,i,s,n){let r=e.headerValueGetter;if(r){let a=je(this.gos,{colDef:e,column:t,columnGroup:i,providedColumnGroup:s,location:n});return typeof r=="function"?r(a):typeof r=="string"?this.beans.expressionSvc?.evaluate(r,a)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return g8(e.field)}return""}},m8=class extends ee{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,i=!1){let{visibleCols:s}=this,n=s.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,s.isBodyWidthDirty=!0,this.gos.get("enableRtl")){let a=s.bodyWidth;this.viewportLeft=a-t-e,this.viewportRight=a-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(i)}}getHeadersToRender(e,t){let i;switch(e){case"left":i=this.rowsOfHeadersToRenderLeft[t];break;case"right":i=this.rowsOfHeadersToRenderRight[t];break;default:i=this.rowsOfHeadersToRenderCenter[t];break}return i||[]}extractViewportColumns(){let e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||v8(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;let t=e.getLeft()||0,i=t+e.getActualWidth(),s=this.viewportLeft-200,n=this.viewportRight+200,r=t<s&&i<s,a=t>n&&i>n;return!r&&!a}getViewportColumns(){let{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;let t=r=>{let a=r.getLeft();return Ee(a)&&a>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:s}=this,n=s.centerCols;return s.getColsForRow(e,n,i,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);let e={},{leftCols:t,rightCols:i,treeLeft:s,treeRight:n,treeCenter:r}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(i).forEach(h=>e[h.getId()]=!0);let d=(h,v,b)=>{let D=!1;for(let R=0;R<h.length;R++){let A=h[R],k=!1;if(En(A))k=e[A.getId()]===!0;else{let H=A.getDisplayedChildren();H&&(k=d(H,v,b+1))}k&&(D=!0,v[b]||(v[b]=[]),v[b].push(A))}return D};d(s,this.rowsOfHeadersToRenderLeft,0),d(n,this.rowsOfHeadersToRenderRight,0),d(r,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){let e=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();let t=this.getViewportColumns().map(e).join("#"),i=this.colsWithinViewportHash!==t;return i&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),i}};function v8(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var C8=class extends ee{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class i{refresh(){return!1}getGui(){return this.eGui}init(n){let r=t(n),a=typeof r;if(a==="string"||a==="number"||a==="boolean"){this.eGui=ZC("<span>"+r+"</span>");return}if(r==null){this.eGui=Qe({tag:"span"});return}this.eGui=r}}return i}},b8={moduleName:"CellRendererFunction",version:ut,beans:[C8]},y8=class extends ee{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){let e=this.gos.get("components");if(e!=null)for(let t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){let{icons:t,userComponents:i,dynamicBeans:s,selectors:n}=e;if(i){let r=(a,d,h)=>{this.agGridDefaults[a]=d,h&&(this.agGridDefaultParams[a]=h)};for(let a of Object.keys(i)){let d=i[a];typeof d=="object"?r(a,d.classImp,d.params):r(a,d)}}if(s)for(let r of Object.keys(s))this.dynamicBeans[r]=s[r];if(n?.forEach(r=>{this.selectors[r.selector]=r}),t)for(let r of Object.keys(t))this.icons[r]=t[r]}getUserComponent(e,t){let i=(d,h,v)=>({componentFromFramework:h,component:d,params:v}),{frameworkOverrides:s}=this.beans,n=s.frameworkComponent(t,this.gos.get("components"));if(n!=null)return i(n,!0);let r=this.jsComps[t];if(r){let d=s.isFrameworkComponent(r);return i(r,d)}let a=this.agGridDefaults[t];return a?i(a,!1,this.agGridDefaultParams[t]):(this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...i){let s=this.dynamicBeans[e];if(s==null){if(t)throw new Error(OR(256));return}return new s(...i)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},w8=23,S8=class extends ee{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){let e=Object.values(this.params);this.ready=e.length===w8&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{let i=this.readyCallbacks.indexOf(t);i>=0&&this.readyCallbacks.splice(i,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){let{leftHeader:e,centerHeader:t,rightHeader:i}=this.params;return[e,i,t]}getHeaderRowContainerCtrl(e){let t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},x8=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',fb=typeof window!="object"||!window?.document?.fonts?.forEach,jC=new WeakMap,ba=(e,t,i,s,n,r)=>{if(fb||$C)return;s&&(e=`@layer ${CSS.escape(s)} { ${e} }`);let a=jC.get(t);if(a||(a=[],jC.set(t,a)),a.find(b=>b.css===e))return;let d=document.createElement("style");r&&d.setAttribute("nonce",r),d.dataset.agGlobalCss=i,d.textContent=e;let h={css:e,el:d,priority:n},v;for(let b of a){if(b.priority>n)break;v=b}if(v){v.el.insertAdjacentElement("afterend",d);let b=a.indexOf(v);a.splice(b+1,0,h)}else t.insertBefore(d,t.querySelector(":not(title, meta)")),a.push(h)},JT=(e,t,i)=>{ba(x8,e,"core",t,0,i),Array.from(z6()).sort((s,n)=>s.moduleName.localeCompare(n.moduleName)).forEach(s=>s.css?.forEach(n=>ba(n,e,`module-${s.moduleName}`,t,0,i)))},UC=new Set,D8=e=>{UC.add(e)},E8=e=>{if(UC.delete(e),UC.size===0){jC=new WeakMap;for(let t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Rn=e=>new eI(e),er="$default",M8=0,eI=class{constructor({feature:e,params:t,modeParams:i={},css:s,cssImports:n}){this.feature=e,this.css=s,this.cssImports=n,this.modeParams=U({[er]:U(U({},i[er]??{}),t??{})},i)}use(e,t,i){let s=this._inject;if(s==null){let{css:n}=this;if(n){let r=`ag-theme-${this.feature??"part"}-${++M8}`;typeof n=="function"&&(n=n()),n=`:where(.${r}) {
${n}
}
`;for(let a of this.cssImports??[])n=`@import url(${JSON.stringify(a)});
${n}`;s={css:n,class:r}}else s=!1;this._inject=s}return s&&e&&ba(s.css,e,s.class,t,1,i),s?s.class:!1}},R8=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),tI=e=>`--ag-${R8(e)}`,Qs=e=>`var(${tI(e)})`,T8=(e,t,i)=>Math.max(t,Math.min(i,e)),I8=e=>{let t=new Map;return i=>{let s=i;return t.has(s)||t.set(s,e(i)),t.get(s)}},$s=e=>({ref:"accentColor",mix:e}),is=e=>({ref:"foregroundColor",mix:e}),Ss=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),A8=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Vi={ref:"backgroundColor"},Jl={ref:"foregroundColor"},tr={ref:"accentColor"},zh={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:is(.15),chromeBackgroundColor:Ss(.02),browserColorScheme:"light"},F8=be(U({},zh),{textColor:Jl,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Vi,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:tr,rangeSelectionBackgroundColor:$s(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:$s(.5),rangeHeaderHighlightColor:A8(.08),rowNumbersSelectedColor:$s(.5),rowHoverColor:$s(.08),columnHoverColor:$s(.05),selectedRowBackgroundColor:$s(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Vi,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Vi,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:is(.7),focusShadow:{spread:3,color:$s(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:is(.1),iconButtonActiveColor:tr,iconButtonActiveBackgroundColor:$s(.28),iconButtonActiveIndicatorColor:tr,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:tr,toggleButtonOffBackgroundColor:Ss(.3),toggleButtonSwitchBackgroundColor:Vi,toggleButtonSwitchInset:2,menuBorder:{color:is(.2)},menuBackgroundColor:Ss(.03),menuTextColor:Ss(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:is(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:tr},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:is(.2)},panelBackgroundColor:Vi,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:is(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:is(.13)},selectCellBackgroundColor:is(.07),selectCellBorder:{color:is(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:Jl,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Jl,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:is(.15),statusBarLabelColor:Jl,statusBarLabelFontWeight:500,statusBarValueColor:Jl,statusBarValueFontWeight:500}),P8=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",_8={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}};var k8=()=>Rn({feature:"buttonStyle",params:be(U({},_8),{buttonBackgroundColor:Vi,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:tr}}),css:P8}),L8=k8();var O8=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}";var N8=()=>Rn({feature:"columnDropStyle",css:O8}),iI=N8();var B8=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],G8=I8(e=>(e=e.toLowerCase(),B8.find(t=>e.endsWith(t.toLowerCase()))??"length")),ip=e=>typeof e=="object"&&e?.ref?Qs(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,mb=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){let t=Qs(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Qs(e.onto):"transparent"}, ${t} ${T8(e.mix*100,0,100)}%)`}return!1},V8=ip,da=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,i=>i[0]==="-"?i:` ${Qs(i)} `)})`:e&&"ref"in e?Qs(e.ref):!1,H8=ip,z8=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Qs(e.ref):sI(e.style??"solid")+" "+da(e.width??1)+" "+mb(e.color??{ref:"borderColor"}),W8=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Qs(e.ref):[da(e.offsetX??0),da(e.offsetY??0),da(e.radius??0),da(e.spread??0),mb(e.color??{ref:"foregroundColor"})].join(" "),sI=ip,nI=e=>typeof e=="string"?e.includes(",")?e:XM(e):e&&"googleFont"in e?nI(e.googleFont):e&&"ref"in e?Qs(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),XM(t))).join(", "):!1,XM=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),j8=ip,rI=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?rI({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Qs(e.ref):!1,U8=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&ei(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Qs(e.ref):!1,$8={color:mb,colorScheme:V8,length:da,scale:H8,border:z8,borderStyle:sI,shadow:W8,image:rI,fontFamily:nI,fontWeight:j8,duration:U8},K8=(e,t)=>{let i=G8(e);return $8[i](t,e)},$C=!1;var q8=()=>new oI().withPart(L8).withPart(iI),oI=class aI{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof eI?new aI([...this.parts,t]):(_C(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Rn({feature:t}))}withParams(t,i=er){return this.withPart(Rn({modeParams:{[i]:t}}))}_startUse({styleContainer:t,cssLayer:i,nonce:s,loadThemeGoogleFonts:n}){if(fb||$C)return;X8(),JT(t,i,s);let r=Y8(this);if(r.length>0)for(let a of r)n&&Q8(a,s);for(let a of this.parts)a.use(t,i,s)}_getCssClass(){return $C?"ag-theme-quartz":this._cssClassCache??(this._cssClassCache=ZM(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){let i={[er]:U({},F8)};for(let s of ZM(this.parts))for(let n of Object.keys(s.modeParams)){let r=s.modeParams[n];if(r){let a=i[n]??(i[n]={}),d=new Set;for(let h of Object.keys(r)){let v=r[h];v!==void 0&&(a[h]=v,d.add(h))}if(n===er)for(let h of Object.keys(i)){let v=i[h];if(h!==er)for(let b of d)delete v[b]}}}this._paramsCache=t=i}return t}_getPerGridCss(t){let i="##SELECTOR##",s=this._paramsCssCache;if(!s){let n="",r="",a=this._getModeParams();for(let h of Object.keys(a)){let v=a[h];if(h!==er){let D=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(h):h}"]) & {
`;n+=D,r+=D}for(let b of Object.keys(v).sort()){let D=v[b],R=K8(b,D);if(R===!1)ei(107,{key:b,value:D});else{let A=tI(b),k=A.replace("--ag-","--ag-inherited-");n+=`	${A}: var(${k}, ${R});
`,r+=`	${k}: var(${A});
`}}h!==er&&(n+=`}
`,r+=`}
`)}let d=`${i} {
${n}}
`;d+=`:has(> ${i}):not(${i}) {
${r}}
`,this._paramsCssCache=s=d}return s.replaceAll(i,`:where(.${t})`)}},ZM=e=>{let t=new Map;for(let s of e)t.set(s.feature,s);let i=[];for(let s of e)(!s.feature||t.get(s.feature)===s)&&i.push(s);return i},Y8=e=>{let t=new Set,i=r=>{if(Array.isArray(r))r.forEach(i);else{let a=r?.googleFont;typeof a=="string"&&t.add(a)}};return Object.values(e._getModeParams()).flatMap(r=>Object.values(r)).forEach(i),Array.from(t).sort()},QM=!1,X8=()=>{if(!QM){QM=!0;for(let e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Z8=new Set,Q8=(e,t)=>Do(void 0,null,function*(){Z8.add(e);let i=`@import url('https://${J8}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;ba(i,document.head,`googleFont:${e}`,void 0,0,t)}),J8="fonts.googleapis.com",eW='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',tW=()=>Rn({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Vi,checkboxUncheckedBorderColor:Ss(.3),checkboxCheckedBackgroundColor:tr,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Vi,checkboxIndeterminateBackgroundColor:Ss(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Vi,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:eW}),iW=tW();var lI=()=>be(U({},zh),{backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Ss(.05),rowHoverColor:$s(.15),selectedRowBackgroundColor:$s(.2),menuBackgroundColor:Ss(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:Vi,findActiveMatchColor:Vi,checkboxUncheckedBorderColor:Ss(.4),toggleButtonOffBackgroundColor:Ss(.4)});var sW=()=>be(U({},lI()),{backgroundColor:"#1f2836"});var nW=()=>Rn({feature:"colorScheme",params:zh,modeParams:{light:zh,dark:lI(),"dark-blue":sW()}}),rW=nW();var cI={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},dI={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},oW=(e={})=>{let t="";for(let i of[...Object.keys(cI),...Object.keys(dI)]){let s=aW(i,e.strokeWidth);t+=`.ag-icon-${i}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(s)}'); }
`}return t},aW=(e,t=1.5)=>{let i=dI[e];if(i)return i;let s=cI[e];if(!s)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+s+"</svg>"},lW=(e={})=>Rn({feature:"iconSet",css:()=>oW(e)});var cW=lW();var dW=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',uW=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}";var hW={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}};var pW=()=>Rn({feature:"inputStyle",params:be(U({},hW),{inputBackgroundColor:Vi,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:tr},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Ss(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0}),css:()=>dW+uW}),gW=pW();var fW='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}';var mW={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1};var vW=()=>Rn({feature:"tabStyle",params:be(U({},mW),{tabBarBorder:!0,tabBarBackgroundColor:is(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Vi}),css:fW}),CW=vW();var bW=()=>q8().withPart(iW).withPart(rW).withPart(cW).withPart(CW).withPart(gW).withPart(iI).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),yW=bW();var wW={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},SW={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},xW={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},JM={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},eR={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},tR={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},SC={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},DW=0,EW=class extends ee{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++DW}`,this.globalCSS=[]}wireBeans(e){let{eGridDiv:t,gridOptions:i}=e;this.eGridDiv=t,this.eStyleContainer=i.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=i.themeCssLayer,this.styleNonce=i.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(JM),this.getSizeEl(eR),this.getSizeEl(tR),this.getSizeEl(SC),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>E8(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(JM)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(eR)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(wW)}getDefaultIndentation(){return this.getCSSVariablePixelValue(SW)}getDefaultRowGroupIndentSize(){return this.getCSSVariablePixelValue(xW)}getCellPaddingLeft(){let e=this.getDefaultCellHorizontalPadding(),t=this.getDefaultIndentation(),i=this.getDefaultRowGroupIndentSize();return e-1+i*t}getCellPaddingRight(){return this.getDefaultCellHorizontalPadding()-1}getCellPadding(){return this.getCellPaddingLeft()+this.getCellPaddingRight()}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(tR)}getRowBorderWidth(){return this.getCSSVariablePixelValue(SC)}applyThemeClasses(e){let{gridTheme:t}=this,i="";if(t)i=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let s=this.eGridDiv;for(;s;){let n=!1;for(let r of Array.from(s.classList))r.startsWith("ag-theme-")&&(n=!0,i=i?`${i} ${r}`:r);n&&this.mutationObserver.observe(s,{attributes:!0,attributeFilter:["class"]}),s=s.parentElement}}for(let s of Array.from(e.classList))s.startsWith("ag-theme-")&&e.classList.remove(s);if(i){let s=e.className;e.className=s+(s?" ":"")+i}}refreshRowHeightVariable(){let{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),i=this.gos.get("rowHeight");if(i==null||isNaN(i)||!isFinite(i))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;let s=`${i}px`;return t!=s?(e.style.setProperty("--ag-line-height",s),i):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?ba(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){let t=this.lastKnownValues.get(e);if(t!=null)return t;let i=this.measureSizeEl(e);return i==="detached"||i==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,i),i)}measureSizeEl(e){let t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";let i=t.offsetWidth;return i===xC?"no-styles":(this.sizesMeasured=!0,i)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=Qe({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let i=this.getMeasurementContainer();t=Qe({tag:"div"});let{border:s,noWarn:n}=e;s?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${xC}px)`)):t.style.width=`var(${e.cssName}, ${xC}px)`,i.appendChild(t),this.sizeEls.set(e,t);let r=this.measureSizeEl(e);r==="no-styles"&&!n&&ue(9,{variable:e});let a=In(this.beans,t,()=>{let d=this.measureSizeEl(e);d==="detached"||d==="no-styles"||(this.lastKnownValues.set(e,d),d!==r&&(r=d,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>a()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){let e=this.getCSSVariablePixelValue(SC);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){let{gos:e,eGridDiv:t,globalCSS:i,gridTheme:s}=this,n=e.get("theme"),r;if(n==="legacy")r=void 0;else{let a=n??yW;a instanceof oI?r=a:ei(240,{theme:a})}if(r!==s){if(r){D8(this),JT(this.eStyleContainer,this.cssLayer,this.styleNonce);for(let[d,h]of i)ba(d,this.eStyleContainer,h,this.cssLayer,0,this.styleNonce);i.length=0}this.gridTheme=r,r?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let a=this.eParamsStyle;if(!a){a=this.eParamsStyle=Qe({tag:"style"});let d=this.gos.get("styleNonce");d&&a.setAttribute("nonce",d),t.appendChild(a)}fb||(a.textContent=r?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}r&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&ei(n?106:239)}},xC=15538,MW=class extends ee{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new Dn}postConstruct(){let{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,i){this.globalEventService.addEventListener(e,t,i)}removeEventListener(e,t,i){this.globalEventService.removeEventListener(e,t,i)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(je(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(je(this.gos,e))}};function uI(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function KC(e,t){let i;if(It(e)&&uI(e)&&e.isPadding()){let s=e;i=s.getLeafColumns()[0];let n=i;for(;n!==s;)t++,n=n.getParent()}return{column:i||e,headerRowIndex:t}}var RW=class extends ee{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){let e=this.beans;e.ctrlsSvc.whenReady(this,i=>{this.gridBodyCon=i.gridBodyCtrl});let t=Jt(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let i,{colModel:s,colGroupSvc:n,ctrlsSvc:r}=this.beans;if(typeof e=="string"?(i=s.getCol(e),i||(i=n?.getColumnGroup(e)??null)):i=e,!i)return null;let d=r.getHeaderRowContainerCtrl()?.getAllCtrls(),h=Ue(d||[]).type==="filter",v=qs(this.beans)-1,b=-1,D=i;for(;D;)b++,D=D.getParent();let R=b;return t&&h&&R===v-1&&R++,R===-1?null:{headerRowIndex:R,column:i}}navigateVertically(e,t,i){let s=this.beans.focusSvc;if(t||(t=s.focusedHeader),!t)return!1;let{headerRowIndex:n}=t,r=t.column,a=qs(this.beans),d=e==="UP",h=this.getHeaderRowType(n),{headerRowIndex:v,column:b,headerRowIndexWithoutSpan:D}=d?TW(h,r,n):IW(h,r,n),R=!1;return v<0&&(v=0,b=r,R=!0),v>=a?(v=-1,this.currentHeaderRowWithoutSpan=-1):D!==void 0&&(this.currentHeaderRowWithoutSpan=D),!R&&!b?!1:s.focusHeaderPosition({headerPosition:{headerRowIndex:v,column:b},allowUserOverride:!0,event:i})}navigateHorizontally(e,t=!1,i){let{focusSvc:s,gos:n}=this.beans,r=s.focusedHeader,a,d;this.currentHeaderRowWithoutSpan!==-1?r.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=r.headerRowIndex,e==="LEFT"!==n.get("enableRtl")?(d="Before",a=this.findHeader(r,d)):(d="After",a=this.findHeader(r,d));let h=n.getCallback("tabToNextHeader");if(t&&h){let v=s.focusHeaderPositionFromUserFunc({userFunc:h,headerPosition:a,direction:d});if(v){let{headerRowIndex:b}=s.focusedHeader||{};b!=null&&b!=r.headerRowIndex&&(this.currentHeaderRowWithoutSpan=b)}return v}return a||!t?s.focusHeaderPosition({headerPosition:a,direction:d,fromTab:t,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(r,d,i)}focusNextHeaderRow(e,t,i){let s=e.headerRowIndex,n=null,r,a=this.beans;if(t==="Before"?s>0&&(r=s-1,this.currentHeaderRowWithoutSpan-=1,n=this.findColAtEdgeForHeaderRow(r,"end")):(r=s+1,this.currentHeaderRowWithoutSpan<qs(a)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,n=this.findColAtEdgeForHeaderRow(r,"start")),!n)return!1;let{column:d,headerRowIndex:h}=KC(n.column,n?.headerRowIndex);return a.focusSvc.focusHeaderPosition({headerPosition:{column:d,headerRowIndex:h},direction:t,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(e,t="After"){if(e.getPinned())return;let i;if(It(e)){let s=e.getDisplayedLeafColumns();i=t==="Before"?Ue(s):s[0]}else i=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(i)}findHeader(e,t){let i,s,{colGroupSvc:n,visibleCols:r}=this.beans;if(It(e.column)?i=n?.getGroupAtDirection(e.column,t)??void 0:(s=`getCol${t}`,i=r[s](e.column)),!i)return;let{headerRowIndex:a}=e;if(this.getHeaderRowType(a)!=="filter"){let v=[i];for(;i.getParent();)i=i.getParent(),v.push(i);i=v[Math.max(0,v.length-1-a)]}let{column:d,headerRowIndex:h}=KC(i,a);return{column:d,headerRowIndex:h}}getHeaderRowType(e){let t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){let{visibleCols:i,ctrlsSvc:s,colGroupSvc:n}=this.beans,r=i.allCols,a=r[t==="start"?0:r.length-1];if(!a)return;let h=s.getHeaderRowContainerCtrl(a.getPinned())?.getRowType(e);if(h=="group"){let v=n?.getColGroupAtLevel(a,e);return{headerRowIndex:e,column:v}}return{headerRowIndex:h==null?-1:e,column:a}}};function TW(e,t,i){let s=e==="filter",n=e==="column",r=s?t:t.getParent(),a=i-1,d=a;if(n&&uI(t.getParent())){for(;r&&r.isPadding();)r=r.getParent(),a--;d=a,a<0&&(r=t,a=i,d=void 0)}return{column:r,headerRowIndex:a,headerRowIndexWithoutSpan:d}}function IW(e,t,i,s="After"){let n=t,r=i+1,a=r;if(e==="group"){let d=t.getDisplayedLeafColumns(),h=s==="After"?d[0]:Ue(d),v=[],b=h;for(;b.getParent()!==t;)b=b.getParent(),v.push(b);if(n=h,h.isSpanHeaderHeight())for(let D=v.length-1;D>=0;D--){let R=v[D];if(!R.isPadding()){n=R;break}r++}else n=Ue(v),n||(n=h)}return{column:n,headerRowIndex:r,headerRowIndexWithoutSpan:a}}var AW=class extends ee{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){let e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(Z6(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;let e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||!this.doesRowOrCellHaveBrowserFocus()?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(St(this.beans),HT)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){let e=St(this.beans);return this.isDomDataPresentInHierarchy(e,Gh)?!0:this.isDomDataPresentInHierarchy(e,Hh)}isDomDataPresentInHierarchy(e,t){let i=e;for(;i;){if(zR(this.gos,i,t))return!0;i=i.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){let{rowIndex:t,rowPinned:i,column:s}=e,n={rowIndex:t,rowPinned:i,column:s,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:i});return r&&(n.isFullWidthCell=r.isFullWidth()),n}clearFocusedCell(){if(this.focusedCell==null)return;let e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent(U({type:"cellFocusCleared"},e))}setFocusedCell(e){this.setFocusRecovered();let{column:t,rowIndex:i,rowPinned:s,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:r=!1}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:i,rowPinned:Jr(s),column:a},this.eventSvc.dispatchEvent(be(U({type:"cellFocused"},this.getFocusEventParams(this.focusedCell)),{forceBrowserFocus:n,preventScrollOnBrowserFocus:r}))}isCellFocused(e){return this.focusedCell==null?!1:f4(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;let{column:t,rowCtrl:{rowIndex:i,pinned:s}}=e,{column:n,headerRowIndex:r}=this.focusedHeader;return t===n&&i===r&&s==n.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),eo(this.beans))return!1;let{direction:t,fromTab:i,allowUserOverride:s,event:n,fromCell:r,rowWithoutSpanValue:a}=e,{headerPosition:d}=e;if(r&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(d);if(s){let h=this.focusedHeader,v=qs(this.beans);if(i){let b=this.gos.getCallback("tabToNextHeader");b&&(d=this.getHeaderPositionFromUserFunc({userFunc:b,direction:t,currentPosition:h,headerPosition:d,headerRowCount:v}))}else{let b=this.gos.getCallback("navigateToNextHeader");if(b&&n){let D={key:n.key,previousHeaderPosition:h,nextHeaderPosition:d,headerRowCount:v,event:n};d=b(D)}}}return d?this.focusProvidedHeaderPosition({headerPosition:d,direction:t,event:n,fromCell:r,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(e){if(eo(this.beans))return!1;let{userFunc:t,headerPosition:i,direction:s,event:n}=e,r=this.focusedHeader,a=qs(this.beans),d=this.getHeaderPositionFromUserFunc({userFunc:t,direction:s,currentPosition:r,headerPosition:i,headerRowCount:a});return!!d&&this.focusProvidedHeaderPosition({headerPosition:d,direction:s,event:n})}getHeaderPositionFromUserFunc(e){let{userFunc:t,direction:i,currentPosition:s,headerPosition:n,headerRowCount:r}=e,d=t({backwards:i==="Before",previousHeaderPosition:s,nextHeaderPosition:n,headerRowCount:r});return d===!0?s:d===!1?null:d}focusProvidedHeaderPosition(e){let{headerPosition:t,direction:i,fromCell:s,rowWithoutSpanValue:n,event:r}=e,{column:a,headerRowIndex:d}=t,{filterManager:h,ctrlsSvc:v,headerNavigation:b}=this.beans;if(d===-1)return h?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:a,event:r});b?.scrollToColumn(a,i);let R=v.getHeaderRowContainerCtrl(a.getPinned())?.focusHeader(t.headerRowIndex,a,r)||!1;return b&&R&&(n!=null||s)&&(b.currentHeaderRowWithoutSpan=n??-1),R}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;let{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));let i=KC(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;let t=qs(this.beans)-1,i=Ue(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:i},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Jr(t)}focusOverlay(e){let t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&sr(t,e)}focusGridView(e){let{backwards:t=!1,canFocusOverlay:i=!0,event:s}=e;if(this.overlays?.isExclusive())return i&&this.focusOverlay(t);if(nb(this.beans))return t&&!eo(this.beans)?this.focusLastHeader():i&&this.focusOverlay(t)?!0:t?!1:Es(this.beans,t);let n=t?C4(this.beans):v4(this.beans);if(n){let r=e.column??this.focusedHeader?.column,{rowIndex:a,rowPinned:d}=n,h=DT(this.beans,n);if(!r||!h||a==null)return!1;if(r.isSuppressNavigable(h)){let v=this.gos.get("enableRtl"),b;return!s||s.key===K.TAB?b=v?K.LEFT:K.RIGHT:b=s.key,this.beans.navigation?.navigateToNextCell(null,b,{rowIndex:a,column:r,rowPinned:d||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:a,column:r,rowPinned:d}),t&&this.rowRenderer.getRowByPosition(n)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(n,t)||(this.setFocusedCell({rowIndex:a,column:r,rowPinned:Jr(d),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:a,rowPinned:d,column:r})),!0}return!!(i&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){let i=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:i,headerRowIndex:qs(this.beans)-1}}):this.focusGridView({column:i})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},FW=class extends ee{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){let{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){let e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;let t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){let e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),i=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=t,this.verticalScrollGap=i,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){let e=this.gos.get("scrollbarWidth"),i=typeof e=="number"&&e>=0?e:$V();i!=null&&(this.scrollbarWidth=i,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},PW=class extends ee{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;let{stateSvc:e,ctrlsSvc:t,context:i}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),i.destroy(),super.destroy()}},_W=new Set(["gridPreDestroyed","fillStart","pasteStart"]),kW={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},LW=0,OW=0,NW=class extends ee{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=OW++,this.propEventSvc=new Dn,this.globalEventHandlerFactory=e=>(t,i)=>{if(!this.isAlive())return;let s=_W.has(t);if(s&&!e||!s&&e)return;let n=xH(t),r=this.gridOptions[n];typeof r=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{r(i)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??kW[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ee(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(i=>e(this.addGridCommonParams(i)))}updateGridOptions({options:e,force:t,source:i="api"}){let s={id:LW++,properties:[]},n=[],{gridOptions:r,validation:a}=this;for(let d of Object.keys(e)){let h=e[d];a?.warnOnInitialPropertyUpdate(i,d);let v=t||typeof h=="object"&&i==="api",b=r[d];if(v||b!==h){r[d]=h;let D={type:d,currentValue:h,previousValue:b,changeSet:s,source:i};n.push(D)}}a?.processGridOptions(this.gridOptions),s.properties=n.map(d=>d.type),n.forEach(d=>{oc(this,`Updated property ${d.type} from`,d.previousValue," to ",d.currentValue),this.propEventSvc.dispatchEvent(d)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){let i=Array.isArray(e)?e.some(s=>this.isModuleRegistered(s)):this.isModuleRegistered(e);return i||ei(200,be(U({},this.getModuleErrorParams()),{moduleName:e,reasonOrId:t})),i}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:fT(),rowModelType:this.get("rowModelType"),isUmd:W6()}}isModuleRegistered(e){return gT(e,this.gridId,this.get("rowModelType"))}};function hI(e){let t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var BW=hI(!0),GW=hI(!1),VW=class extends Ce{constructor(){super(...arguments),this.eFilter=te,this.eFilterButton=te,this.eSortIndicator=te,this.eMenu=te,this.eLabel=te,this.eText=te,this.eSortOrder=te,this.eSortAsc=te,this.eSortDesc=te,this.eSortMixed=te,this.eSortNone=te,this.isLoadingInnerComponent=!1}refresh(e){let t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){let i=U({},e);Hi(i,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(i)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){let i=e.template;return i?i?.trim?i.trim():i:t?BW:GW}init(e){this.params=e;let{sortSvc:t,touchSvc:i,rowNumbersSvc:s,userCompFactory:n}=this.beans,r=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!r),this.setTemplate(this.currentTemplate,r?[r]:void 0),i?.setupForHeader(this),this.setMenu(),this.setupSort(),s?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(n,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){let i=R6(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderComponent=s,this.eText.appendChild(s.getGui())):this.destroyBean(s))}))}setDisplayName(e){let{displayName:t}=e,i=this.currentDisplayName;if(this.currentDisplayName=t,i===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;let s=xs(t,!0);this.eText.textContent=s}addInIcon(e,t,i){if(t==null)return;let s=et(e,this.beans,i);s&&t.appendChild(s)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){ki(this.eMenu),this.eMenu=void 0;return}let{gos:e,eMenu:t,params:i}=this,s=Fh(e);this.addInIcon(s?"menu":"menuAlt",t,i.column),t.classList.toggle("ag-header-menu-icon",!s);let n=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=n,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(n)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){let{currentSuppressMenuHide:t,params:i}=this;t||this.toggleMenuAlwaysShow(!0),i.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){let{params:t,gos:i,beans:s,eMenu:n,eFilterButton:r}=this,a=t.column,d=Fh(i);if(e&&!d){if(s.menuSvc?.isFilterMenuInHeaderEnabled(a))return t.showFilter(r??n??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(n??r??this.getGui()),!0;return!1}setupSort(){let{sortSvc:e}=this.beans;if(!e)return;let{enableSorting:t,column:i}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));let{eSortIndicator:s,eSortOrder:n,eSortAsc:r,eSortDesc:a,eSortMixed:d,eSortNone:h}=this;s.attachCustomElements(n,r,a,d,h)}this.eSortIndicator.setupSort(i),this.currentSort&&e.setupHeader(this,i,this.eLabel)}setupFilterIcon(){let{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){let{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,i,s){if(!e)return ki(t),!1;let n=this.params.column;return this.addInIcon(s,t,n),this.addManagedListeners(n,{filterChanged:i}),i(),!0}onFilterChangedIcon(){let e=this.params.column.isFilterActive();qe(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){let e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){let{eFilterButton:t,eMenu:i}=this;return e?t??i??this.getGui():i??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},HW={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},zW=class extends Ce{constructor(){super(HW),this.agOpened=te,this.agClosed=te,this.agLabel=te,this.isLoadingInnerComponent=!1}init(e){let{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&ue(89)}workOutInnerHeaderGroupComponent(e,t){let i=I6(e,t,t);i&&(this.isLoadingInnerComponent=!0,i.newAgStackInstance().then(s=>{this.isLoadingInnerComponent=!1,s&&(this.isAlive()?(this.innerHeaderGroupComponent=s,this.agLabel.appendChild(s.getGui())):this.destroyBean(s))}))}setupExpandIcons(){let{agOpened:e,agClosed:t,params:{columnGroup:i},beans:s}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);let n=h=>{if(Sn(h))return;let v=!i.isExpanded();s.colGroupSvc.setColumnGroupOpened(i.getProvidedColumnGroup(),v,"uiColumnExpanded")};this.addTouchAndClickListeners(s,t,n),this.addTouchAndClickListeners(s,e,n);let r=h=>{Zs(h)};this.addManagedElementListeners(t,{dblclick:r}),this.addManagedElementListeners(e,{dblclick:r}),this.addManagedElementListeners(this.getGui(),{dblclick:n}),this.updateIconVisibility();let a=i.getProvidedColumnGroup(),d=this.updateIconVisibility.bind(this);this.addManagedListeners(a,{expandedChanged:d,expandableChanged:d})}addTouchAndClickListeners(e,t,i){e.touchSvc?.setupForHeaderGroup(this,t,i),this.addManagedElementListeners(t,{click:i})}updateIconVisibility(){let{agOpened:e,agClosed:t,params:{columnGroup:i}}=this;if(i.isExpandable()){let s=i.isExpanded();qe(e,s),qe(t,!s)}else qe(e,!1),qe(t,!1)}addInIcon(e,t){let i=et(e,this.beans,null);i&&t.appendChild(i)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){let{agOpened:t,agClosed:i}=this;qe(t,!1),qe(i,!1);return}}setupLabel(e){let{displayName:t,columnGroup:i}=e,s=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(Ee(t)&&!s){let n=xs(t,!0);this.agLabel.textContent=n}this.addOrRemoveCssClass("ag-sticky-label",!i.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},WW={moduleName:"ColumnHeaderComp",version:ut,userComponents:{agColumnHeader:VW},icons:{menu:"menu",menuAlt:"menu-alt"}},jW={moduleName:"ColumnGroupHeaderComp",version:ut,userComponents:{agColumnGroupHeader:zW},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},UW=class extends ee{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&ue(92)}createTask(e,t,i,s){this.verify();let n=i;s&&this.batchFrameworkComps&&(n="f1");let r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;let t=this.scrollGoingDown?1:-1;e.list.sort((i,s)=>i.index!==s.index?t*(s.index-i.index):s.createOrder-i.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){let{p1:t,p2:i,f1:s,destroyTasks:n,beans:r}=this,{ctrlsSvc:a,frameworkOverrides:d}=r,h=t.list,v=i.list,b=s.list,D=Date.now(),R=0,A=e<=0,k=a.getScrollFeature();for(;A||R<e;){if(!k.scrollGridIfNeeded()){let H;if(h.length)this.sortTaskList(t),H=h.pop().task;else if(v.length)this.sortTaskList(i),H=v.pop().task;else if(b.length)d.wrapOutgoing(()=>{for(;(A||R<e)&&!k.scrollGridIfNeeded();){if(b.length)this.sortTaskList(s),H=b.pop().task,H();else break;R=Date.now()-D}}),H=()=>{};else if(n.length)H=n.pop();else break;H()}R=Date.now()-D}h.length||v.length||b.length||n.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){let e=this.executeFrame.bind(this,60);Rs(this.beans,e)}isQueueEmpty(){return!this.ticking}},$W={moduleName:"AnimationFrame",version:ut,beans:[UW]},KW=class extends ee{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!ic())return;let t=(i,s,n)=>{let{rowCtrl:r,cellCtrl:a}=e.getControlsForEventTarget(n?.target??null);a?.column&&a.dispatchCellContextMenuEvent(n??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,n,r,a)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!ic()||ZR("dblclick"))return!1;let s=Date.now(),n=s-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=s,n})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){let{gos:t,sortSvc:i}=this.beans;if(t.get("suppressTouch"))return;let{params:s,eMenu:n,eFilterButton:r}=e,a=new wn(e.getGui(),!0),d=e.shouldSuppressMenuHide(),h=d&&Ee(n),v=h?new wn(n,!0):a;if(s.enableMenu){let b=h?"tap":"longTap",D=R=>s.showColumnMenuAfterMouseClick(R.touchStart);e.addManagedListeners(v,{[b]:D})}if(s.enableSorting){let b=D=>{let R=D.touchStart.target;d&&(n?.contains(R)||r?.contains(R))||i?.progressSort(s.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:b})}if(s.enableFilterButton&&r){let b=new wn(r,!0);e.addManagedListeners(b,{tap:()=>s.showFilter(r)}),e.addDestroyFunc(()=>b.destroy())}e.addDestroyFunc(()=>a.destroy()),h&&e.addDestroyFunc(()=>v.destroy())}setupForHeaderGroup(e,t,i){let s=new wn(t,!0);e.addManagedListeners(s,{tap:i}),e.addDestroyFunc(()=>s.destroy())}mockContextMenu(e,t,i){if(!ic())return;let s=new wn(t),n=r=>{ac(this.gos,r.touchEvent)&&i(void 0,r.touchStart,r.touchEvent)};e.addManagedListeners(s,{longTap:n}),e.addDestroyFunc(()=>s.destroy())}},qW={moduleName:"Touch",version:ut,beans:[KW]},YW=class extends ee{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){let i=e===K.UP,s=e===K.DOWN,n=e===K.LEFT,r,a,{pageBounds:d,gos:h,visibleCols:v}=this.beans;if(i||s)a=i?d.getFirstRow():d.getLastRow(),r=t.column;else{let b=h.get("enableRtl");a=t.rowIndex,r=(n!==b?v.allCols:[...v.allCols].reverse()).find(R=>this.isCellGoodToFocusOn({rowIndex:a,rowPinned:null,column:R}))}return r?{rowIndex:a,rowPinned:null,column:r}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let i=t,s=!1;for(;!s;){switch(e){case K.UP:i=this.getCellAbove(i);break;case K.DOWN:i=this.getCellBelow(i);break;case K.RIGHT:i=this.gos.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case K.LEFT:i=this.gos.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,ue(8,{key:e});break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(e){let t=e.column,i,{pinnedRowModel:s,rowModel:n}=this.beans;switch(e.rowPinned){case"top":i=s?.getPinnedTopRow(e.rowIndex);break;case"bottom":i=s?.getPinnedBottomRow(e.rowIndex);break;default:i=n.getRow(e.rowIndex);break}return i?!this.isSuppressNavigable(t,i):!1}getCellToLeft(e){if(!e)return null;let t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;let t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;let t=this.rowSpanSvc?.getCellEnd(e)??e,i=_M(this.beans,t);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getCellAbove(e){if(!e)return null;let t=this.rowSpanSvc?.getCellStart(e)??e,i=Vh(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){let{visibleCols:t,pagination:i}=this.beans,s=t.allCols,n=e.rowIndex,r=e.rowPinned,a=t.getColAfter(e.column);if(!a){a=s[0];let d=_M(this.beans,e);if(_t(d)||!d.rowPinned&&!(i?.isRowInPage(d.rowIndex)??!0))return null;n=d?d.rowIndex:null,r=d?d.rowPinned:null}return{rowIndex:n,column:a,rowPinned:r}}getNextTabbedCellBackwards(e){let{beans:t}=this,{visibleCols:i,pagination:s}=t,n=i.allCols,r=e.rowIndex,a=e.rowPinned,d=i.getColBefore(e.column);if(!d){d=Ue(n);let h=Vh(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(_t(h)||!h.rowPinned&&!(s?.isRowInPage(h.rowIndex)??!0))return null;r=h?h.rowIndex:null,a=h?h.rowPinned:null}return{rowIndex:r,column:d,rowPinned:a}}isSuppressNavigable(e,t){let{suppressNavigable:i}=e.colDef;if(typeof i=="boolean")return i;if(typeof i=="function"){let s=e.createColumnFunctionCallbackParams(t);return i(s)}return!1}};function XW(e){return e.focusSvc.getFocusedCell()}function ZW(e){return e.focusSvc.clearFocusedCell()}function QW(e,t,i,s){e.focusSvc.setFocusedCell({rowIndex:t,column:i,rowPinned:s,forceBrowserFocus:!0})}function JW(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function e7(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function t7(e,t,i=!1){let s=e.headerNavigation?.getHeaderPositionForColumn(t,i);s&&e.focusSvc.focusHeaderPosition({headerPosition:s})}var i7=class extends ee{constructor(){super(),this.beanName="navigation",this.onPageDown=DM(this.onPageDown,100),this.onPageUp=DM(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){let i=e.key,s=e.altKey,n=e.ctrlKey||e.metaKey,r=!!this.beans.rangeSvc&&e.shiftKey,a=p4(this.gos,e),d=!1;switch(i){case K.PAGE_HOME:case K.PAGE_END:!n&&!s&&(this.onHomeOrEndKey(i),d=!0);break;case K.LEFT:case K.RIGHT:case K.UP:case K.DOWN:if(!a)return!1;n&&!s&&!r&&(this.onCtrlUpDownLeftRight(i,a),d=!0);break;case K.PAGE_DOWN:case K.PAGE_UP:!n&&!s&&(d=this.handlePageUpDown(i,a,t));break}return d&&e.preventDefault(),d}handlePageUpDown(e,t,i){return i&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===K.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){let{scrollIndex:t,scrollType:i,scrollColumn:s,focusIndex:n,focusColumn:r}=e,{scrollFeature:a}=this.gridBodyCon;Ee(s)&&!s.isPinned()&&a.ensureColumnVisible(s),Ee(t)&&a.ensureIndexVisible(t,i),e.isAsync||a.ensureIndexVisible(n);let{focusSvc:d,rangeSvc:h}=this.beans;d.setFocusedCell({rowIndex:n,column:r,rowPinned:null,forceBrowserFocus:!0}),h?.setRangeToCell({rowIndex:n,rowPinned:null,column:r})}onPageDown(e){let t=this.beans,i=DC(t),s=this.getViewportHeight(),{pageBounds:n,rowModel:r,rowAutoHeight:a}=t,d=n.getPixelOffset(),h=i.top+s,v=r.getRowIndexAtPixel(h+d);a?.active?this.navigateToNextPageWithAutoHeight(e,v):this.navigateToNextPage(e,v)}onPageUp(e){let t=this.beans,i=DC(t),{pageBounds:s,rowModel:n,rowAutoHeight:r}=t,a=s.getPixelOffset(),d=i.top,h=n.getRowIndexAtPixel(d+a);r?.active?this.navigateToNextPageWithAutoHeight(e,h,!0):this.navigateToNextPage(e,h,!0)}navigateToNextPage(e,t,i=!1){let{pageBounds:s,rowModel:n}=this.beans,r=this.getViewportHeight(),a=s.getFirstRow(),d=s.getLastRow(),h=s.getPixelOffset(),v=n.getRow(e.rowIndex),b=i?v?.rowHeight-r-h:r-h,D=v?.rowTop+b,R=n.getRowIndexAtPixel(D+h);if(R===e.rowIndex){let k=i?-1:1;t=R=e.rowIndex+k}let A;i?(A="bottom",R<a&&(R=a),t<a&&(t=a)):(A="top",R>d&&(R=d),t>d&&(t=d)),this.isRowTallerThanView(n.getRow(R))&&(t=R,A="top"),this.navigateTo({scrollIndex:t,scrollType:A,scrollColumn:null,focusIndex:R,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,i=!1){this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{let s=this.getNextFocusIndexForAutoHeight(e,i);this.navigateTo({scrollIndex:t,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){let i=t?-1:1,s=this.getViewportHeight(),{pageBounds:n,rowModel:r}=this.beans,a=n.getLastRow(),d=0,h=e.rowIndex;for(;h>=0&&h<=a;){let v=r.getRow(h);if(v){let b=v.rowHeight??0;if(d+b>s)break;d+=b}h+=i}return Math.max(0,Math.min(h,a))}getViewportHeight(){let e=this.beans,t=DC(e),i=this.beans.scrollVisibleSvc.getScrollbarWidth(),s=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(s-=i),s}isRowTallerThanView(e){if(!e)return!1;let t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){let i=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:s}=i,n=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:n,focusIndex:s,focusColumn:n})}onHomeOrEndKey(e){let t=e===K.PAGE_HOME,{visibleCols:i,pageBounds:s,rowModel:n}=this.beans,r=i.allCols,a=t?s.getFirstRow():s.getLastRow(),d=n.getRow(a);if(!d)return;let h=(t?r:[...r].reverse()).find(v=>!v.isSuppressNavigable(d));h&&this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:h,focusIndex:a,focusColumn:h})}onTabKeyDown(e,t){let i=t.shiftKey,s=this.tabToNextCellCommon(e,i,t),n=this.beans,{ctrlsSvc:r,pageBounds:a,focusSvc:d,gos:h}=n;if(s!==!1){s?t.preventDefault():s===null&&r.get("gridCtrl").allowFocusForNextCoreContainer(i);return}if(i){let{rowIndex:v,rowPinned:b}=e.getRowPosition();(b?v===0:v===a.getFirstRow())&&(h.get("headerHeight")===0||eo(n)?Es(n,!0,!0):(t.preventDefault(),d.focusPreviousFromFirstCell(t)))}else e instanceof Eh&&e.focusCell(!0),(!i&&d.focusOverlay(!1)||Es(n,i))&&t.preventDefault()}tabToNextCell(e,t){let i=this.beans,{focusSvc:s,rowRenderer:n}=i,r=s.getFocusedCell();if(!r)return!1;let a=fh(i,r);return!a&&(a=n.getRowByPosition(r),!a||!a.isFullWidth())?!1:!!this.tabToNextCellCommon(a,e,t)}tabToNextCellCommon(e,t,i){let s=e.editing;if(!s&&e instanceof Eh){let a=e.rowCtrl;a&&(s=a.editing)}let n;return s?this.gos.get("editType")==="fullRow"?n=this.moveToNextEditingRow(e,t,i):n=this.moveToNextEditingCell(e,t,i):n=this.moveToNextCellNotEditing(e,t,i),n===null?n:n||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,i=null){let s=e.cellPosition;e.eGui.focus(),e.stopEditing();let n=this.findNextCellToFocusOn(s,t,!0);return n===!1?null:n==null?!1:(this.beans.editSvc?.startEditing(n,null,!0,i),n.focusCell(!1),!0)}moveToNextEditingRow(e,t,i=null){let s=e.cellPosition,n=this.findNextCellToFocusOn(s,t,!0);if(n===!1)return null;if(n==null)return!1;let r=n.cellPosition,a=this.isCellEditable(s),d=this.isCellEditable(r),h=r&&s.rowIndex===r.rowIndex&&s.rowPinned===r.rowPinned,{editSvc:v,rowEditSvc:b}=this.beans;if(a&&v?.setFocusOutOnEditor(e),!h){let D=e.rowCtrl;v?.stopRowEditing(D);let R=n.rowCtrl;b?.startEditing(R,void 0,void 0,i)}return d?(v?.setFocusInOnEditor(n),n.focusCell()):n.focusCell(!0),!0}moveToNextCellNotEditing(e,t,i){let s=this.beans.visibleCols.allCols,n;if(e instanceof HC){if(n=be(U({},e.getRowPosition()),{column:t?s[0]:Ue(s)}),this.gos.get("embedFullWidthRows")&&i){let a=e.findFullWidthInfoForEvent(i);a&&(n.column=a.column)}}else n=e.getFocusedCellPosition();let r=this.findNextCellToFocusOn(n,t,!1);if(r===!1)return null;if(r instanceof Eh)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r,t);return Ee(r)}findNextCellToFocusOn(e,t,i){let s=e,n=this.beans,{cellNavigation:r,gos:a,focusSvc:d,rowRenderer:h,rangeSvc:v}=n;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=r.getNextTabbedCell(s,t);let b=a.getCallback("tabToNextCell");if(Ee(b)){let k=b({backwards:t,editing:i,previousCellPosition:e,nextCellPosition:s||null});if(k===!0)s=e;else{if(k===!1)return!1;s={rowIndex:k.rowIndex,column:k.column,rowPinned:k.rowPinned}}}if(!s)return null;if(s.rowIndex<0){let A=qs(n);return d.focusHeaderPosition({headerPosition:{headerRowIndex:A+s.rowIndex,column:s.column},fromCell:!0}),null}let D=a.get("editType")==="fullRow";if(i&&!D&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);let R=fh(n,s);if(!R){let A=h.getRowByPosition(s);if(!A||!A.isFullWidth()||i)continue;return be(U({},A.getRowPosition()),{column:s?.column})}if(!r.isSuppressNavigable(R.column,R.rowNode))return R.setFocusedCellPosition(s),v?.setRangeToCell(s),R}}isCellEditable(e){let t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){let{pinnedRowModel:i,rowModel:s}=this.beans;return t==="top"?i?.getPinnedTopRow(e):t==="bottom"?i?.getPinnedBottomRow(e):s.getRow(e)}navigateToNextCell(e,t,i,s){let n=i,r=!1,a=this.beans,{cellNavigation:d,focusSvc:h,gos:v}=a;for(;n&&(n===i||!this.isValidNavigateCell(n));)v.get("enableRtl")?t===K.LEFT&&(n=this.getLastCellOfColSpan(n)):t===K.RIGHT&&(n=this.getLastCellOfColSpan(n)),n=d.getNextCellToFocus(t,n),r=_t(n);if(r&&e&&e.key===K.UP&&(n={rowIndex:-1,rowPinned:null,column:i.column}),s){let D=v.getCallback("navigateToNextCell");if(Ee(D)){let A=D({key:t,previousCellPosition:i,nextCellPosition:n||null,event:e});Ee(A)?n={rowPinned:A.rowPinned,rowIndex:A.rowIndex,column:A.column}:n=null}}if(!n)return;if(n.rowIndex<0){let D=qs(a);h.focusHeaderPosition({headerPosition:{headerRowIndex:D+n.rowIndex,column:i.column},event:e||void 0,fromCell:!0});return}let b=this.getNormalisedPosition(n);b?this.focusPosition(b):this.tryToFocusFullWidthRow(n)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);let i=fh(this.beans,e);return i?(e=i.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){let{visibleCols:i,rowRenderer:s,focusSvc:n,eventSvc:r}=this.beans,a=i.allCols,d=s.getRowByPosition(e);if(!d||!d.isFullWidth())return!1;let h=n.getFocusedCell(),v={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ue(a):a[0])};this.focusPosition(v);let b=t??(h!=null&&m4(v,h));return r.dispatchEvent({type:"fullWidthRowFocused",rowIndex:v.rowIndex,rowPinned:v.rowPinned,column:v.column,isFullWidthCell:!0,fromBelow:b}),!0}focusPosition(e){let{focusSvc:t,rangeSvc:i}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),i?.setRangeToCell(e)}isValidNavigateCell(e){return!!DT(this.beans,e)}getLastCellOfColSpan(e){let t=fh(this.beans,e);if(!t)return e;let i=t.getColSpanningList();return i.length===1?e:{rowIndex:e.rowIndex,column:Ue(i),rowPinned:e.rowPinned}}ensureCellVisible(e){let t=jR(this.gos),i=this.beans.rowModel.getRow(e.rowIndex),s=t&&i?.sticky,{scrollFeature:n}=this.gridBodyCon;!s&&_t(e.rowPinned)&&n.ensureIndexVisible(e.rowIndex),e.column.isPinned()||n.ensureColumnVisible(e.column)}};function DC(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var s7={moduleName:"KeyboardNavigation",version:ut,beans:[i7,YW,RW],apiFunctions:{getFocusedCell:XW,clearFocusedCell:ZW,setFocusedCell:QW,setFocusedHeader:t7,tabToNextCell:JW,tabToPreviousCell:e7}},n7=class extends ee{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){let{pageBounds:e,pagination:t,rowModel:i}=this.beans;t?t.calculatePages():e.calculateBounds(0,i.getRowCount()-1)}},r7=class extends ee{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){let{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){let{topRowBounds:e,bottomRowBounds:t}=this,i=e?.rowTop??0,s=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:i,pageLastPixel:s}}calculateBounds(e,t){let{rowModel:i}=this.beans,s=i.getRowBounds(e);s&&(s.rowIndex=e),this.topRowBounds=s;let n=i.getRowBounds(t);n&&(n.rowIndex=t),this.bottomRowBounds=n,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){let e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},o7=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",a7=class extends ee{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){let e=this.getWidth(),t=e>0;for(let i of this.elements)i&&(qe(i,t),Ys(i,e))}},l7=class extends ee{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});let e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){let{gos:e,visibleCols:t,eventSvc:i}=this.beans,s=vi(e,"print"),n=s?0:t.getColsLeftWidth(),r=s?0:t.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,i.dispatchEvent({type:"leftPinnedWidthChanged"})),r!=this.rightWidth&&(this.rightWidth=r,i.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){let e=this.gridBodyCtrl.eBodyViewport,t=Rh(e);if(t<=50)return;let i=this.getPinnedColumnsOverflowingViewport(t-50),s=this.gos.getCallback("processUnpinnedColumns"),{columns:n,hasLockedPinned:r}=i,a=n;!a.length&&!r||(s&&(a=s({columns:a,viewportWidth:t})),!(!a||!a.length)&&(a=a.filter(d=>!_h(d)),this.setColsPinned(a,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new a7(e,t)}setColsPinned(e,t,i){let{colModel:s,colAnimation:n,visibleCols:r,gos:a}=this.beans;if(!s.cols||!e?.length)return;if(vi(a,"print")){ue(37);return}n?.start();let d;t===!0||t==="left"?d="left":t==="right"?d="right":d=null;let h=[];e.forEach(v=>{if(!v)return;let b=s.getCol(v);b&&b.getPinned()!==d&&(this.setColPinned(b,d),h.push(b))}),h.length&&(r.refresh(i),lT(this.eventSvc,h,i)),n?.finish()}initCol(e){let{pinned:t,initialPinned:i}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,i)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){let{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;let i=e.pinned==="left",s=e.pinned==="right";e.hidden=!0;let n=()=>{let r=i?this.leftWidth:this.rightWidth;if(r==null)return;let a=r==0,d=e.hidden!==a,h=this.gos.get("enableRtl"),v=t.getScrollbarWidth(),D=t.verticalScrollShowing&&(h&&i||!h&&s)?r+v:r;e.comp.setPinnedContainerWidth(`${D}px`),e.comp.setDisplayed(!a),d&&(e.hidden=a,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:n,rightPinnedWidthChanged:n,scrollVisibilityChanged:n,scrollbarWidthChanged:n})}getHeaderResizeDiff(e,t){if(t.getPinned()){let{leftWidth:s,rightWidth:n}=this,r=Rh(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(s+n+e>r)if(r>s+n)e=r-s-n;else return 0}return e}getPinnedColumnsOverflowingViewport(e){let t=this.rightWidth??0,i=this.leftWidth??0,s=t+i,n=!1;if(s<e)return{columns:[],hasLockedPinned:n};let{visibleCols:r}=this.beans,a=[...r.leftCols],d=[...r.rightCols],h=0,v=0,b=0,D=[],R=s-b-e;for(;(v<a.length||h<d.length)&&R>0;){if(h<d.length){let A=d[h++];if(A.colDef.lockPinned){n=!0;continue}R-=A.getActualWidth(),D.push(A)}if(v<a.length&&R>0){let A=a[v++];if(A.colDef.lockPinned){n=!0;continue}R-=A.getActualWidth(),D.push(A)}}return{columns:D,hasLockedPinned:n}}},c7={moduleName:"PinnedColumn",version:ut,beans:[l7],css:[o7]},d7=class extends ee{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=ir(this,this.updateAnnouncement.bind(this),200)}postConstruct(){let e=this.beans,t=Jt(e),i=this.descriptionContainer=t.createElement("div");i.classList.add("ag-aria-description-container"),lR(i,"polite"),NV(i,"additions text"),OV(i,!0),e.eGridDiv.appendChild(i)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;let e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){super.destroy();let{descriptionContainer:e}=this;e&&(mi(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},u7={moduleName:"Aria",version:ut,beans:[d7]};function h7(e){e.overlays?.showLoadingOverlay()}function p7(e){e.overlays?.showNoRowsOverlay()}function g7(e){e.overlays?.hideOverlay()}var f7=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",m7={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},pI=class extends Ce{constructor(){super(m7),this.eOverlayWrapper=te,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(f7)}handleKeyDown(e){if(e.key!==K.TAB||e.defaultPrevented||Sn(e))return;let t=this.beans;if(Ts(t,this.eOverlayWrapper,!1,e.shiftKey))return;let s=!1;e.shiftKey?s=t.focusSvc.focusGridView({column:Ue(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):s=Es(t,!1),s&&e.preventDefault()}updateLayoutClasses(e,t){let i=this.eOverlayWrapper.classList,{AUTO_HEIGHT:s,NORMAL:n,PRINT:r}=ws;i.toggle(s,t.autoHeight),i.toggle(n,t.normal),i.toggle(r,t.print)}postConstruct(){this.createManagedBean(new ob(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){let t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,i,s){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.isGridFocused()){let n=St(this.beans);n&&!mH(this.beans)&&(this.elToFocusAfter=n)}e.then(n=>{if(this.activePromise!==e){this.activeOverlay!==n&&(this.destroyBean(n),n=null);return}if(this.activePromise=null,!!n){if(this.activeOverlay!==n&&(this.eOverlayWrapper.appendChild(n.getGui()),this.activeOverlay=n,s)){let r=n;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:a})=>{r.refresh?.(je(this.gos,U({},a??{})))})}i&&this.isGridFocused()&&sr(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;let e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);let i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(e),mi(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){let e=St(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},v7={selector:"AG-OVERLAY-WRAPPER",component:pI},C7=class extends ee{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=tb(this.gos),this.isServerSide=!this.isClientSide&&BR(this.gos);let e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;let e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;let e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ue(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return v7}getOverlayWrapperCompClass(){return pI}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}let{state:e,isClientSide:t,isServerSide:i,beans:{gos:s,colModel:n,rowModel:r}}=this,a=this.gos.get("loading");a!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&a===void 0&&!s.get("suppressLoadingOverlay")&&(a=!s.get("columnDefs")||!n.ready||!s.get("rowData")&&t),a?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&r.isEmpty()&&!s.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!i&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(L6(this.beans.userCompFactory,je(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(O6(this.beans.userCompFactory,je(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,i){let s=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(s,t,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){let e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){let e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},b7={moduleName:"Overlay",version:ut,userComponents:{agLoadingOverlay:wz,agNoRowsOverlay:xz},apiFunctions:{showLoadingOverlay:h7,showNoRowsOverlay:p7,hideOverlay:g7},beans:[C7]},y7=class extends ee{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=UV(),oc(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;let e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;oc(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){let t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){let e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;let t=this.modelHeight-this.getUiBodyHeight(),i=e/t;return this.maxScrollY*i}},w7=400,S7=class extends ee{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{let e=()=>{this.getAllCellCtrls().forEach(r=>r.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(r=>r.updateRangeBordersIfRangeCount())},i=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},s=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ca(this.gos)?i():s()}),Ca(this.gos)&&i()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",s=>this.onSuppressCellFocusChanged(s.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:s,previousValue:n})=>{(!n&&s||n&&!s)&&this.redrawRows()});let{stickyRowSvc:e,gos:t,showRowGroupCols:i}=this.beans;if(i&&this.addManagedPropertyListener("showOpenedGroup",()=>{let s=i.getShowRowGroupCols();s.length&&this.refreshCells({columns:s,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{let s=this.gridBodyCtrl;s.setStickyTopHeight(0),s.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=vi(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){let e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new x7(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){let e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),i=this.cachedRowCtrls?.getEntries()??[];t.length>0||i.length>0?this.allRowCtrls=[...e,...t,...i]:this.allRowCtrls=e}isCellRendered(e,t){let i=this.getAllRowCtrls();for(let s of i)if(!(s.rowNode.rowPinned||s.rowNode.rowIndex!==e)&&(s.isFullWidth()||!t||s.getCellCtrl(t)))return!0;return!1}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){let t=this.beans.colModel.getCol(e.column)??void 0;this.isCellRendered(e.rowIndex,t)||this.redrawAfterModelUpdate()}this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{let{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(i=>t.onFlashCells(i,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{let i=h=>{this.getAllCellCtrls().forEach(v=>{v.column===t&&h(v)})},s=()=>{i(h=>h.onLeftChanged())},n=()=>{i(h=>h.onWidthChanged())},r=()=>{i(h=>h.onFirstRightPinnedChanged())},a=()=>{i(h=>h.onLastLeftPinnedChanged())},d=()=>{i(h=>h.onColDefChanged())};t.__addEventListener("leftChanged",s),t.__addEventListener("widthChanged",n),t.__addEventListener("firstRightPinnedChanged",r),t.__addEventListener("lastLeftPinnedChanged",a),t.__addEventListener("colDefChanged",d),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",s),t.__removeEventListener("widthChanged",n),t.__removeEventListener("firstRightPinnedChanged",r),t.__removeEventListener("lastLeftPinnedChanged",a),t.__removeEventListener("colDefChanged",d)})})}onDomLayoutChanged(){let e=vi(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),i=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;let e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){let t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){let t=[];return this.getAllRowCtrls().forEach(i=>{let s=i.getCellCtrl(e,!0)?.eGui;s&&t.push(s)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){let{pinnedRowModel:i,beans:s,printLayout:n}=this,r=Object.fromEntries(e.map(d=>[d.rowNode.id,d]));i?.forEachPinnedRow(t,(d,h)=>{let v=e[h];v&&i.getPinnedRowById(v.rowNode.id,t)===void 0&&(v.destroyFirstPass(),v.destroySecondPass()),d.id in r?(e[h]=r[d.id],delete r[d.id]):e[h]=new HC(d,s,!1,!1,n)});let a=(t==="top"?i?.getPinnedTopRowCount():i?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){let e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{let i=s=>{let n=s[e.rowIndex];n&&n.rowNode===e&&(n.destroyFirstPass(),n.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();let t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);let i=!e.domLayoutChanged&&!!e.recycleRows,s=e.animate&&pa(this.gos),n=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();let{stickyRowFeature:r}=this;if(r){r.checkStickyRows();let a=r.extraTopHeight+r.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(n,s),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){let t=e.newData||e.newPage,i=this.gos.get("suppressScrollOnNewData");t&&!i&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){let{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let i=this.pageBounds.getCurrentPageHeight();i===0&&(i=1),t.setModelHeight(i+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(OR(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;let t=this.beans.focusSvc,i=this.findPositionToFocus(e);if(!i){t.focusHeaderPosition({headerPosition:{headerRowIndex:qs(this.beans)-1,column:e.column}});return}if(e.rowIndex!==i.rowIndex||e.rowPinned!=i.rowPinned){t.setFocusedCell(be(U({},i),{preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0}));return}t.doesRowOrCellHaveBrowserFocus()||this.onCellFocusChanged(je(this.gos,be(U({},i),{forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"})))}findPositionToFocus(e){let{pagination:t,pageBounds:i}=this.beans,s=e;for(s.rowPinned==null&&t&&i&&!t.isRowInPage(s.rowIndex)&&(s={rowPinned:null,rowIndex:i.getFirstRow()});s;){if(s.rowPinned==null&&i)if(s.rowIndex<i.getFirstRow()){if(s=Vh(this.beans,{rowPinned:null,rowIndex:0}),!s)return null}else s.rowIndex>i.getLastRow()&&(s={rowPinned:null,rowIndex:i.getLastRow()});let n=this.getRowByPosition(s);if(n?.isAlive())return be(U({},n.getRowPosition()),{column:e.column});s=Vh(this.beans,s)}return null}getAllCellCtrls(){let e=[],t=this.getAllRowCtrls(),i=t.length;for(let s=0;s<i;s++){let n=t[s].getAllCellCtrls(),r=n.length;for(let a=0;a<r;a++)e.push(n[a])}return e}getAllRowCtrls(){let{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),i=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...i,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,i){let s=this.rowCtrlsByRowIndex[t];s&&s.addEventListener(e,i)}refreshCells(e={}){let t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(let i of this.getCellCtrls(e.rowNodes,e.columns))i.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(let i of this.getRowCtrls(e)){if(!i.isFullWidth())continue;i.refreshFullWidth()||(t=!0,this.redrawRow(i.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){let t=iR(e),i=this.getAllRowCtrls();return!e||!t?i:i.filter(s=>{let n=s.rowNode;return sR(n,t)})}getCellCtrls(e,t){let i;Ee(t)&&(i={},t.forEach(n=>{let r=this.colModel.getCol(n);Ee(r)&&(i[r.getId()]=!0)}));let s=[];return this.getRowCtrls(e).forEach(n=>{n.getAllCellCtrls().forEach(r=>{let a=r.column.getId();i&&!i[a]||s.push(r)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){let t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){let e=[];for(let i of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[i].rowNode.id==null&&e.push(i);this.removeRowCtrls(e);let t={};for(let i of Object.values(this.rowCtrlsByRowIndex)){let s=i.rowNode;t[s.id]=i}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(i=>{let s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(t),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){let{focusSvc:t,animationFrameSvc:i}=this.beans,{afterScroll:s}=e,n,r=this.stickyRowFeature;r&&(n=t?.getFocusCellToUseAfterRefresh()||void 0);let a=this.firstRenderedRow,d=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let h=!1;if(r){h=r.checkStickyRows();let b=r.extraTopHeight+r.extraBottomHeight;b&&this.updateContainerHeights(b)}let v=this.firstRenderedRow!==a||this.lastRenderedRow!==d;if(!(s&&!h&&!v)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,s),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(s&&!h),n!=null)){let b=t?.getFocusCellToUseAfterRefresh();n!=null&&b==null&&(i?.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){let i={};e.forEach(r=>i[r]=!0);let n=Object.keys(this.rowCtrlsByRowIndex).filter(r=>!i[r]);this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){let t=[];for(let a=this.firstRenderedRow;a<=this.lastRenderedRow;a++)t.push(a);let i=this.beans.pagination,s=this.beans.focusSvc?.getFocusedCell()?.rowIndex;s!=null&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&(!i||i.isRowInPage(s))&&t.push(s);let n=a=>{let d=a.rowNode.rowIndex;d==null||d===s||(d<this.firstRenderedRow||d>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(a)&&t.push(d)};for(let a of Object.values(this.rowCtrlsByRowIndex))n(a);if(e)for(let a of Object.values(e))n(a);t.sort((a,d)=>a-d);let r=[];for(let a=0;a<t.length;a++){let d=t[a],h=this.rowModel.getRow(d);h&&!h.sticky&&r.push(d)}return r}recycleRows(e,t=!1,i=!1){let s=this.calculateIndexesToDraw(e);(this.printLayout||i)&&(t=!1),this.removeRowCompsNotToDraw(s,!t);let n=[];if(s.forEach(r=>{let a=this.createOrUpdateRowCtrl(r,e,t,i);Ee(a)&&n.push(a)}),e){let{animationFrameSvc:r}=this.beans;r?.active&&i&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){let{visibleCols:e}=this.beans,t=e.isPinningLeft(),i=e.isPinningRight();(this.pinningLeft!==t||i!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){let e=[];this.getFullWidthRowCtrls().forEach(t=>{let i=t.rowNode.rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){let t=iR(e);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;let s=i.rowNode;return!(t!=null&&!sR(s,t))})}createOrUpdateRowCtrl(e,t,i,s){let n,r=this.rowCtrlsByRowIndex[e];if(r||(n=this.rowModel.getRow(e),Ee(n)&&Ee(t)&&t[n.id]&&n.alreadyRendered&&(r=t[n.id],t[n.id]=null)),!r)if(n||(n=this.rowModel.getRow(e)),Ee(n))r=this.createRowCon(n,i,s);else return;return n&&(n.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){let i=[];if(e){for(let s of Object.values(e))if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);continue}if(s.destroyFirstPass(!t),t){let n=s.instanceId;this.zombieRowCtrls[n]=s,i.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[n]})}else s.destroySecondPass()}}t&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>i.forEach(s=>s()),w7))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){let e=this.getRowBuffer(),t=HR(this.beans);return e*t}workOutFirstAndLastRowsToRender(){let{rowContainerHeight:e,pageBounds:t,rowModel:i}=this;e.updateOffset();let s,n;if(!i.isRowsToRender())s=0,n=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),s=t.getFirstRow(),n=t.getLastRow();else{let b=this.getRowBufferInPixels(),D=this.ctrlsSvc.getScrollFeature(),R=this.gos.get("suppressRowVirtualisation"),A=!1,k,L;do{let se=t.getPixelOffset(),{pageFirstPixel:W,pageLastPixel:le}=t.getCurrentPagePixelRange(),me=e.divStretchOffset,Fe=D.getVScrollPosition(),ye=Fe.top,tt=Fe.bottom;R?(k=W+me,L=le+me):(k=Math.max(ye+se-b,W)+me,L=Math.min(tt+se+b,le)+me),this.firstVisibleVPixel=Math.max(ye+se,W)+me,this.lastVisibleVPixel=Math.min(tt+se,le)+me,A=this.ensureAllRowsInRangeHaveHeightsCalculated(k,L)}while(A);let H=i.getRowIndexAtPixel(k),$=i.getRowIndexAtPixel(L),Z=t.getFirstRow(),Q=t.getLastRow();H<Z&&(H=Z),$>Q&&($=Q),s=H,n=$}let r=vi(this.gos,"normal"),a=this.gos.get("suppressMaxRenderedRowRestriction"),d=Math.max(this.getRowBuffer(),500);r&&!a&&n-s>d&&(n=s+d);let h=s!==this.firstRenderedRow,v=n!==this.lastRenderedRow;(h||v)&&(this.firstRenderedRow=s,this.lastRenderedRow=n,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:s,lastRow:n}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,Rs(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){let i=this.pinnedRowModel?.ensureRowHeightsValid(),s=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:n,rowModel:r}=this,a=r.ensureRowHeightsValid(e,t,n.getFirstRow(),n.getLastRow());return(a||s)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),s||a||i?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){let s=e.rowNode,n=this.focusSvc.isRowFocused(s.rowIndex,s.rowPinned),r=e.editing,a=s.detail;return n||r||a?!!this.isRowPresent(s):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,i){let s=this.cachedRowCtrls?.getRow(e)??null;if(s)return s;let n=i&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new HC(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){let e=Object.values(this.rowCtrlsByRowIndex).map(s=>s.rowNode),t=this.getStickyTopRowCtrls().map(s=>s.rowNode),i=this.getStickyBottomRowCtrls().map(s=>s.rowNode);return[...t,...e,...i]}getRowByPosition(e){let t,{rowIndex:i}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[i];break;case"bottom":t=this.bottomRowCtrls[i];break;default:t=this.rowCtrlsByRowIndex[i],t||(t=this.getStickyTopRowCtrls().find(s=>s.rowNode.rowIndex===i)||null,t||(t=this.getStickyBottomRowCtrls().find(s=>s.rowNode.rowIndex===i)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;let s=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!s}},x7=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){let t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;let t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){let t=e.id,i=this.entriesMap[t];delete this.entriesMap[t],Mn(this.entriesList,i)}removeFromCache(e){let t=e.rowNode.id;delete this.entriesMap[t],Mn(this.entriesList,e)}getEntries(){return this.entriesList}};function iR(e){if(!e)return;let t={top:{},bottom:{},normal:{}};return e.forEach(i=>{let s=i.id;switch(i.rowPinned){case"top":t.top[s]=i;break;case"bottom":t.bottom[s]=i;break;default:t.normal[s]=i;break}}),t}function sR(e,t){let i=e.id;switch(e.rowPinned){case"top":return t.top[i]!=null;case"bottom":return t.bottom[i]!=null;default:return t.normal[i]!=null}}var D7=class extends ee{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){let{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Ks(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Ks(e))}doFullSort(e,t){let i=e.map((s,n)=>({currentPos:n,rowNode:s}));return i.sort(this.compareRowNodes.bind(this,t)),i.map(s=>s.rowNode)}compareRowNodes(e,t,i){let s=t.rowNode,n=i.rowNode;for(let r=0,a=e.length;r<a;r++){let d=e[r],h=d.sort==="desc",v=this.getValue(s,d.column),b=this.getValue(n,d.column),D,R=this.getComparator(d,s);if(R?D=R(v,b,s,n,h):D=JV(v,b,this.isAccentedSort),!isNaN(D)&&D!==0)return d.sort==="asc"?D:D*-1}return t.currentPos-i.currentPos}getComparator(e,t){let i=e.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;let n=!t.group&&i.getColDef().field;if(!n)return;let r=this.beans.colModel.getColDefCol(n);if(r)return r.getColDef().comparator}getValue(e,t){let{valueSvc:i,colModel:s,showRowGroupCols:n,gos:r}=this.beans;if(!this.primaryColumnsSortGroups)return i.getValue(t,e,!1);if(e.rowGroupColumn===t){if(UR(r,s.isPivotActive())){let v=e.allLeafChildren?.[0];return v?i.getValue(t,v,!1):void 0}let h=n?.getShowRowGroupCol(t.getId());return h?e.groupData?.[h.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return i.getValue(t,e,!1)}};function E7(e){e.sortSvc?.onSortChanged("api")}var ec=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),M7={tag:"span",cls:"ag-sort-indicator-container",children:[ec("Order","order"),ec("Asc","ascending-icon"),ec("Desc","descending-icon"),ec("Mixed","mixed-icon"),ec("None","none-icon")]},vb=class extends Ce{constructor(e){super(),this.eSortOrder=te,this.eSortAsc=te,this.eSortDesc=te,this.eSortMixed=te,this.eSortNone=te,e||this.setTemplate(M7)}attachCustomElements(e,t,i,s,n){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=n}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);let i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(e,t,i){if(t==null)return;let s=et(e,this.beans,i);s&&t.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){let{eSortAsc:e,eSortDesc:t,eSortNone:i,column:s,gos:n,beans:r}=this,a=r.sortSvc.getDisplaySortForColumn(s);if(e&&qe(e,a==="asc",{skipAriaHidden:!0}),t&&qe(t,a==="desc",{skipAriaHidden:!0}),i){let d=!s.getColDef().unSortIcon&&!n.get("unSortIcon"),h=a==null;qe(i,!d&&h,{skipAriaHidden:!0})}}setupMultiSortIndicator(){let{eSortMixed:e,column:t,gos:i}=this;this.addInIcon("sortUnSort",e,t);let s=t.getColDef().showRowGroup;Ks(i)&&s&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){let{eSortMixed:e,beans:t,column:i}=this;if(e){let s=t.sortSvc.getDisplaySortForColumn(i)==="mixed";qe(e,s,{skipAriaHidden:!0})}}updateSortOrder(){let{eSortOrder:e,column:t,beans:{sortSvc:i}}=this;if(!e)return;let s=i.getColumnsWithSortingOrdered(),n=i.getDisplaySortIndexForColumn(t)??-1,r=s.some(d=>i.getDisplaySortIndexForColumn(d)??!1),a=n>=0&&r;qe(e,a,{skipAriaHidden:!0}),n>=0?e.textContent=(n+1).toString():mi(e)}},R7={selector:"AG-SORT-INDICATOR",component:vb},T7=["asc","desc",null],I7=class extends ee{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,i){let s=this.getNextSortDirection(e);this.setSortForColumn(e,s,t,i)}progressSortFromEvent(e,t){let s=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,s,"uiColumnSorted")}setSortForColumn(e,t,i,s){t!=="asc"&&t!=="desc"&&(t=null);let{gos:n,showRowGroupCols:r}=this.beans,a=Ks(n),d=[e];if(a&&e.getColDef().showRowGroup){let D=r?.getSourceColumnsForGroupColumn?.(e)?.filter(R=>R.isSortable());D&&(d=[e,...D])}d.forEach(b=>this.setColSort(b,t,s));let h=(i||n.get("alwaysMultiSort"))&&!n.get("suppressMultiSort"),v=[];if(!h){let b=this.clearSortBarTheseColumns(d,s);v.push(...b)}this.updateSortIndex(e),v.push(...d),this.dispatchSortChangedEvents(s,v)}updateSortIndex(e){let{gos:t,colModel:i,showRowGroupCols:s}=this.beans,n=Ks(t),r=s?.getShowRowGroupCol(e.getId()),a=n&&r||e,d=this.getColumnsWithSortingOrdered();i.forAllCols(b=>this.setColSortIndex(b,null));let h=d.filter(b=>n&&b.getColDef().showRowGroup?!1:b!==a);(a.getSort()?[...h,a]:h).forEach((b,D)=>this.setColSortIndex(b,D))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){let i={type:"sortChanged",source:e};t&&(i.columns=t),this.eventSvc.dispatchEvent(i)}clearSortBarTheseColumns(e,t){let i=[];return this.beans.colModel.forAllCols(s=>{e.includes(s)||(s.getSort()&&i.push(s),this.setColSort(s,void 0,t))}),i}getNextSortDirection(e){let t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??T7,i=t.indexOf(e.getSort()),s=i<0,n=i==t.length-1;return s||n?t[0]:t[i+1]}getIndexedSortMap(){let{gos:e,colModel:t,showRowGroupCols:i,rowGroupColsSvc:s}=this.beans,n=[];if(t.forAllCols(v=>{v.getSort()&&n.push(v)}),t.isPivotMode()){let v=Ks(e);n=n.filter(b=>{let D=!!b.getAggFunc(),R=!b.isPrimary(),A=v?i?.getShowRowGroupCol(b.getId()):b.getColDef().showRowGroup;return D||R||A})}let r=s?.columns.filter(v=>!!v.getSort())??[],a={};n.forEach((v,b)=>a[v.getId()]=b),n.sort((v,b)=>{let D=v.getSortIndex(),R=b.getSortIndex();if(D!=null&&R!=null)return D-R;if(D==null&&R==null){let A=a[v.getId()],k=a[b.getId()];return A>k?1:-1}else return R==null?-1:1});let d=Ks(e)&&!!r.length;d&&(n=[...new Set(n.map(v=>i?.getShowRowGroupCol(v.getId())??v))]);let h=new Map;return n.forEach((v,b)=>h.set(v,b)),d&&r.forEach(v=>{let b=i.getShowRowGroupCol(v.getId());h.set(v,h.get(b))}),h}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){let t=Ks(this.gos),i=!!e.getColDef().showRowGroup;return t&&i}getDisplaySortForColumn(e){let t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();let s=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,n=s[0].getSort();return s.every(a=>a.getSort()==n)?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,i){let s=0;e.addManagedListeners(t,{movingChanged:()=>{s=Date.now()}}),i&&e.addManagedElementListeners(i,{click:r=>{let a=t.isMoving(),h=Date.now()-s<50;a||h||this.progressSortFromEvent(t,r)}});let n=()=>{let r=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",r==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",r==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!r),t.getColDef().showRowGroup){let h=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(v=>t.getSort()==v.getSort());e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",h)}};e.addManagedEventListeners({sortChanged:n,columnRowGroupChanged:n})}initCol(e){let{sort:t,initialSort:i,sortIndex:s,initialSortIndex:n}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(i==="asc"||i==="desc")&&(e.sort=i),s!==void 0?s!==null&&(e.sortIndex=s):n!==null&&(e.sortIndex=n)}updateColSort(e,t,i){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,i):this.setColSort(e,void 0,i))}setColSort(e,t,i){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",i)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new vb(e)}getSortIndicatorSelector(){return R7}},gI={moduleName:"Sort",version:ut,beans:[I7,D7],apiFunctions:{onSortChanged:E7},userComponents:{agSortIndicator:vb},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},A7=class extends ee{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{let e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){let{colModel:t,rowModel:i}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),i.start()}gridReady(){let{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),oc(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){let t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,xh(e.source))}}};var fI=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){let{rowNode:i,children:s}=e;if(s)for(let n=0;n<s.length;++n)this.depthFirstSearchChangedPath(s[n],t);t(i)}depthFirstSearchEverything(e,t,i){let s=e.childrenAfterGroup;if(s)for(let n=0,r=s.length;n<r;++n){let a=s[n];a.childrenAfterGroup?this.depthFirstSearchEverything(a,t,i):i&&t(a)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,i=0;for(;!this.mapToItems[t.id];){let s={rowNode:t,children:null};this.mapToItems[t.id]=s,i++,t=t.parent}return i}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let i=e;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),t.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(e,t){let i=e;for(let s=0;s<t;s++){let n=this.mapToItems[i.id],r=this.mapToItems[i.parent.id];r.children||(r.children=[]),r.children.push(n),i=i.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;let i=this.createPathItems(e);this.linkPathItems(e,i),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;let i=this.nodeIdsToColumns[e.id];return t.filter(n=>i[n.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;let i=this.nodeIdsToColumns[e.id];return t.filter(n=>!i[n.getId()])}},F7="paste",P7=class extends ee{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){let{gos:e,rowModel:t}=this.beans;tb(e,t)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){let{gos:t,rowRenderer:i}=this.beans;if(e.source===F7||t.get("suppressChangeDetection"))return;let s=e.node,n=[s],r=this.clientSideRowModel,a=r?.rootNode;if(a&&!s.isRowPinned()){let d=t.get("aggregateOnlyChangedColumns"),h=new fI(d,a);h.addParentNode(s.parent,[e.column]),r.doAggregate(h),h.forEachChangedNodeDepthFirst(v=>{n.push(v),v.sibling&&n.push(v.sibling)})}i.refreshCells({rowNodes:n})}},_7=class extends ee{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);ei(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(i){return ei(16,{expression:e,params:t,e:i}),null}}createExpressionFunction(e){let t=this.cache;if(t[e])return t[e];let i=this.createFunctionBody(e),s=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",i);return t[e]=s,s}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};var k7={moduleName:"Expression",version:ut,beans:[_7]},L7={moduleName:"ChangeDetection",version:ut,beans:[P7]};var O7=class extends ee{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=BR(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;let e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){let i=e.getColDef().showRowGroup;if(i!=null){if(typeof i=="string"){let h=this.getDisplayedNode(t,e,!0);if(h)return this.getValue(e,h)}let d=this.getValue(e,t);if(d==null){let h=this.getDisplayedNode(t,e);if(h)return this.getValue(e,h)}return d}let s=t.leafGroup&&this.colModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!s,r=this.gos.get("groupSuppressBlankHeader")||!t.sibling,a=n&&!r;return this.getValue(e,t,a)}getValue(e,t,i=!1){if(this.initialised||this.init(),!t)return;let s=e.getColDef(),n=s.field,r=e.getColId(),a=t.data,d,h=s.showRowGroup;if(typeof h=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(h)??-1)>t.level)return null;let v=t.groupData&&t.groupData[r]!==void 0,b=!i&&t.aggData&&t.aggData[r]!==void 0,D=this.isSsrm&&i&&!!e.getColDef().aggFunc,R=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&b?d=t.aggData[r]:this.isTreeData&&s.valueGetter?d=this.executeValueGetter(s.valueGetter,a,e,t):this.isTreeData&&n&&a?d=Sh(a,n,e.isFieldContainsDots()):v?d=t.groupData[r]:b?d=t.aggData[r]:s.valueGetter?d=this.executeValueGetter(s.valueGetter,a,e,t):R?d=Sh(a,t.field,e.isFieldContainsDots()):n&&a&&!D&&(d=Sh(a,n,e.isFieldContainsDots())),this.cellExpressions&&typeof d=="string"&&d.indexOf("=")===0){let A=d.substring(1);d=this.executeValueGetter(A,a,e,t)}return d}parseValue(e,t,i,s){let n=e.getColDef(),r=n.valueParser;if(Ee(r)){let a=je(this.gos,{node:t,data:t?.data,oldValue:s,newValue:i,colDef:n,column:e});return typeof r=="function"?r(a):this.expressionSvc?.evaluate(r,a)}return i}getDeleteValue(e,t){return Ee(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,i,s,n=!0){let r=null,a,d=e.getColDef();if(s?a=s:n&&(a=d.valueFormatter),a){let h=je(this.gos,{value:i,node:t,data:t?t.data:null,colDef:d,column:e});typeof a=="function"?r=a(h):r=this.expressionSvc?this.expressionSvc.evaluate(a,h):null}else if(d.refData)return d.refData[i]||"";return r==null&&Array.isArray(i)&&(r=i.join(", ")),r}getDisplayedNode(e,t,i=!1){let s=this.gos,n=s.get("groupHideOpenParents"),r=s.get("showOpenedGroup")&&!i;if(!n&&!r)return;let a=t.colDef.showRowGroup;if(a===!0)return e.group?void 0:e.parent??void 0;let d=e;for(;d&&d.rowGroupColumn?.getId()!=a;){let h=d===d.parent?.childrenAfterSort?.[0];if(!r&&!h)return;d=d.parent}if(d!==e)return d??void 0}setValue(e,t,i,s){let n=this.colModel.getColDefCol(t);if(!e||!n)return!1;_t(e.data)&&(e.data={});let{field:r,valueSetter:a}=n.getColDef();if(_t(r)&&_t(a))return ue(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(n,i))return ue(135),!1;let d=je(this.gos,{node:e,data:e.data,oldValue:this.getValue(n,e),newValue:i,colDef:n.getColDef(),column:n});d.newValue=i;let h;if(Ee(a)?typeof a=="function"?h=a(d):h=this.expressionSvc?.evaluate(a,d):h=this.setValueUsingField(e.data,r,i,n.isFieldContainsDots()),h===void 0&&(h=!0),!h)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();let v=this.getValue(n,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:d.column,colDef:d.colDef,data:e.data,node:e,oldValue:d.oldValue,newValue:v,value:v,source:s}),!0}callColumnCellValueChangedHandler(e){let t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,i,s){if(!t)return!1;let n=!1;if(!s)n=e[t]===i,n||(e[t]=i);else{let r=t.split("."),a=e;for(;r.length>0&&a;){let d=r.shift();r.length===0?(n=a[d]===i,n||(a[d]=i)):a=a[d]}}return!n}executeValueGetterWithValueCache(e,t,i,s){let n=i.getColId(),r=this.valueCache.getValue(s,n);if(r!==void 0)return r;let a=this.executeValueGetterWithoutValueCache(e,t,i,s);return this.valueCache.setValue(s,n,a),a}executeValueGetterWithoutValueCache(e,t,i,s){let n=je(this.gos,{data:t,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)}),r;return typeof e=="function"?r=e(n):r=this.expressionSvc?.evaluate(e,n),r}getValueCallback(e,t){let i=this.colModel.getColDefCol(t);return i?this.getValue(i,e):null}getKeyForNode(e,t){let i=this.getValue(e,t),s=e.getColDef().keyCreator,n=i;if(s){let r=je(this.gos,{value:i,colDef:e.getColDef(),column:e,node:t,data:t.data});n=s(r)}return typeof n=="string"||n==null||(n=String(n),n==="[object Object]"&&ue(121)),n}},N7={moduleName:"CommunityCore",version:ut,beans:[PW,d5,y8,u6,y7,n8,MW,NW,o6,r7,n7,S7,O7,AW,EW,FW,S8,A7,f8,m8],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:u5,destroy:h5,isDestroyed:p5,getGridOption:g5,setGridOption:f5,updateGridOptions:YT},dependsOn:[h8,gb,W5,gI,WW,o8,jW,b7,L7,$W,s7,c7,u7,qW,b8,p8,k7]},B7=(()=>{let e=class Qr{static applyGlobalGridOptions(i){if(!Qr.gridOptions)return U({},i);let s={};return Hi(s,Qr.gridOptions,!0,!0),Qr.mergeStrategy==="deep"?Hi(s,i,!0,!0):s=U(U({},s),i),Qr.gridOptions.context&&(s.context=Qr.gridOptions.context),i.context&&(Qr.mergeStrategy==="deep"&&s.context&&Hi(i.context,s.context,!0,!0),s.context=i.context),s}};return e.gridOptions=void 0,e.mergeStrategy="shallow",e})(),G7=B7;function mI(e,t,i){if(!t)return ei(11),{};let s=i,n;if(!s?.setThemeOnGridDiv){let a=Qe({tag:"div"});a.style.height="100%",e.appendChild(a),e=a,n=()=>e.remove()}return new H7().create(e,t,a=>{let d=new l5(e);a.createBean(d)},void 0,i,n)}var V7=1,H7=class{create(e,t,i,s,n,r){let a=G7.applyGlobalGridOptions(t),d=a.gridId??String(V7++),h=a.rowModelType??"clientSide",v=this.getRegisteredModules(n,d,h),b=this.createBeansList(h,v,d),D=this.createProvidedBeans(e,a,n);if(!b)return;let R={providedBeanInstances:D,beanClasses:b,gridId:d,beanInitComparator:Uz,beanDestroyComparator:$z,derivedBeans:[Wz],destroyCallback:r},A=new U6(R);return this.registerModuleFeatures(A,v),i(A),A.getBean("syncSvc").start(),s&&s(A),A.getBean("gridApi")}getRegisteredModules(e,t,i){return BC(N7,void 0),e?.modules?.forEach(s=>BC(s,t)),H6(t,i)}registerModuleFeatures(e,t){let i=e.getBean("registry"),s=e.getBean("apiFunctionSvc");t.forEach(n=>{i.registerModule(n);let r=n.apiFunctions;r&&Object.keys(r).forEach(d=>{s?.addFunction(d,r[d])})})}createProvidedBeans(e,t,i){let s=i?i.frameworkOverrides:null;_t(s)&&(s=new ub);let n={gridOptions:t,eGridDiv:e,globalListener:i?i.globalListener:null,globalSyncListener:i?i.globalSyncListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(n,i.providedBeanInstances),n}createBeansList(e,t,i){let n={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!n){_C(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!gT(n,i,e)){_C(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:n,gridScoped:fT(),gridId:i,rowModelType:e},`Missing module ${n}Module for rowModelType ${e}. 
If upgrading from before v33, see ${JC}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}let r=new Set;return t.forEach(a=>a.beans?.forEach(d=>r.add(d))),Array.from(r)}};var z7=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged"],W7=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],nse=[...z7,...W7];var j7=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],U7=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],$7=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],K7=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],q7=["theme","rowSelection"],Cb=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],Y7=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],X7=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],rse=[...$7,...U7,...j7,...K7,...X7,...Y7,...Cb,...q7],vI=class{wrap(e,t,i,s){let n=this.createWrapper(e,s);return t?.forEach(r=>{this.createMethod(n,r,!0)}),i?.forEach(r=>{this.createMethod(n,r,!1)}),n}createMethod(e,t,i){e.addMethod(t,this.createMethodProxy(e,t,i))}createMethodProxy(e,t,i){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(i&&ue(49,{methodName:t}),null)}}};var EC=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],ose={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:EC,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...EC,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...EC,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]};function Z7(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Q7=0,J7=200,ej=class extends ee{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){let e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){let{eventSource:t,ePopup:i,column:s,node:n,event:r}=e,a=t.getBoundingClientRect(),d=this.getParentRect();this.setAlignedTo(t,i);let h=!1,v=()=>{let b=this.keepXYWithinBounds(i,a.top-d.top,0),D=i.clientWidth>0?i.clientWidth:200;h||(i.style.minWidth=`${D}px`,h=!0);let A=d.right-d.left-D,k;return this.gos.get("enableRtl")?(k=H(),k<0&&(k=L(),this.setAlignedStyles(i,"left")),k>A&&(k=0,this.setAlignedStyles(i,"right"))):(k=L(),k>A&&(k=H(),this.setAlignedStyles(i,"right")),k<0&&(k=0,this.setAlignedStyles(i,"left"))),{x:k,y:b};function L(){return a.right-d.left-2}function H(){return a.left-d.left-D}};this.positionPopup({ePopup:i,keepWithinBounds:!0,updatePosition:v,postProcessCallback:()=>this.callPostProcessPopup("subMenu",i,t,r instanceof MouseEvent?r:void 0,s,n)})}positionPopupUnderMouseEvent(e){let{ePopup:t,nudgeX:i,nudgeY:s,skipObserver:n}=e;this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:n,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){let t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){let{ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,eventSource:r,alignSide:a="left",position:d="over",column:h,rowNode:v,type:b}=e,D=r.getBoundingClientRect(),R=this.getParentRect();this.setAlignedTo(r,t);let A=()=>{let k=D.left-R.left;a==="right"&&(k-=t.offsetWidth-D.width);let L;return d==="over"?(L=D.top-R.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,D,R,e.nudgeY||0)==="under"?L=D.top-R.top+D.height:L=D.top-t.offsetHeight-(s||0)*2-R.top),{x:k,y:L}};this.positionPopup({ePopup:t,nudgeX:i,nudgeY:s,keepWithinBounds:n,updatePosition:A,postProcessCallback:()=>this.callPostProcessPopup(b,t,r,null,h,v)})}shouldRenderUnderOrAbove(e,t,i,s){let n=i.bottom-t.bottom,r=t.top-i.top,a=e.offsetHeight+s;return n>a?"under":r>a||r>n?"above":"under"}setAlignedStyles(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let s=this.popupList[i],{alignedToElement:n}=s;!n||(["right","left","over","above","under"].forEach(a=>{n.classList.remove(`ag-has-popup-positioned-${a}`),e.classList.remove(`ag-popup-positioned-${a}`)}),!t)||(n.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){let i=this.getPopupIndex(t);if(i!==-1){let s=this.popupList[i];s.alignedToElement=e}}callPostProcessPopup(e,t,i,s,n,r){let a=this.gos.getCallback("postProcessPopup");a&&a({column:n,rowNode:r,ePopup:t,type:e,eventSource:i,mouseEvent:s})}positionPopup(e){let{ePopup:t,keepWithinBounds:i,nudgeX:s,nudgeY:n,skipObserver:r,updatePosition:a}=e,d={width:0,height:0},h=(v=!1)=>{let{x:b,y:D}=a();v&&t.clientWidth===d.width&&t.clientHeight===d.height||(d.width=t.clientWidth,d.height=t.clientHeight,s&&(b+=s),n&&(D+=n),i&&(b=this.keepXYWithinBounds(t,b,1),D=this.keepXYWithinBounds(t,D,0)),t.style.left=`${b}px`,t.style.top=`${D}px`,e.postProcessCallback&&e.postProcessCallback())};if(h(),!r){let v=In(this.beans,t,()=>h(!0));setTimeout(()=>v(),J7)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){let e=Jt(this.beans),t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),ER(t)}keepXYWithinBounds(e,t,i){let s=i===0,n=s?"clientHeight":"clientWidth",r=s?"top":"left",a=s?"height":"width",d=s?"scrollTop":"scrollLeft",h=Jt(this.beans),v=h.documentElement,b=this.getPopupParent(),D=e.getBoundingClientRect(),R=b.getBoundingClientRect(),A=h.documentElement.getBoundingClientRect(),k=b===h.body,L=Math.ceil(D[a]),$=k?(s?xR:DR)(v)+v[d]:b[n];k&&($-=Math.abs(A[r]-R[r]));let Z=$-L;return Math.min(Math.max(t,0),Math.abs(Z))}addPopup(e){let t=Jt(this.beans),{eChild:i,ariaLabel:s,alwaysOnTop:n,positionCallback:r,anchorToElement:a}=e;if(!t)return ue(122),{hideFunc:()=>{}};let d=this.getPopupIndex(i);if(d!==-1)return{hideFunc:this.popupList[d].hideFunc};this.initialisePopupPosition(i);let h=this.createPopupWrapper(i,s,!!n),v=this.addEventListenersToPopup(be(U({},e),{wrapperEl:h}));return r&&r(),this.addPopupToPopupList(i,h,v,a),{hideFunc:v}}initialisePopupPosition(e){let i=this.getPopupParent().getBoundingClientRect();Ee(e.style.top)||(e.style.top=`${i.top*-1}px`),Ee(e.style.left)||(e.style.left=`${i.left*-1}px`)}createPopupWrapper(e,t,i){let s=this.getPopupParent(),{environment:n,gos:r}=this.beans,a=Qe({tag:"div"});return n.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(r.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Ds(e,"dialog"),Ri(e,t),a.appendChild(e),s.appendChild(a),i?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){let t=this.beans.environment;for(let i of this.popupList)t.applyThemeClasses(i.wrapper)}}addEventListenersToPopup(e){let t=this.beans,i=Jt(t),s=this.getPopupParent(),{wrapperEl:n,eChild:r,closedCallback:a,afterGuiAttached:d,closeOnEsc:h,modal:v}=e,b=!1,D=L=>{if(!n.contains(St(t)))return;L.key===K.ESCAPE&&!Sn(L)&&k({keyboardEvent:L})},R=L=>k({mouseEvent:L}),A=L=>k({touchEvent:L}),k=(L={})=>{let{mouseEvent:H,touchEvent:$,keyboardEvent:Z,forceHide:Q}=L;!Q&&(this.isEventFromCurrentPopup({mouseEvent:H,touchEvent:$},r)||b)||(b=!0,s.removeChild(n),i.removeEventListener("keydown",D),i.removeEventListener("mousedown",R),i.removeEventListener("touchstart",A),i.removeEventListener("contextmenu",R),this.eventSvc.removeEventListener("dragStarted",R),a&&a(H||$||Z),this.removePopupFromPopupList(r))};return d&&d({hidePopup:k}),window.setTimeout(()=>{h&&i.addEventListener("keydown",D),v&&(i.addEventListener("mousedown",R),this.eventSvc.addEventListener("dragStarted",R),i.addEventListener("touchstart",A),i.addEventListener("contextmenu",R))},0),k}addPopupToPopupList(e,t,i,s){this.popupList.push({element:e,wrapper:t,hideFunc:i,instanceId:Q7++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(e,s)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){let i=this.getPopupIndex(e);if(i===-1)return;let s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(r=>r&&r()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!t)return;let n=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:s.hideFunc});return s.stopAnchoringPromise=n,s.isAnchored=!0,n}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){let t=this.getPopupParent(),i=t.getBoundingClientRect(),{element:s,ePopup:n}=e,r=s.getBoundingClientRect(),a=D=>parseInt(D.substring(0,D.length-1),10),d=(D,R)=>{let A=i[D]-r[D],k=a(n.style[D]);return{initialDiff:A,lastDiff:A,initial:k,last:k,direction:R}},h=d("top",0),v=d("left",1),b=this.beans.frameworkOverrides;return new An(D=>{b.wrapIncoming(()=>{b.setInterval(()=>{let R=t.getBoundingClientRect(),A=s.getBoundingClientRect();if(A.top==0&&A.left==0&&A.height==0&&A.width==0){e.hidePopup();return}let L=(H,$)=>{let Z=a(n.style[$]);H.last!==Z&&(H.initial=Z,H.last=Z);let Q=R[$]-A[$];if(Q!=H.lastDiff){let se=this.keepXYWithinBounds(n,H.initial+H.initialDiff-Q,H.direction);n.style[$]=`${se}px`,H.last=se}H.lastDiff=Q};L(h,"top"),L(v,"left")},200).then(R=>{D(()=>{R!=null&&window.clearInterval(R)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){let{mouseEvent:i,touchEvent:s}=e,n=i||s;if(!n)return!1;let r=this.getPopupIndex(t);if(r===-1)return!1;for(let a=r;a<this.popupList.length;a++){let d=this.popupList[a];if(RH(d.element,n))return!0}return this.isElementWithinCustomPopup(n.target)}isElementWithinCustomPopup(e){let t=Jt(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){let i=this.getWrapper(e);i&&(i.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(i))}bringPopupToFront(e){let t=this.getPopupParent(),i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),s=i.length,n=this.getWrapper(e);if(!n||s<=1||!t.contains(e))return;let r=[],a=[];for(let R of i)R!==n&&(R.classList.contains("ag-always-on-top")?a.push(R):r.push(R));let d=[],h=a.length,D=n.classList.contains("ag-always-on-top")||!h?[...r,...a,n]:[...r,n,...a];for(let R=0;R<=s;R++){let A=D[R];if(i[R]===D[R]||A===n)continue;A.querySelectorAll("div").forEach(L=>{L.scrollTop!==0&&d.push([L,L.scrollTop])}),R===0?t.insertAdjacentElement("afterbegin",A):D[R-1].insertAdjacentElement("afterend",A)}for(;d.length;){let R=d.pop();R[0].scrollTop=R[1]}}},CI={moduleName:"Popup",version:ut,beans:[ej]};var tj=class extends Lz{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},MC=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function ij(e){if(_t(e.childrenAfterSort))return;let t=e.childrenAfterSort;for(let i=0;i<t.length;i++){let s=t[i],n=i===0,r=i===e.childrenAfterSort.length-1;s.setFirstChild(n),s.lastChild!==r&&(s.lastChild=r,s.dispatchRowEvent("lastChildChanged")),s.childIndex!==i&&(s.childIndex=i,s.dispatchRowEvent("childIndexChanged"))}}function bI(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),ij(e)}var sj=class extends ee{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){let t=this.beans,i=t.sortSvc.getSortOptions(),s=Ee(i)&&i.length>0,n=s&&!!e.changedRowNodes&&this.gos.get("deltaSort"),r=i.some(({column:a})=>Ks(t.gos)?a.isPrimary()&&a.isRowGroupActive():!!a.getColDef().showRowGroup);this.sort(t,i,s,n,e.changedRowNodes,e.changedPath,r)}sort(e,t,i,s,n,r,a){let{gos:d,colModel:h,rowGroupColsSvc:v,rowNodeSorter:b,rowRenderer:D,showRowGroupCols:R}=e,A=d.get("groupMaintainOrder"),k=h.getCols().some(Q=>Q.isRowGroupActive()),L=h.isPivotMode(),H=d.getCallback("postSortRows"),$=!1,Z=Q=>{let se=L&&Q.leafGroup,W=A&&k&&!Q.leafGroup&&!a,le;if(W){let Fe=v?.columns?.[Q.level+1]?.getSort()===null,ye=Q.childrenAfterAggFilter.slice(0);if(Q.childrenAfterSort&&!Fe){let tt={};Q.childrenAfterSort.forEach((ct,ti)=>{tt[ct.id]=ti}),ye.sort((ct,ti)=>(tt[ct.id]??0)-(tt[ti.id]??0))}le=ye}else!i||se?le=Q.childrenAfterAggFilter.slice(0):s&&n?le=nj(b,Q,n,r,t):le=b.doFullSort(Q.childrenAfterAggFilter,t);if($||($=Q.childrenAfterSort?.[0]!==le[0]),Q.childrenAfterSort=le,bI(Q),H){let me={nodes:Q.childrenAfterSort};H(me)}};if(r?.forEachChangedNodeDepthFirst(Z),$&&this.gos.get("groupHideOpenParents")){let Q=R?.getShowRowGroupCols();Q?.length&&D.refreshCells({columns:Q,force:!0})}}};function nj(e,t,i,s,n){let r=t.childrenAfterAggFilter,a=t.childrenAfterSort;if(!a)return e.doFullSort(r,n);let d=new Set,h=[],{updates:v,adds:b}=i;for(let R=0,A=r.length;R<A;++R){let k=r[R];v.has(k)||b.has(k)||s&&!s.canSkip(k)?h.push({currentPos:h.length,rowNode:k}):d.add(k.id)}let D=a.filter(R=>d.has(R.id)).map((R,A)=>({currentPos:A,rowNode:R}));return h.sort((R,A)=>e.compareRowNodes(n,R,A)),rj(e,n,h,D)}function rj(e,t,i,s){let n=[],r=0,a=0,d=i.length,h=s.length;for(;r<d&&a<h;){let v=i[r],b=s[a],D=e.compareRowNodes(t,v,b),R;D<0?(R=v,++r):(R=b,++a),n.push(R.rowNode)}for(;r<d;)n.push(i[r++].rowNode);for(;a<h;)n.push(s[a++].rowNode);return n}var oj=class extends ee{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=ir(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(s=>!!s);let e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new IT(this.beans);let i=this.getNewNodeManager();this.nodeManager=i,i.activate(this.rootNode)}getNewNodeManager(){let{gos:e,beans:t}=this;switch(DH(e)){case"treeNested":return t.csrmChildrenTreeNodeSvc??t.csrmNodeSvc;case"treePath":return t.csrmPathTreeNodeSvc??t.csrmNodeSvc;default:return t.csrmNodeSvc}}addPropertyListeners(){let e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{let i=t.changeSet?.properties;i&&this.onPropChange(i)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,i,s){let n,r=!1;do{n=!1;let a=this.getRowIndexAtPixel(e),d=this.getRowIndexAtPixel(t),h=Math.max(a,i),v=Math.min(d,s);for(let b=h;b<=v;b++){let D=this.getRow(b);if(D.rowHeightEstimated){let R=kC(this.beans,D);D.setRowHeight(R.height),n=!0,r=!0}}n&&this.setRowTopAndRowIndex()}while(n);return r}onPropChange(e){if(!this.rootNode)return;let t=this.gos,i=new Set(e),s={step:"nothing",changedProps:i},n=i.has("rowData"),r=this.nodeManager,a=this.getNewNodeManager(),d=r!==a||n&&i.has("treeData")&&t.get("treeData")||i.has("treeDataChildrenField")&&t.get("treeData"),h;if((d||n)&&(h=t.get("rowData"),h!=null&&!Array.isArray(h)&&(h=null,ue(1))),d&&(n||(h=r?.extractRowData()??h),r!==a&&(r?.deactivate(),this.nodeManager=a),a.activate(this.rootNode)),h&&(!d&&!this.isEmpty()&&h.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(s.keepRenderedRows=!0,s.animate=!this.gos.get("suppressAnimationFrame"),s.changedRowNodes=new MC,a.setImmutableRowData(s,h)):(s.rowDataUpdated=!0,s.newData=!0,this.beans.selectionSvc?.reset("rowDataChanged"),this.rowNodesCountReady=!0,a.setNewRowData(h))),s.rowDataUpdated)s.step="group";else if(s.step==="nothing"){for(let{refreshProps:v,step:b}of this.orderedStages)if(e.some(D=>v.has(D))){s.step=b;break}}s.step!=="nothing"&&this.refreshModel(s)}setRowTopAndRowIndex(){let{beans:e}=this,t=e.environment.getDefaultRowHeight(),i=0,s=new Set,n=vi(this.gos,"normal"),r=this.rowsToDisplay;for(let a=0,d=r.length;a<d;++a){let h=r[a];if(h.id!=null&&s.add(h.id),h.rowHeight==null){let v=kC(e,h,n,t);h.setRowHeight(v.height,v.estimated)}h.setRowTop(i),h.setRowIndex(a),i+=h.rowHeight}return s}clearRowTopAndRowIndex(e,t){let i=e.active,s=r=>{r&&r.id!=null&&!t.has(r.id)&&r.clearRowTopAndRowIndex()},n=r=>{if(r!==null&&(s(r),s(r.detailNode),s(r.sibling),r.hasChildren()&&r.childrenAfterGroup)){let a=r.level==-1;i&&!a&&!r.expanded||r.childrenAfterGroup.forEach(n)}};n(this.rootNode)}ensureRowsAtPixel(e,t,i=0){let s=this.getRowIndexAtPixel(t),n=this.getRow(s),r=!this.gos.get("suppressAnimationFrame");if(n===e[0])return!1;let a=this.rootNode?.allLeafChildren;return a?(e.forEach(d=>{Mn(a,d)}),e.forEach((d,h)=>{a.splice(Math.max(s+i,0)+h,0,d)}),e.forEach((d,h)=>{d.sourceRowIndex=h}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:r,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){let i=t!=null?this.getRowIndexAtPixel(t):null,s=i!=null?this.getRow(i):null;if(!s||!e||t==null){this.clearHighlightedRow();return}let n=this.getHighlightPosition(t,s),r=this.isHighlightingCurrentPosition(e,s,n),a=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;(r||a)&&(this.clearHighlightedRow(),r)||(this.setRowNodeHighlighted(s,n),this.lastHighlightedRow=s)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){let n=this.getRowIndexAtPixel(e);if(t=this.getRow(n||0),!t)return"Below"}let{rowTop:i,rowHeight:s}=t;return e-i<s/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,i){if(e===t)return!0;let s=i==="Above"?-1:1;return this.getRow(t.rowIndex+s)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){let e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;let i=e.childrenAfterAggFilter,s=e.sibling?1:0;return(i?i.length:0)+s}getTopLevelRowDisplayedIndex(e){let{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;let{childrenAfterSort:n}=t,r=d=>{let h=n[d];if(this.gos.get("groupHideOpenParents"))for(;h.expanded&&h.childrenAfterSort&&h.childrenAfterSort.length>0;)h=h.childrenAfterSort[0];return h.rowIndex},{footerSvc:a}=this.beans;return a?a.getTopDisplayIndex(i,e,n,r):r(e)}getTopLevelIndexFromDisplayedIndex(e){let{rootNode:t,rowsToDisplay:i}=this;if(!t||!i.length||i[0]===t)return e;let n=this.getRow(e);for(n.footer&&(n=n.sibling);n.parent&&n.parent!==t;)n=n.parent;let r=t.childrenAfterSort?.findIndex(a=>a===n);return r===-1?e:r??e}getRowBounds(e){let t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){let e=pa(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;let t=pa(this.gos),s=e.columns.length===0||e.columns.some(n=>n.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:t})}onSortChanged(){let e=pa(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){let t=new fI(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;let{changedRowNodes:t,newData:i,rowDataUpdated:s}=e;return!(!t||i||!s||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;let t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if(this.nodeManager.refreshModel?.(e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}let i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let i=!1,s=!1,n=[],r=SH(this.gos);return this.forEachNodeAfterFilterAndSort(a=>{if(s)return;if(i&&(a===t||a===e)&&(s=!0,a.group&&r)){n.push(...a.allLeafChildren);return}if(!i){if(a!==t&&a!==e)return;i=!0}if(!a.group||!r){n.push(a);return}}),n}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){let t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let i=0,s=t.length-1;if(e<=0)return 0;if(Ue(t).rowTop<=e)return t.length-1;let r=-1,a=-1;for(;;){let d=Math.floor((i+s)/2),h=t[d];if(this.isRowInPixel(h,e)||(h.rowTop<e?i=d+1:h.rowTop>e&&(s=d-1),r===i&&a===s))return d;r=i,a=s}}isRowInPixel(e,t){let i=e.rowTop,s=e.rowTop+e.rowHeight;return i<=t&&s>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,i)=>e(t,i))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,i=>i.childrenAfterSort)}forEachPivotNode(e,t=!1,i=!1){let s=i?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,n=>n.leafGroup?null:n[s])}depthFirstSearchRowNodes(e,t=!1,i=r=>r.childrenAfterGroup,s=this.rootNode,n=0){let r=n;if(!s)return r;let a=s===this.rootNode;a||e(s,r++);let{footerSvc:d}=this.beans;if(s.hasChildren()&&!s.footer){let h=i(s);if(h){r=d?.addTotalRows(r,s,e,t,a,"top")??r;for(let v of h)r=this.depthFirstSearchRowNodes(e,t,i,v,r);return d?.addTotalRows(r,s,e,t,a,"bottom")??r}}return r}doAggregate(e){let t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){let t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(i=>{i.childrenAfterSort=i.childrenAfterAggFilter.slice(0),bI(i)})}doRowGrouping(e,t,i,s){let n=this.rootNode;if(!this.groupStage?.execute({rowNode:n,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:i,afterColumnsChanged:s})&&!this.nodeManager.treeData){let a=n.sibling;n.childrenAfterGroup=n.allLeafChildren,a&&(a.childrenAfterGroup=n.childrenAfterGroup),n.updateHasChildren()}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,Z7(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(VC)==0){let i;return this.forEachNode(s=>{s.id===e&&(i=s)}),i}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];let i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();let e=[],t=[],i=new MC,s=!1;this.rowDataTransactionBatch?.forEach(n=>{this.rowNodesCountReady=!0;let{rowNodeTransaction:r,rowsInserted:a}=this.nodeManager.updateRowData(n.rowDataTransaction,i);a&&(s=!0),t.push(r),n.callback&&e.push(n.callback.bind(null,r))}),this.commitTransactions(s,i),e.length>0&&window.setTimeout(()=>{e.forEach(n=>n())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;let t=new MC,{rowNodeTransaction:i,rowsInserted:s}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(s,t),i}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){let{flattenStage:e,rootNode:t}=this,i;if(e)i=e.execute({rowNode:t});else{i=t?.childrenAfterSort??[];for(let s of i)s.setUiLevel(0)}this.rowsToDisplay=i}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){let e=this.rootNode;if(!e)return;let t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);let i=t.detailNode;i&&i.setRowHeight(i.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=Ph,this.rowsToDisplay=Ph}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};var xa={moduleName:"ClientSideRowModel",version:ut,rowModels:["clientSide"],beans:[tj,oj,sj],dependsOn:[gI]};var aj=(()=>{class e{constructor(){this.vcr=O(li)}static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275cmp=ze({type:e,selectors:[["ag-component-container"]],standalone:!1,decls:0,vars:0,template:function(s,n){},encapsulation:2})}}return e})(),SI=16,bb=0;function lj(e){let t=new Map;for(let i=0;i<SI;i++){let s=e.createComponent(aj);t.set(i,s),ki(s.location.nativeElement)}return t}var yI=(()=>{class e extends vI{setViewContainerRef(i,s){this.viewContainerRef=i,this.angularFrameworkOverrides=s}createWrapper(i){let s=this.angularFrameworkOverrides,n=this;n.compShards??=lj(this.viewContainerRef);class r extends yb{init(h){s.runInsideAngular(()=>{super.init(h),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return n.createComponent(i)}hasMethod(h){return a.getFrameworkComponentInstance()[h]!=null}callMethod(h,v){let b=this.getFrameworkComponentInstance(),D=b[h];return h==="doesFilterPass"?D.apply(b,v):s.runInsideAngular(()=>D.apply(b,v))}addMethod(h,v){a[h]=v}}let a=new r;return a}createComponent(i){return bb=(bb+1)%SI,this.compShards.get(bb).instance.vcr.createComponent(i)}static{this.\u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})()}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac})}}return e})(),yb=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,ki(this._eGui),this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef?.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},sp=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=s=>{this.frameworkOverrides.wrapOutgoing(()=>t(s))},this.wrappedListeners.set(t,i)),i}wrapGlobal(t){let i=t;return this.frameworkOverrides.shouldWrapOutgoing&&(i=(s,n)=>{this.frameworkOverrides.wrapOutgoing(()=>t(s,n))},this.wrappedGlobalListeners.set(t,i)),i}unwrap(t){return this.wrappedListeners.get(t)??t}unwrapGlobal(t){return this.wrappedGlobalListeners.get(t)??t}},wI=(()=>{class e extends ub{constructor(i){super("angular"),this._ngZone=i,this.batchFrameworkComps=!0,this.isRunningWithinTestZone=!1,this.wrapIncoming=(s,n)=>this.runOutside(s,n),this.wrapOutgoing=s=>this.runInsideAngular(s),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this._ngZone?this.isRunningWithinTestZone?this.runOutside=(s,n)=>n==="resize-observer"||n==="popupPositioning"?this._ngZone.runOutsideAngular(s):s():this.runOutside=s=>this._ngZone.runOutsideAngular(s):this.runOutside=s=>s()}get shouldWrapOutgoing(){return this._ngZone&&ge.isInAngularZone()}createLocalEventListenerWrapper(i,s){if(this.shouldWrapOutgoing)return i??(s.setFrameworkOverrides(this),new sp(this))}createGlobalEventListenerWrapper(){return new sp(this)}isFrameworkComponent(i){if(!i)return!1;let s=i.prototype;return s&&"agInit"in s}runInsideAngular(i){return!this._ngZone||ge.isInAngularZone()?i():this._ngZone.run(i)}runOutsideAngular(i,s){return this.runOutside(i,s)}static{this.\u0275fac=function(s){return new(s||e)(xe(ge))}}static{this.\u0275prov=ie({token:e,factory:e.\u0275fac})}}return e})(),Da=(()=>{class e{constructor(i,s,n,r){this._viewContainerRef=s,this._angularFrameworkOverrides=n,this._frameworkCompWrapper=r,this._initialised=!1,this._destroyed=!1,this._holdEvents=!0,this._fullyReady=new Promise(a=>{this._resolveFullyReady=a}),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.enableStrictPivotColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressMoveWhenColumnDragging=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressGroupChangesColumnVisibility=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.findSearchValue=void 0,this.findOptions=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.alwaysPassFilter=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.suppressSetFilterByDefault=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.dragAndDropImageComponent=void 0,this.dragAndDropImageComponentParams=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.loading=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.cellFlashDuration=void 0,this.cellFadeDuration=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableCellSpan=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupHideParentOfSingleChild=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.treeData=void 0,this.treeDataChildrenField=void 0,this.treeDataParentIdField=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.cellSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.selectionColumnDef=void 0,this.rowNumbers=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.theme=void 0,this.loadThemeGoogleFonts=void 0,this.themeCssLayer=void 0,this.styleNonce=void 0,this.themeStyleContainer=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.focusGridInnerElement=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new X,this.toolPanelSizeChanged=new X,this.columnMenuVisibleChanged=new X,this.contextMenuVisibleChanged=new X,this.cutStart=new X,this.cutEnd=new X,this.pasteStart=new X,this.pasteEnd=new X,this.columnVisible=new X,this.columnPinned=new X,this.columnResized=new X,this.columnMoved=new X,this.columnValueChanged=new X,this.columnPivotModeChanged=new X,this.columnPivotChanged=new X,this.columnGroupOpened=new X,this.newColumnsLoaded=new X,this.gridColumnsChanged=new X,this.displayedColumnsChanged=new X,this.virtualColumnsChanged=new X,this.columnEverythingChanged=new X,this.columnHeaderMouseOver=new X,this.columnHeaderMouseLeave=new X,this.columnHeaderClicked=new X,this.columnHeaderContextMenu=new X,this.componentStateChanged=new X,this.cellValueChanged=new X,this.cellEditRequest=new X,this.rowValueChanged=new X,this.cellEditingStarted=new X,this.cellEditingStopped=new X,this.rowEditingStarted=new X,this.rowEditingStopped=new X,this.undoStarted=new X,this.undoEnded=new X,this.redoStarted=new X,this.redoEnded=new X,this.cellSelectionDeleteStart=new X,this.cellSelectionDeleteEnd=new X,this.rangeDeleteStart=new X,this.rangeDeleteEnd=new X,this.fillStart=new X,this.fillEnd=new X,this.filterOpened=new X,this.filterChanged=new X,this.filterModified=new X,this.advancedFilterBuilderVisibleChanged=new X,this.findChanged=new X,this.chartCreated=new X,this.chartRangeSelectionChanged=new X,this.chartOptionsChanged=new X,this.chartDestroyed=new X,this.cellKeyDown=new X,this.gridReady=new X,this.firstDataRendered=new X,this.gridSizeChanged=new X,this.modelUpdated=new X,this.virtualRowRemoved=new X,this.viewportChanged=new X,this.bodyScroll=new X,this.bodyScrollEnd=new X,this.dragStarted=new X,this.dragStopped=new X,this.dragCancelled=new X,this.stateUpdated=new X,this.paginationChanged=new X,this.rowDragEnter=new X,this.rowDragMove=new X,this.rowDragLeave=new X,this.rowDragEnd=new X,this.rowDragCancel=new X,this.columnRowGroupChanged=new X,this.rowGroupOpened=new X,this.expandOrCollapseAll=new X,this.pivotMaxColumnsExceeded=new X,this.pinnedRowDataChanged=new X,this.rowDataUpdated=new X,this.asyncTransactionsFlushed=new X,this.storeRefreshed=new X,this.headerFocused=new X,this.cellClicked=new X,this.cellDoubleClicked=new X,this.cellFocused=new X,this.cellMouseOver=new X,this.cellMouseOut=new X,this.cellMouseDown=new X,this.rowClicked=new X,this.rowDoubleClicked=new X,this.rowSelected=new X,this.selectionChanged=new X,this.cellContextMenu=new X,this.rangeSelectionChanged=new X,this.cellSelectionChanged=new X,this.tooltipShow=new X,this.tooltipHide=new X,this.sortChanged=new X,this._nativeElement=i.nativeElement,this._fullyReady.then(()=>{this._holdEvents=!1})}ngAfterViewInit(){this._angularFrameworkOverrides.runOutsideAngular(()=>{this._frameworkCompWrapper.setViewContainerRef(this._viewContainerRef,this._angularFrameworkOverrides);let i=Object.keys(this).filter(d=>!(d.startsWith("_")||d=="gridOptions"||d=="modules"||this[d]instanceof X)),s={};i.forEach(d=>{let h=dj(d,this[d]);s[d]=h});let n=qR(this.gridOptions,s,i),r={globalListener:this.globalListener.bind(this),frameworkOverrides:this._angularFrameworkOverrides,providedBeanInstances:{frameworkCompWrapper:this._frameworkCompWrapper},modules:this.modules||[],setThemeOnGridDiv:!0},a=mI(this._nativeElement,n,r);a&&(this.api=a),this._initialised=!0,this._resolveFullyReady()})}ngOnChanges(i){this._initialised&&this._angularFrameworkOverrides.runOutsideAngular(()=>{let s={};for(let n of Object.keys(i)){let r=i[n];s[n]=r.currentValue}YR(s,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(i){let n=this[i],r=n?.observed??n?.observers?.length>0,a=`on${i.charAt(0).toUpperCase()}${i.substring(1)}`,d=!!this.gridOptions&&!!this.gridOptions[a];return r||d}globalListener(i,s){if(this._destroyed)return;let n=this[i];if(n&&this.isEmitterUsed(i)){let r=()=>this._angularFrameworkOverrides.runInsideAngular(()=>n.emit(s));this._holdEvents?this._fullyReady.then(()=>r()):r()}}static{this.\u0275fac=function(s){return new(s||e)(At(He),At(li),At(wI),At(yI))}}static{this.\u0275cmp=ze({type:e,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:[2,"suppressContextMenu","suppressContextMenu",j],preventDefaultOnContextMenu:[2,"preventDefaultOnContextMenu","preventDefaultOnContextMenu",j],allowContextMenuWithControlKey:[2,"allowContextMenuWithControlKey","allowContextMenuWithControlKey",j],columnMenu:"columnMenu",suppressMenuHide:[2,"suppressMenuHide","suppressMenuHide",j],enableBrowserTooltips:[2,"enableBrowserTooltips","enableBrowserTooltips",j],tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:[2,"tooltipMouseTrack","tooltipMouseTrack",j],tooltipShowMode:"tooltipShowMode",tooltipInteraction:[2,"tooltipInteraction","tooltipInteraction",j],popupParent:"popupParent",copyHeadersToClipboard:[2,"copyHeadersToClipboard","copyHeadersToClipboard",j],copyGroupHeadersToClipboard:[2,"copyGroupHeadersToClipboard","copyGroupHeadersToClipboard",j],clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:[2,"suppressCopyRowsToClipboard","suppressCopyRowsToClipboard",j],suppressCopySingleCellRanges:[2,"suppressCopySingleCellRanges","suppressCopySingleCellRanges",j],suppressLastEmptyLineOnPaste:[2,"suppressLastEmptyLineOnPaste","suppressLastEmptyLineOnPaste",j],suppressClipboardPaste:[2,"suppressClipboardPaste","suppressClipboardPaste",j],suppressClipboardApi:[2,"suppressClipboardApi","suppressClipboardApi",j],suppressCutToClipboard:[2,"suppressCutToClipboard","suppressCutToClipboard",j],columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:[2,"maintainColumnOrder","maintainColumnOrder",j],enableStrictPivotColumnOrder:[2,"enableStrictPivotColumnOrder","enableStrictPivotColumnOrder",j],suppressFieldDotNotation:[2,"suppressFieldDotNotation","suppressFieldDotNotation",j],headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:[2,"allowDragFromColumnsToolPanel","allowDragFromColumnsToolPanel",j],suppressMovableColumns:[2,"suppressMovableColumns","suppressMovableColumns",j],suppressColumnMoveAnimation:[2,"suppressColumnMoveAnimation","suppressColumnMoveAnimation",j],suppressMoveWhenColumnDragging:[2,"suppressMoveWhenColumnDragging","suppressMoveWhenColumnDragging",j],suppressDragLeaveHidesColumns:[2,"suppressDragLeaveHidesColumns","suppressDragLeaveHidesColumns",j],suppressGroupChangesColumnVisibility:"suppressGroupChangesColumnVisibility",suppressMakeColumnVisibleAfterUnGroup:[2,"suppressMakeColumnVisibleAfterUnGroup","suppressMakeColumnVisibleAfterUnGroup",j],suppressRowGroupHidesColumns:[2,"suppressRowGroupHidesColumns","suppressRowGroupHidesColumns",j],colResizeDefault:"colResizeDefault",suppressAutoSize:[2,"suppressAutoSize","suppressAutoSize",j],autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:[2,"skipHeaderOnAutoSize","skipHeaderOnAutoSize",j],autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:[2,"singleClickEdit","singleClickEdit",j],suppressClickEdit:[2,"suppressClickEdit","suppressClickEdit",j],readOnlyEdit:[2,"readOnlyEdit","readOnlyEdit",j],stopEditingWhenCellsLoseFocus:[2,"stopEditingWhenCellsLoseFocus","stopEditingWhenCellsLoseFocus",j],enterNavigatesVertically:[2,"enterNavigatesVertically","enterNavigatesVertically",j],enterNavigatesVerticallyAfterEdit:[2,"enterNavigatesVerticallyAfterEdit","enterNavigatesVerticallyAfterEdit",j],enableCellEditingOnBackspace:[2,"enableCellEditingOnBackspace","enableCellEditingOnBackspace",j],undoRedoCellEditing:[2,"undoRedoCellEditing","undoRedoCellEditing",j],undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:[2,"suppressCsvExport","suppressCsvExport",j],defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:[2,"suppressExcelExport","suppressExcelExport",j],excelStyles:"excelStyles",findSearchValue:"findSearchValue",findOptions:"findOptions",quickFilterText:"quickFilterText",cacheQuickFilter:[2,"cacheQuickFilter","cacheQuickFilter",j],includeHiddenColumnsInQuickFilter:[2,"includeHiddenColumnsInQuickFilter","includeHiddenColumnsInQuickFilter",j],quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:[2,"applyQuickFilterBeforePivotOrAgg","applyQuickFilterBeforePivotOrAgg",j],excludeChildrenWhenTreeDataFiltering:[2,"excludeChildrenWhenTreeDataFiltering","excludeChildrenWhenTreeDataFiltering",j],enableAdvancedFilter:[2,"enableAdvancedFilter","enableAdvancedFilter",j],alwaysPassFilter:"alwaysPassFilter",includeHiddenColumnsInAdvancedFilter:[2,"includeHiddenColumnsInAdvancedFilter","includeHiddenColumnsInAdvancedFilter",j],advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:[2,"suppressAdvancedFilterEval","suppressAdvancedFilterEval",j],suppressSetFilterByDefault:[2,"suppressSetFilterByDefault","suppressSetFilterByDefault",j],enableCharts:[2,"enableCharts","enableCharts",j],chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:[2,"masterDetail","masterDetail",j],keepDetailRows:[2,"keepDetailRows","keepDetailRows",j],keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:[2,"detailRowAutoHeight","detailRowAutoHeight",j],context:"context",dragAndDropImageComponent:"dragAndDropImageComponent",dragAndDropImageComponentParams:"dragAndDropImageComponentParams",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:[2,"valueCache","valueCache",j],valueCacheNeverExpires:[2,"valueCacheNeverExpires","valueCacheNeverExpires",j],enableCellExpressions:[2,"enableCellExpressions","enableCellExpressions",j],suppressTouch:[2,"suppressTouch","suppressTouch",j],suppressFocusAfterRefresh:[2,"suppressFocusAfterRefresh","suppressFocusAfterRefresh",j],suppressBrowserResizeObserver:[2,"suppressBrowserResizeObserver","suppressBrowserResizeObserver",j],suppressPropertyNamesCheck:[2,"suppressPropertyNamesCheck","suppressPropertyNamesCheck",j],suppressChangeDetection:[2,"suppressChangeDetection","suppressChangeDetection",j],debug:[2,"debug","debug",j],loading:[2,"loading","loading",j],overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:[2,"suppressLoadingOverlay","suppressLoadingOverlay",j],overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:[2,"suppressNoRowsOverlay","suppressNoRowsOverlay",j],pagination:[2,"pagination","pagination",j],paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:[2,"paginationAutoPageSize","paginationAutoPageSize",j],paginateChildRows:[2,"paginateChildRows","paginateChildRows",j],suppressPaginationPanel:[2,"suppressPaginationPanel","suppressPaginationPanel",j],pivotMode:[2,"pivotMode","pivotMode",j],pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:[2,"pivotSuppressAutoColumn","pivotSuppressAutoColumn",j],suppressExpandablePivotGroups:[2,"suppressExpandablePivotGroups","suppressExpandablePivotGroups",j],functionsReadOnly:[2,"functionsReadOnly","functionsReadOnly",j],aggFuncs:"aggFuncs",suppressAggFuncInHeader:[2,"suppressAggFuncInHeader","suppressAggFuncInHeader",j],alwaysAggregateAtRootLevel:[2,"alwaysAggregateAtRootLevel","alwaysAggregateAtRootLevel",j],aggregateOnlyChangedColumns:[2,"aggregateOnlyChangedColumns","aggregateOnlyChangedColumns",j],suppressAggFilteredOnly:[2,"suppressAggFilteredOnly","suppressAggFilteredOnly",j],removePivotHeaderRowWhenSingleValueColumn:[2,"removePivotHeaderRowWhenSingleValueColumn","removePivotHeaderRowWhenSingleValueColumn",j],animateRows:[2,"animateRows","animateRows",j],cellFlashDuration:"cellFlashDuration",cellFadeDuration:"cellFadeDuration",allowShowChangeAfterFilter:[2,"allowShowChangeAfterFilter","allowShowChangeAfterFilter",j],domLayout:"domLayout",ensureDomOrder:[2,"ensureDomOrder","ensureDomOrder",j],enableCellSpan:[2,"enableCellSpan","enableCellSpan",j],enableRtl:[2,"enableRtl","enableRtl",j],suppressColumnVirtualisation:[2,"suppressColumnVirtualisation","suppressColumnVirtualisation",j],suppressMaxRenderedRowRestriction:[2,"suppressMaxRenderedRowRestriction","suppressMaxRenderedRowRestriction",j],suppressRowVirtualisation:[2,"suppressRowVirtualisation","suppressRowVirtualisation",j],rowDragManaged:[2,"rowDragManaged","rowDragManaged",j],suppressRowDrag:[2,"suppressRowDrag","suppressRowDrag",j],suppressMoveWhenRowDragging:[2,"suppressMoveWhenRowDragging","suppressMoveWhenRowDragging",j],rowDragEntireRow:[2,"rowDragEntireRow","rowDragEntireRow",j],rowDragMultiRow:[2,"rowDragMultiRow","rowDragMultiRow",j],rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:[2,"embedFullWidthRows","embedFullWidthRows",j],groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:[2,"groupMaintainOrder","groupMaintainOrder",j],groupSelectsChildren:[2,"groupSelectsChildren","groupSelectsChildren",j],groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:[2,"groupSuppressBlankHeader","groupSuppressBlankHeader",j],groupSelectsFiltered:[2,"groupSelectsFiltered","groupSelectsFiltered",j],showOpenedGroup:[2,"showOpenedGroup","showOpenedGroup",j],groupHideParentOfSingleChild:"groupHideParentOfSingleChild",groupRemoveSingleChildren:[2,"groupRemoveSingleChildren","groupRemoveSingleChildren",j],groupRemoveLowestSingleChildren:[2,"groupRemoveLowestSingleChildren","groupRemoveLowestSingleChildren",j],groupHideOpenParents:[2,"groupHideOpenParents","groupHideOpenParents",j],groupAllowUnbalanced:[2,"groupAllowUnbalanced","groupAllowUnbalanced",j],rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",treeData:[2,"treeData","treeData",j],treeDataChildrenField:"treeDataChildrenField",treeDataParentIdField:"treeDataParentIdField",rowGroupPanelSuppressSort:[2,"rowGroupPanelSuppressSort","rowGroupPanelSuppressSort",j],suppressGroupRowsSticky:[2,"suppressGroupRowsSticky","suppressGroupRowsSticky",j],pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:[2,"suppressModelUpdateAfterUpdateTransaction","suppressModelUpdateAfterUpdateTransaction",j],datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideFullWidthLoadingRow:[2,"suppressServerSideFullWidthLoadingRow","suppressServerSideFullWidthLoadingRow",j],cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:[2,"purgeClosedRowNodes","purgeClosedRowNodes",j],serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:[2,"serverSideSortAllLevels","serverSideSortAllLevels",j],serverSideEnableClientSideSort:[2,"serverSideEnableClientSideSort","serverSideEnableClientSideSort",j],serverSideOnlyRefreshFilteredGroups:[2,"serverSideOnlyRefreshFilteredGroups","serverSideOnlyRefreshFilteredGroups",j],serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:[2,"alwaysShowHorizontalScroll","alwaysShowHorizontalScroll",j],alwaysShowVerticalScroll:[2,"alwaysShowVerticalScroll","alwaysShowVerticalScroll",j],debounceVerticalScrollbar:[2,"debounceVerticalScrollbar","debounceVerticalScrollbar",j],suppressHorizontalScroll:[2,"suppressHorizontalScroll","suppressHorizontalScroll",j],suppressScrollOnNewData:[2,"suppressScrollOnNewData","suppressScrollOnNewData",j],suppressScrollWhenPopupsAreOpen:[2,"suppressScrollWhenPopupsAreOpen","suppressScrollWhenPopupsAreOpen",j],suppressAnimationFrame:[2,"suppressAnimationFrame","suppressAnimationFrame",j],suppressMiddleClickScrolls:[2,"suppressMiddleClickScrolls","suppressMiddleClickScrolls",j],suppressPreventDefaultOnMouseWheel:[2,"suppressPreventDefaultOnMouseWheel","suppressPreventDefaultOnMouseWheel",j],scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",cellSelection:"cellSelection",rowMultiSelectWithClick:[2,"rowMultiSelectWithClick","rowMultiSelectWithClick",j],suppressRowDeselection:[2,"suppressRowDeselection","suppressRowDeselection",j],suppressRowClickSelection:[2,"suppressRowClickSelection","suppressRowClickSelection",j],suppressCellFocus:[2,"suppressCellFocus","suppressCellFocus",j],suppressHeaderFocus:[2,"suppressHeaderFocus","suppressHeaderFocus",j],selectionColumnDef:"selectionColumnDef",rowNumbers:"rowNumbers",suppressMultiRangeSelection:[2,"suppressMultiRangeSelection","suppressMultiRangeSelection",j],enableCellTextSelection:[2,"enableCellTextSelection","enableCellTextSelection",j],enableRangeSelection:[2,"enableRangeSelection","enableRangeSelection",j],enableRangeHandle:[2,"enableRangeHandle","enableRangeHandle",j],enableFillHandle:[2,"enableFillHandle","enableFillHandle",j],fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:[2,"suppressClearOnFillReduction","suppressClearOnFillReduction",j],sortingOrder:"sortingOrder",accentedSort:[2,"accentedSort","accentedSort",j],unSortIcon:[2,"unSortIcon","unSortIcon",j],suppressMultiSort:[2,"suppressMultiSort","suppressMultiSort",j],alwaysMultiSort:[2,"alwaysMultiSort","alwaysMultiSort",j],multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:[2,"suppressMaintainUnsortedOrder","suppressMaintainUnsortedOrder",j],icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:[2,"suppressRowHoverHighlight","suppressRowHoverHighlight",j],suppressRowTransform:[2,"suppressRowTransform","suppressRowTransform",j],columnHoverHighlight:[2,"columnHoverHighlight","columnHoverHighlight",j],gridId:"gridId",deltaSort:[2,"deltaSort","deltaSort",j],treeDataDisplayType:"treeDataDisplayType",enableGroupEdit:[2,"enableGroupEdit","enableGroupEdit",j],initialState:"initialState",theme:"theme",loadThemeGoogleFonts:[2,"loadThemeGoogleFonts","loadThemeGoogleFonts",j],themeCssLayer:"themeCssLayer",styleNonce:"styleNonce",themeStyleContainer:"themeStyleContainer",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",focusGridInnerElement:"focusGridInnerElement",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:[2,"resetRowDataOnUpdate","resetRowDataOnUpdate",j],processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",cellSelectionDeleteStart:"cellSelectionDeleteStart",cellSelectionDeleteEnd:"cellSelectionDeleteEnd",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",findChanged:"findChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",dragCancelled:"dragCancelled",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",rowDragCancel:"rowDragCancel",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",headerFocused:"headerFocused",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",cellSelectionChanged:"cellSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged"},features:[js([wI,yI]),ms],decls:0,vars:0,template:function(s,n){},encapsulation:2})}}return e})(),cj=new Set(Cb);function dj(e,t){return cj.has(e)?t===""?!0:t==="false"?!1:t:t}var uj=class{constructor(){this.ieCompatibility=!1}init(){this.ieCompatibility=this.md5("hello")!="5d41402abc4b2a76b9719d911017c592"}md5cycle(e,t){let i=e[0],s=e[1],n=e[2],r=e[3];i=this.ff(i,s,n,r,t[0],7,-680876936),r=this.ff(r,i,s,n,t[1],12,-389564586),n=this.ff(n,r,i,s,t[2],17,606105819),s=this.ff(s,n,r,i,t[3],22,-1044525330),i=this.ff(i,s,n,r,t[4],7,-176418897),r=this.ff(r,i,s,n,t[5],12,1200080426),n=this.ff(n,r,i,s,t[6],17,-1473231341),s=this.ff(s,n,r,i,t[7],22,-45705983),i=this.ff(i,s,n,r,t[8],7,1770035416),r=this.ff(r,i,s,n,t[9],12,-1958414417),n=this.ff(n,r,i,s,t[10],17,-42063),s=this.ff(s,n,r,i,t[11],22,-1990404162),i=this.ff(i,s,n,r,t[12],7,1804603682),r=this.ff(r,i,s,n,t[13],12,-40341101),n=this.ff(n,r,i,s,t[14],17,-1502002290),s=this.ff(s,n,r,i,t[15],22,1236535329),i=this.gg(i,s,n,r,t[1],5,-165796510),r=this.gg(r,i,s,n,t[6],9,-1069501632),n=this.gg(n,r,i,s,t[11],14,643717713),s=this.gg(s,n,r,i,t[0],20,-373897302),i=this.gg(i,s,n,r,t[5],5,-701558691),r=this.gg(r,i,s,n,t[10],9,38016083),n=this.gg(n,r,i,s,t[15],14,-660478335),s=this.gg(s,n,r,i,t[4],20,-405537848),i=this.gg(i,s,n,r,t[9],5,568446438),r=this.gg(r,i,s,n,t[14],9,-1019803690),n=this.gg(n,r,i,s,t[3],14,-187363961),s=this.gg(s,n,r,i,t[8],20,1163531501),i=this.gg(i,s,n,r,t[13],5,-1444681467),r=this.gg(r,i,s,n,t[2],9,-51403784),n=this.gg(n,r,i,s,t[7],14,1735328473),s=this.gg(s,n,r,i,t[12],20,-1926607734),i=this.hh(i,s,n,r,t[5],4,-378558),r=this.hh(r,i,s,n,t[8],11,-2022574463),n=this.hh(n,r,i,s,t[11],16,1839030562),s=this.hh(s,n,r,i,t[14],23,-35309556),i=this.hh(i,s,n,r,t[1],4,-1530992060),r=this.hh(r,i,s,n,t[4],11,1272893353),n=this.hh(n,r,i,s,t[7],16,-155497632),s=this.hh(s,n,r,i,t[10],23,-1094730640),i=this.hh(i,s,n,r,t[13],4,681279174),r=this.hh(r,i,s,n,t[0],11,-358537222),n=this.hh(n,r,i,s,t[3],16,-722521979),s=this.hh(s,n,r,i,t[6],23,76029189),i=this.hh(i,s,n,r,t[9],4,-640364487),r=this.hh(r,i,s,n,t[12],11,-421815835),n=this.hh(n,r,i,s,t[15],16,530742520),s=this.hh(s,n,r,i,t[2],23,-995338651),i=this.ii(i,s,n,r,t[0],6,-198630844),r=this.ii(r,i,s,n,t[7],10,1126891415),n=this.ii(n,r,i,s,t[14],15,-1416354905),s=this.ii(s,n,r,i,t[5],21,-57434055),i=this.ii(i,s,n,r,t[12],6,1700485571),r=this.ii(r,i,s,n,t[3],10,-1894986606),n=this.ii(n,r,i,s,t[10],15,-1051523),s=this.ii(s,n,r,i,t[1],21,-2054922799),i=this.ii(i,s,n,r,t[8],6,1873313359),r=this.ii(r,i,s,n,t[15],10,-30611744),n=this.ii(n,r,i,s,t[6],15,-1560198380),s=this.ii(s,n,r,i,t[13],21,1309151649),i=this.ii(i,s,n,r,t[4],6,-145523070),r=this.ii(r,i,s,n,t[11],10,-1120210379),n=this.ii(n,r,i,s,t[2],15,718787259),s=this.ii(s,n,r,i,t[9],21,-343485551),e[0]=this.add32(i,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(n,e[2]),e[3]=this.add32(r,e[3])}cmn(e,t,i,s,n,r){return t=this.add32(this.add32(t,e),this.add32(s,r)),this.add32(t<<n|t>>>32-n,i)}ff(e,t,i,s,n,r,a){return this.cmn(t&i|~t&s,e,t,n,r,a)}gg(e,t,i,s,n,r,a){return this.cmn(t&s|i&~s,e,t,n,r,a)}hh(e,t,i,s,n,r,a){return this.cmn(t^i^s,e,t,n,r,a)}ii(e,t,i,s,n,r,a){return this.cmn(i^(t|~s),e,t,n,r,a)}md51(e){let t=e.length,i=[1732584193,-271733879,-1732584194,271733878],s;for(s=64;s<=e.length;s+=64)this.md5cycle(i,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);let n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)n[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(i,n),s=0;s<16;s++)n[s]=0;return n[14]=t*8,this.md5cycle(i,n),i}md5blk(e){let t=[];for(let i=0;i<64;i+=4)t[i>>2]=e.charCodeAt(i)+(e.charCodeAt(i+1)<<8)+(e.charCodeAt(i+2)<<16)+(e.charCodeAt(i+3)<<24);return t}rhex(e){let t="0123456789abcdef".split(""),i="",s=0;for(;s<4;s++)i+=t[e>>s*8+4&15]+t[e>>s*8&15];return i}hex(e){for(let t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")}md5(e){return this.hex(this.md51(e))}add32(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)}add32Std(e,t){return e+t&4294967295}add32Compat(e,t){let i=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(i>>16)<<16|i&65535}},np={"01":"GRID","02":"CHARTS","0102":"BOTH"},xI="https://www.ag-grid.com/licensing/",hj=(()=>{let e=class Li{constructor(i){this.watermarkMessage=void 0,this.totalMessageLength=124,this.document=i,this.md5=new uj,this.md5.init()}validateLicense(){let i=this.getLicenseDetails(Li.licenseKey),s=`AG Grid ${i.currentLicenseType==="BOTH"?"and AG Charts ":""}Enterprise`,n=i.suppliedLicenseType===void 0?"":`AG ${i.suppliedLicenseType==="BOTH"?"Grid and AG Charts":i.suppliedLicenseType==="GRID"?"Grid":"Charts"} Enterprise`;if(i.missing)(!this.isWebsiteUrl()||this.isForceWatermark())&&this.outputMissingLicenseKey(s);else if(i.expired){let r=Li.getGridReleaseDate(),a=Li.formatDate(r);this.outputExpiredKey(i.expiry,a,s,n)}else i.valid?i.isTrial&&i.trialExpired&&this.outputExpiredTrialKey(i.expiry,s,n):this.outputInvalidLicenseKey(!!i.incorrectLicenseType,s,n)}static extractExpiry(i){let s=i.substring(i.lastIndexOf("_")+1,i.length);return new Date(parseInt(Li.decode(s),10))}static extractLicenseComponents(i){let s=i.replace(/[\u200B-\u200D\uFEFF]/g,"");if(s=s.replace(/\r?\n|\r/g,""),i.length<=32)return{md5:null,license:i,version:null,isTrial:null};let n=s.length-32,r=s.substring(n),a=s.substring(0,n),[d,h,v]=Li.extractBracketedInformation(s);return{md5:r,license:a,version:d,isTrial:h,type:v}}getLicenseDetails(i){let s=Li.chartsLicenseManager?"BOTH":"GRID";if(!i?.length)return{licenseKey:i,valid:!1,missing:!0,currentLicenseType:s};let n=Li.getGridReleaseDate(),{md5:r,license:a,version:d,isTrial:h,type:v}=Li.extractLicenseComponents(i),b=r===this.md5.md5(a)&&i.indexOf("For_Trialing_ag-Grid_Only")===-1,D,R,A=null,k=!1,L;function H(){D=A<new Date,R=void 0}if(b&&(A=Li.extractExpiry(a),b=!isNaN(A.getTime()),b))switch(R=n>A,d){case"legacy":case"2":{h&&H();break}case"3":v?.length?(L=v,v!==np["01"]&&v!==np["0102"]||s==="BOTH"&&L!=="BOTH"?(b=!1,k=!0):h&&H()):b=!1}return b?{licenseKey:i,valid:b,expiry:Li.formatDate(A),expired:R,version:d,isTrial:h,trialExpired:D,incorrectLicenseType:k,currentLicenseType:s,suppliedLicenseType:L}:{licenseKey:i,valid:b,incorrectLicenseType:k,currentLicenseType:s,suppliedLicenseType:L}}isDisplayWatermark(){return this.isForceWatermark()||!this.isLocalhost()&&!this.isWebsiteUrl()&&!!this.watermarkMessage?.length}getWatermarkMessage(){return this.watermarkMessage||""}getHostname(){let s=(this.document.defaultView||window).location,{hostname:n=""}=s;return n}isForceWatermark(){let s=(this.document.defaultView||window).location,{pathname:n}=s;return n?n.indexOf("forceWatermark")!==-1:!1}isWebsiteUrl(){return this.getHostname().match(/^((?:[\w-]+\.)?ag-grid\.com)$/)!==null}isLocalhost(){return this.getHostname().match(/^(?:127\.0\.0\.1|localhost)$/)!==null}static formatDate(i){let s=["January","February","March","April","May","June","July","August","September","October","November","December"],n=i.getDate(),r=i.getMonth(),a=i.getFullYear();return n+" "+s[r]+" "+a}static getGridReleaseDate(){return new Date(parseInt(Li.decode(Li.RELEASE_INFORMATION),10))}static decode(i){let s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,a,d,h,v,b,D,R=0,A=i.replace(/[^A-Za-z0-9+/=]/g,"");for(;R<A.length;)h=s.indexOf(A.charAt(R++)),v=s.indexOf(A.charAt(R++)),b=s.indexOf(A.charAt(R++)),D=s.indexOf(A.charAt(R++)),r=h<<2|v>>4,a=(v&15)<<4|b>>2,d=(b&3)<<6|D,n=n+String.fromCharCode(r),b!=64&&(n=n+String.fromCharCode(a)),D!=64&&(n=n+String.fromCharCode(d));return n=Li.utf8_decode(n),n}static utf8_decode(i){i=i.replace(/rn/g,"n");let s="";for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?s+=String.fromCharCode(r):r>127&&r<2048?(s+=String.fromCharCode(r>>6|192),s+=String.fromCharCode(r&63|128)):(s+=String.fromCharCode(r>>12|224),s+=String.fromCharCode(r>>6&63|128),s+=String.fromCharCode(r&63|128))}return s}static setChartsLicenseManager(i){this.chartsLicenseManager=i}static setLicenseKey(i){this.licenseKey=i,this.chartsLicenseManager?.setLicenseKey(i,!0)}static extractBracketedInformation(i){if(!i.includes("["))return["legacy",!1,void 0];let s=i.match(/\[(.*?)\]/g).map(h=>h.replace("[","").replace("]",""));if(!s||s.length===0)return["legacy",!1,void 0];let n=s.filter(h=>h==="TRIAL").length===1,r=s.filter(h=>h.indexOf("v")===0)[0],a=r?r.replace("v",""):"legacy",d=np[s.filter(h=>np[h])[0]];return[a,n,d]}centerPadAndOutput(i){let s=this.totalMessageLength-i.length;console.error(i.padStart(s/2+i.length,"*").padEnd(this.totalMessageLength,"*"))}padAndOutput(i,s="*",n=""){console.error(i.padEnd(this.totalMessageLength-n.length,s)+n)}outputInvalidLicenseKey(i,s,n){i?(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Incompatible License Key "),this.padAndOutput(`* Your license key is for ${n} only and does not cover you for ${s}.`," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${xI}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")):(this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Invalid License Key "),this.padAndOutput("* Your license key is not valid."," ","*"),this.padAndOutput(`* To troubleshoot your license key visit ${xI}.`," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput("")),this.watermarkMessage="Invalid License"}outputExpiredTrialKey(i,s,n){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${s} License `),this.centerPadAndOutput(" Trial Period Expired. "),this.padAndOutput(`* Your trial only license for ${n} expired on ${i}.`," ","*"),this.padAndOutput("* Please email info@ag-grid.com to purchase a license."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="Trial Period Expired"}outputMissingLicenseKey(i){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${i} License `),this.centerPadAndOutput(" License Key Not Found "),this.padAndOutput(`* All ${i} features are unlocked for trial.`," ","*"),this.padAndOutput("* If you want to hide the watermark please email info@ag-grid.com for a trial license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="For Trial Use Only"}outputExpiredKey(i,s,n,r){this.centerPadAndOutput(""),this.centerPadAndOutput(` ${n} License `),this.centerPadAndOutput(" Incompatible Software Version "),this.padAndOutput(`* Your license key works with versions of ${r} released before ${i}.`," ","*"),this.padAndOutput(`* The version you are trying to use was released on ${s}.`," ","*"),this.padAndOutput("* Please contact info@ag-grid.com to renew your license key."," ","*"),this.centerPadAndOutput(""),this.centerPadAndOutput(""),this.watermarkMessage="License Expired"}};return e.RELEASE_INFORMATION="MTc0MjU0ODYxMzc0Nw==",e})(),rp=hj,pj='.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;transition:opacity 1s ease-out 3s;&:before{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==");background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}:where(.ag-ltr) .ag-watermark{right:25px}:where(.ag-rtl) .ag-watermark{left:25px}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}:where(.ag-ltr) .ag-watermark-text{padding-left:.7rem}:where(.ag-rtl) .ag-watermark-text{padding-right:.7rem}',gj={tag:"div",cls:"ag-watermark",children:[{tag:"div",ref:"eLicenseTextRef",cls:"ag-watermark-text"}]},fj=class extends Ce{constructor(){super(gj),this.eLicenseTextRef=te,this.registerCSS(pj)}wireBeans(e){this.licenseManager=e.licenseManager}postConstruct(){let e=this.shouldDisplayWatermark();this.setDisplayed(e),e&&(this.eLicenseTextRef.textContent=this.licenseManager.getWatermarkMessage(),window.setTimeout(()=>this.addCssClass("ag-opacity-zero"),0),window.setTimeout(()=>this.setDisplayed(!1),5e3))}shouldDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}},mj={selector:"AG-WATERMARK",component:fj},vj=class extends ee{constructor(){super(...arguments),this.beanName="licenseManager"}postConstruct(){this.validateLicense()}validateLicense(){this.licenseManager=new rp(Jt(this.beans)),this.licenseManager.validateLicense()}static getLicenseDetails(e){return new rp(null).getLicenseDetails(e)}getWatermarkSelector(){return mj}isDisplayWatermark(){return this.licenseManager.isDisplayWatermark()}getWatermarkMessage(){return this.licenseManager.getWatermarkMessage()}static setLicenseKey(e){rp.setLicenseKey(e)}static setChartsLicenseManager(e){rp.setChartsLicenseManager(e)}};var ap="33.2.1",II={moduleName:"EnterpriseCore",version:ap,beans:[vj],icons:{accordionOpen:"tree-open",accordionClosed:"tree-closed",accordionIndeterminate:"tree-indeterminate",close:"cross",cancel:"cancel",maximize:"maximize",minimize:"minimize",columnDrag:"grip"},dependsOn:[]};function Cj(e){return{tag:"div",cls:`ag-virtual-list-viewport ag-${e}-virtual-list-viewport`,role:"presentation",children:[{tag:"div",ref:"eContainer",cls:`ag-virtual-list-container ag-${e}-virtual-list-container`}]}}var AI=class extends so{constructor(e){super(Cj(e?.cssIdentifier||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0,this.eContainer=te,this.awaitStableCallbacks=[];let{cssIdentifier:t="default",ariaRole:i="listbox",listName:s,moveItemCallback:n}=e||{};this.cssIdentifier=t,this.ariaRole=i,this.listName=s,this.moveItemCallback=n}wireBeans(e){this.environment=e.environment}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e),focusInnerElement:e=>this.focusInnerElement(e),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)}),this.refreshAriaProperties(),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanged.bind(this)})}onGridStylesChanged(e){e.listItemHeightChanged&&(this.rowHeight=this.getItemHeight(),this.refresh())}refreshAriaProperties(){let t=this.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;Ds(i,this.model?.getRowCount()>0?this.ariaRole:"presentation"),Ri(i,t)}addResizeObserver(){let e=()=>Rs(this.beans,()=>this.drawVirtualRows()),t=In(this.beans,this.getGui(),e);this.addDestroyFunc(t)}focusInnerElement(e){return this.focusRow(e?this.model.getRowCount()-1:0),!0}onFocusIn(e){let t=e.target;t.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=aR(t)-1)}onFocusOut(e){this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(e){let{key:t,shiftKey:i}=e;switch(t){case K.UP:case K.DOWN:{let s=t===K.UP;e.preventDefault(),i?this.moveItem(s):this.navigate(s)}break;case K.PAGE_HOME:case K.PAGE_END:case K.PAGE_UP:case K.PAGE_DOWN:this.navigateToPage(t)!==null&&e.preventDefault();break}}onTabKeyDown(e){Zs(e),this.forceFocusOutOfContainer(e.shiftKey)}getNextRow(e){if(this.lastFocusedRowIndex==null)return;let t=this.lastFocusedRowIndex+(e?-1:1);if(!(t<0||t>=this.model.getRowCount()))return t}moveItem(e){if(!this.moveItemCallback)return;let t=this.getComponentAt(this.lastFocusedRowIndex);t&&this.moveItemCallback(t,e)}navigate(e){let t=this.getNextRow(e);t!==void 0&&this.focusRow(t)}navigateToPage(e,t="focused"){let i=!1;t==="focused"&&(t=this.getLastFocusedRow(),i=!0);let s=this.model.getRowCount()-1,n=-1;return e===K.PAGE_HOME?n=0:e===K.PAGE_END?n=s:e===K.PAGE_DOWN?n=Math.min(t+this.pageSize,s):e===K.PAGE_UP&&(n=Math.max(t-this.pageSize,0)),n===-1?null:(i?this.focusRow(n):this.ensureIndexVisible(n),n)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(e){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(e),Rs(this.beans,()=>{if(this.isScrolling=!1,!this.isAlive())return;let t=this.renderedRows.get(e);t&&t.eDiv.focus()}))}getComponentAt(e){let t=this.renderedRows.get(e);return t&&t.rowComponent}forEachRenderedRow(e){this.renderedRows.forEach((t,i)=>e(t.rowComponent,i))}getItemHeight(){return this.isHeightFromTheme?this.environment.getDefaultListItemHeight():this.rowHeight}ensureIndexVisible(e,t=!0){let i=this.model.getRowCount();if(typeof e!="number"||e<0||e>=i)return ue(229,{index:e}),!1;let s=e*this.rowHeight,n=s+this.rowHeight,r=this.getGui(),a=r.scrollTop,d=r.offsetHeight,h=a+d,v=t?0:this.rowHeight,b=a>s+v,D=h<n-v;if(b)return r.scrollTop=s,!0;if(D){let R=n-d;return r.scrollTop=R,!0}return!1}setComponentCreator(e){this.componentCreator=e}setComponentUpdater(e){this.componentUpdater=e}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(e){this.isHeightFromTheme=!1,this.rowHeight=e,this.refresh()}refresh(e){if(this.model==null||!this.isAlive())return;let t=this.model.getRowCount();this.eContainer.style.height=`${t*this.rowHeight}px`,this.refreshAriaProperties(),this.awaitStable(()=>{this.isAlive()&&(this.canSoftRefresh(e)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}awaitStable(e){if(this.awaitStableCallbacks.push(e),this.awaitStableCallbacks.length>1)return;let t=this.model.getRowCount();QC(()=>this.eContainer.clientHeight>=t*this.rowHeight,()=>{if(!this.isAlive())return;let i=this.awaitStableCallbacks;this.awaitStableCallbacks=[],i.forEach(s=>s())})}canSoftRefresh(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((e,t)=>this.removeRow(t))}drawVirtualRows(e){if(!this.isAlive()||!this.model)return;let t=this.getGui(),i=t.scrollTop,s=i+t.offsetHeight;if(i===s)this.clearVirtualRows();else{let n=Math.floor(i/this.rowHeight),r=Math.floor(s/this.rowHeight);this.pageSize=Math.floor((s-i)/this.rowHeight),this.ensureRowsRendered(n,r,e)}}ensureRowsRendered(e,t,i){this.renderedRows.forEach((s,n)=>{(n<e||n>t)&&n!==this.lastFocusedRowIndex&&this.removeRow(n)}),i&&this.refreshRows();for(let s=e;s<=t;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)}insertRow(e){let t=this.model.getRow(e),i=this.ariaRole==="tree"?"treeitem":"option",s=Qe({tag:"div",cls:`ag-virtual-list-item ag-${this.cssIdentifier}-virtual-list-item`,role:i,attrs:{tabindex:"-1"}});Uh(s,this.model.getRowCount()),$h(s,e+1),s.style.height=`${this.rowHeight}px`,s.style.top=`${this.rowHeight*e}px`;let n=this.componentCreator(t,s);n.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=e),s.appendChild(n.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",s):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",s):this.eContainer.appendChild(s),this.renderedRows.set(e,{rowComponent:n,eDiv:s,value:t})}removeRow(e){let t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)}refreshRows(){let e=this.model.getRowCount();this.renderedRows.forEach((t,i)=>{if(i>=e)this.removeRow(i);else{let s=this.model.getRow(i);this.model.areRowsEqual?.(t.value,s)?this.componentUpdater(s,t.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(e){this.model=e}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),this.awaitStableCallbacks.length=0,super.destroy())}};var wb="ag-list-item-hovered",bj=class extends ee{constructor(e,t,i){super(),this.comp=e,this.virtualList=t,this.params=i,this.currentDragValue=null,this.lastHoveredListItem=null}wireBeans(e){this.dragAndDrop=e.dragAndDrop}postConstruct(){this.addManagedListeners(this.params.eventSource,{[this.params.listItemDragStartEvent]:this.listItemDragStart.bind(this),[this.params.listItemDragEndEvent]:this.listItemDragEnd.bind(this)}),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){let e={isInterestedIn:t=>t===this.params.dragSourceType,getIconName:()=>this.moveBlocked?"pinned":"move",getContainer:()=>this.comp.getGui(),onDragging:t=>this.onDragging(t),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave(),onDragCancel:()=>this.onDragCancel()};this.dragAndDrop?.addDropTarget(e)}createAutoScrollService(){let e=this.virtualList.getGui();this.autoScrollService=new xT({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;let t=this.getListDragItem(e),i=this.virtualList.getComponentAt(t.rowIndex);if(!i)return;let s=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,YC(s,wb),YC(s,`ag-item-highlight-${t.position}`))}getListDragItem(e){let t=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(t).paddingTop),s=this.virtualList.getRowHeight(),n=this.virtualList.getScrollTop(),r=Math.max(0,(e.y-i+n)/s),a=this.params.getNumRows(this.comp)-1,d=Math.min(a,r)|0;return{rowIndex:d,position:Math.round(r)>r||r>a?"bottom":"top",component:this.virtualList.getComponentAt(d)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearDragProperties())}onDragCancel(){this.clearDragProperties()}onDragLeave(){this.clearDragProperties()}clearDragProperties(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${wb}`).forEach(t=>{[wb,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(i=>{t.classList.remove(i)})}),this.lastHoveredListItem=null}};function yj(e){return e.sideBar?.comp.isDisplayed()??!1}function wj(e,t){e.sideBar?.comp.setDisplayed(t)}function Sj(e,t){e.sideBar?.comp.setSideBarPosition(t)}function xj(e,t){e.sideBar?.comp.openToolPanel(t,"api")}function Dj(e){e.sideBar?.comp.close("api")}function Ej(e){return e.sideBar?.comp.openedItem()??null}function Mj(e){e.sideBar?.comp.refresh()}function Rj(e){return e.sideBar?.comp.isToolPanelShowing()??!1}function Tj(e,t){let i=e.sideBar?.comp.getToolPanelInstance(t);return uT(i)}function Ij(e){return e.sideBar?.comp.getDef()}function Aj(e,t){if(!t)return null;let i=Xs(e),s=i.indexOf(t);if(s===-1)return null;let n=-1;for(let r=s-1;r>=0;r--)if(i[r].classList.contains(rc.TAB_GUARD_TOP)){n=r;break}return n<=0?null:i[n-1]}function Fj(e,t){if(!t)return!1;let i=e.querySelectorAll(`.${rb}`);if(!i.length)return!1;for(let s=0;s<i.length;s++)if(i[s].contains(t))return!0;return!1}var Pj='.ag-tool-panel-wrapper{display:flex;overflow:hidden auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-flow:row nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}:where(.ag-ltr) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{right:-3px}:where(.ag-rtl) :where(.ag-side-bar-left) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-ltr) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{left:-3px}:where(.ag-rtl) :where(.ag-side-bar-right) .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{background-color:var(--ag-side-button-bar-background-color);padding-top:var(--ag-side-button-bar-top-padding);position:relative}.ag-side-button{background-color:var(--ag-side-button-background-color);border-bottom:var(--ag-side-button-border);border-top:var(--ag-side-button-border);color:var(--ag-side-button-text-color);margin-top:-1px;position:relative;&:before{background-color:transparent;bottom:0;content:"";display:block;position:absolute;top:0;transition:background-color var(--ag-side-button-selected-underline-transition-duration);width:var(--ag-side-button-selected-underline-width)}&:hover{background-color:var(--ag-side-button-hover-background-color);color:var(--ag-side-button-hover-text-color)}&.ag-selected{background-color:var(--ag-side-button-selected-background-color);border-bottom:var(--ag-side-button-selected-border);border-top:var(--ag-side-button-selected-border);color:var(--ag-side-button-selected-text-color);&:before{background-color:var(--ag-side-button-selected-underline-color)}}}:where(.ag-ltr) .ag-side-button{&:before{left:0}}:where(.ag-rtl) .ag-side-button{&:before{right:0}}.ag-side-button-button{align-items:center;display:flex;flex-direction:column;gap:var(--ag-spacing);position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}:where(.ag-ltr) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding)}:where(.ag-rtl) .ag-side-button-button{padding:var(--ag-side-button-vertical-padding) var(--ag-side-button-left-padding) var(--ag-side-button-vertical-padding) var(--ag-side-button-right-padding)}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (resolution <= 1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}:where(.ag-ltr) .ag-side-button-label{transform:rotate(.05deg)}:where(.ag-rtl) .ag-side-button-label{transform:rotate(-.05deg)}}:where(.ag-ltr) .ag-side-bar-left,:where(.ag-rtl) .ag-side-bar-right{border-right:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-left:var(--ag-side-panel-border)}}:where(.ag-ltr) .ag-side-bar-right,:where(.ag-rtl) .ag-side-bar-left{border-left:var(--ag-side-panel-border);:where(.ag-tool-panel-wrapper){border-right:var(--ag-side-panel-border)}}',_j={tag:"div",cls:"ag-side-button",role:"presentation",children:[{tag:"button",ref:"eToggleButton",cls:"ag-button ag-side-button-button",role:"tab",attrs:{type:"button",tabindex:"-1","aria-expanded":"false"},children:[{tag:"div",ref:"eIconWrapper",cls:"ag-side-button-icon-wrapper",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eLabel",cls:"ag-side-button-label"}]}]},kj=class extends Ce{constructor(e){super(),this.toolPanelDef=e,this.eToggleButton=te,this.eIconWrapper=te,this.eLabel=te}getToolPanelId(){return this.toolPanelDef.id}postConstruct(){this.setTemplate(_j,[]),this.setLabel(),this.setIcon(),this.addManagedElementListeners(this.eToggleButton,{click:this.onButtonPressed.bind(this)}),this.eToggleButton.setAttribute("id",`ag-${this.getCompId()}-button`)}setLabel(){let e=this.getLocaleTextFunc(),t=this.toolPanelDef,i=e(t.labelKey,t.labelDefault);this.eLabel.innerText=i}setIcon(){this.eIconWrapper.insertAdjacentElement("afterbegin",et(this.toolPanelDef.iconKey,this.beans))}onButtonPressed(){this.dispatchLocalEvent({type:"toggleButtonClicked"})}setSelected(e){this.addOrRemoveCssClass("ag-selected",e),Tn(this.eToggleButton,e)}},Lj={tag:"div",cls:"ag-side-buttons",role:"tablist"},Oj=class extends Ce{constructor(){super(Lj),this.buttonComps=[]}postConstruct(){this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){if(!(e.key!==K.TAB||!e.shiftKey)){if(Es(this.beans,!0)){e.preventDefault();return}Zs(e)}}setActiveButton(e){this.buttonComps.forEach(t=>{t.setSelected(e===t.getToolPanelId())})}addButtonComp(e){let t=this.createBean(new kj(e));return this.buttonComps.push(t),this.appendChild(t),t.addEventListener("toggleButtonClicked",()=>{this.dispatchLocalEvent({type:"sideBarButtonClicked",toolPanelId:e.id})}),t}clearButtons(){this.buttonComps=this.destroyBeans(this.buttonComps),mi(this.getGui()),super.destroy()}destroy(){this.clearButtons(),super.destroy()}},Nj={selector:"AG-SIDE-BAR-BUTTONS",component:Oj},FI={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columnsToolPanel",toolPanel:"agColumnsToolPanel"},PI={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filtersToolPanel",toolPanel:"agFiltersToolPanel"},op={columns:FI,filters:PI};function xb(e){if(!e)return;if(e===!0)return{toolPanels:[FI,PI],defaultToolPanel:"columns"};if(typeof e=="string")return xb([e]);if(Array.isArray(e)){let i=[];return e.forEach(s=>{let n=op[s];if(!n){ue(215,{key:s,defaultByKey:op});return}i.push(n)}),i.length===0?void 0:{toolPanels:i,defaultToolPanel:i[0].id}}return{toolPanels:Bj(e.toolPanels),defaultToolPanel:e.defaultToolPanel,hiddenByDefault:e.hiddenByDefault,position:e.position}}function Bj(e){let t=[];return e&&e.forEach(i=>{let s=null;if(typeof i=="string"){let n=op[i];if(!n){ue(215,{key:i,defaultByKey:op});return}s=n}else s=i;t.push(s)}),t}var Gj=class extends Ce{constructor(){super({tag:"div",cls:"ag-tool-panel-horizontal-resize"}),this.minWidth=100,this.maxWidth=null}postConstruct(){let e=this.beans.horizontalResizeSvc.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizeEnd.bind(this)});this.addDestroyFunc(e),this.inverted=this.gos.get("enableRtl")}dispatchResizeEvent(e,t,i){this.eventSvc.dispatchEvent({type:"toolPanelSizeChanged",width:i,started:e,ended:t})}onResizeStart(){this.startingWidth=this.elementToResize.offsetWidth,this.dispatchResizeEvent(!0,!1,this.startingWidth)}onResizeEnd(e){return this.onResizing(e,!0)}onResizing(e,t=!1){let i=this.inverted?-1:1,s=Math.max(this.minWidth,Math.floor(this.startingWidth-e*i));this.maxWidth!=null&&(s=Math.min(this.maxWidth,s)),this.elementToResize.style.width=`${s}px`,this.dispatchResizeEvent(!1,t,s)}};function Vj(e,t,i){return e.getCompDetails(t,Hj,void 0,i,!0)}var Hj={name:"toolPanel",optionalMethods:["refresh","getState"]},zj={tag:"div",cls:"ag-tool-panel-wrapper",role:"tabpanel"},Wj=class extends Ce{constructor(){super(zj)}postConstruct(){let e=this.getGui(),t=this.resizeBar=this.createManagedBean(new Gj);e.setAttribute("id",`ag-${this.getCompId()}`),t.elementToResize=e,this.appendChild(t)}getToolPanelId(){return this.toolPanelId}setToolPanelDef(e,t){let{id:i,minWidth:s,maxWidth:n,width:r}=e;this.toolPanelId=i,this.width=r;let a=Vj(this.beans.userCompFactory,e,t);if(a==null)return!1;let d=a.newAgStackInstance();this.params=a.params,d.then(this.setToolPanelComponent.bind(this));let h=this.resizeBar;return s!=null&&(h.minWidth=s),n!=null&&(h.maxWidth=n),!0}setToolPanelComponent(e){this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(()=>{this.destroyBean(e)});let t=this.width;t&&(this.getGui().style.width=`${t}px`)}getToolPanelInstance(){return this.toolPanelCompInstance}setResizerSizerSide(e){let t=this.gos.get("enableRtl"),i=e==="left",s=t?i:!i;this.resizeBar.inverted=s}refresh(){this.toolPanelCompInstance?.refresh(this.params)}},jj={tag:"div",cls:"ag-side-bar ag-unselectable",children:[{tag:"ag-side-bar-buttons",ref:"sideBarButtons"}]},Uj=class extends Ce{constructor(){super(jj,[Nj]),this.sideBarButtons=te,this.toolPanelWrappers=[],this.registerCSS(Pj)}postConstruct(){this.sideBarButtons.addEventListener("sideBarButtonClicked",this.onToolPanelButtonClicked.bind(this));let{beans:e,gos:t}=this,{sideBar:i}=t.get("initialState")??{};this.setSideBarDef({sideBarDef:xb(t.get("sideBar")),sideBarState:i}),this.addManagedPropertyListener("sideBar",this.onSideBarUpdated.bind(this)),e.sideBar.comp=this;let s=this.getFocusableElement();this.createManagedBean(new rr(s,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),bT(e,this,s)}onTabKeyDown(e){if(e.defaultPrevented)return;let{beans:t,sideBarButtons:i}=this,s=this.getGui(),n=i.getGui(),r=St(t),a=s.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)"),d=e.target,h=e.shiftKey;if(!a)return Es(t,h)?(e.preventDefault(),!0):Es(t,h,!0);if(n.contains(r)){sr(a,h)&&e.preventDefault();return}if(!h)return;let v=null;a.contains(r)?v=Ts(t,a,void 0,!0):Fj(a,d)&&h&&(v=Aj(a,d)),v||(v=n.querySelector(".ag-selected button")),v&&v!==e.target&&(e.preventDefault(),v.focus())}handleKeyDown(e){let t=St(this.beans),i=this.sideBarButtons;if(!i.getGui().contains(t))return;let s=i.getGui(),n=Array.prototype.slice.call(s.querySelectorAll(".ag-side-button")),r=n.findIndex(h=>h.contains(t)),a=null;switch(e.key){case K.LEFT:case K.UP:a=Math.max(0,r-1);break;case K.RIGHT:case K.DOWN:a=Math.min(r+1,n.length-1);break}if(a===null)return;let d=n[a].querySelector("button");d&&(d.focus(),e.preventDefault())}onToolPanelButtonClicked(e){let t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0,"sideBarButtonClicked"):this.openToolPanel(t,"sideBarButtonClicked")}clearDownUi(){this.sideBarButtons.clearButtons(),this.destroyToolPanelWrappers()}setSideBarDef({sideBarDef:e,sideBarState:t,existingToolPanelWrappers:i}){if(this.setDisplayed(!1),this.sideBar=e,e&&e.toolPanels){let s=e.toolPanels;if(this.createToolPanelsAndSideButtons(s,t,i),!this.toolPanelWrappers.length)return;let n=t?t.visible:!e.hiddenByDefault;if(this.setDisplayed(n),this.setSideBarPosition(t?t.position:e.position),n)if(t){let{openToolPanel:r}=t;r&&this.openToolPanel(r,"sideBarInitializing")}else this.openToolPanel(e.defaultToolPanel,"sideBarInitializing")}}getDef(){return this.sideBar}setSideBarPosition(e){e||(e="right"),this.position=e;let t=e==="left",i=t?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",t),this.addOrRemoveCssClass("ag-side-bar-right",!t),this.toolPanelWrappers.forEach(s=>{s.setResizerSizerSide(i)}),this.dispatchSideBarUpdated(),this}setDisplayed(e,t){super.setDisplayed(e,t),this.dispatchSideBarUpdated()}getState(){let e={};return this.toolPanelWrappers.forEach(t=>{e[t.getToolPanelId()]=t.getToolPanelInstance()?.getState?.()}),{visible:this.isDisplayed(),position:this.position,openToolPanel:this.openedItem(),toolPanels:e}}createToolPanelsAndSideButtons(e,t,i){for(let s of e)this.createToolPanelAndSideButton(s,t?.toolPanels?.[s.id],i?.[s.id])}validateDef(e){return e.id==null?(ue(212),!1):e.toolPanel==="agFiltersToolPanel"&&this.beans.filterManager?.isAdvFilterEnabled()?(ue(213),!1):!0}createToolPanelAndSideButton(e,t,i){if(!this.validateDef(e))return;let s;if(i)s=i;else if(s=this.createBean(new Wj),!s.setToolPanelDef(e,je(this.gos,{initialState:t,onStateUpdated:()=>this.dispatchSideBarUpdated()})))return;s.setDisplayed(!1);let n=s.getGui();this.appendChild(n),this.toolPanelWrappers.push(s);let r=this.sideBarButtons.addButtonComp(e);gR(r.eToggleButton,n)}refresh(){this.toolPanelWrappers.forEach(e=>e.refresh())}openToolPanel(e,t="api"){let i=this.openedItem();if(i===e)return;this.toolPanelWrappers.forEach(r=>{let a=e===r.getToolPanelId();r.setDisplayed(a)});let s=this.openedItem();i!==s&&(this.sideBarButtons.setActiveButton(e),this.raiseToolPanelVisibleEvent(e,i??void 0,t))}getToolPanelInstance(e){let t=this.toolPanelWrappers.filter(i=>i.getToolPanelId()===e)[0];if(!t){ue(214,{key:e});return}return t.getToolPanelInstance()}raiseToolPanelVisibleEvent(e,t,i){let s=!!e&&!!t,n=this.eventSvc;t&&n.dispatchEvent({type:"toolPanelVisibleChanged",source:i,key:t,visible:!1,switchingToolPanel:s}),e&&n.dispatchEvent({type:"toolPanelVisibleChanged",source:i,key:e,visible:!0,switchingToolPanel:s})}close(e="api"){this.openToolPanel(void 0,e)}isToolPanelShowing(){return!!this.openedItem()}openedItem(){let e=null;return this.toolPanelWrappers.forEach(t=>{t.isDisplayed()&&(e=t.getToolPanelId())}),e}onSideBarUpdated(){let e=xb(this.gos.get("sideBar")),t={};e&&this.sideBar&&e.toolPanels?.forEach(i=>{let{id:s}=i;if(!s)return;let n=this.sideBar.toolPanels?.find(h=>h.id===s);if(!n||i.toolPanel!==n.toolPanel)return;let r=this.toolPanelWrappers.find(h=>h.getToolPanelId()===s);if(!r)return;let a=je(this.gos,be(U({},i.toolPanelParams??{}),{onStateUpdated:()=>this.dispatchSideBarUpdated()}));r.getToolPanelInstance()?.refresh(a)===!0&&(this.toolPanelWrappers=this.toolPanelWrappers.filter(h=>h!==r),ki(r.getGui()),t[s]=r)}),this.clearDownUi(),this.setSideBarDef({sideBarDef:e,existingToolPanelWrappers:t})}dispatchSideBarUpdated(){this.eventSvc.dispatchEvent({type:"sideBarUpdated"})}destroyToolPanelWrappers(){this.toolPanelWrappers.forEach(e=>{ki(e.getGui()),this.destroyBean(e)}),this.toolPanelWrappers.length=0}destroy(){this.destroyToolPanelWrappers(),super.destroy()}},$j={selector:"AG-SIDE-BAR",component:Uj},Kj=class extends ee{constructor(){super(...arguments),this.beanName="sideBar"}getSelector(){return $j}},qj={moduleName:"SideBar",version:ap,beans:[Kj],apiFunctions:{isSideBarVisible:yj,setSideBarVisible:wj,setSideBarPosition:Sj,openToolPanel:xj,closeToolPanel:Dj,getOpenedToolPanel:Ej,refreshToolPanel:Mj,isToolPanelShowing:Rj,getToolPanelInstance:Tj,getSideBar:Ij},dependsOn:[II,pb]},Yj={tag:"div"},Xj=class extends Ce{constructor(){super(Yj)}init(e){this.params=e,this.cssClassPrefix=this.params.cssClassPrefix??"ag-menu-option",this.addAriaAttributes(),this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addAriaAttributes(){let{checked:e,subMenu:t}=this.params,i=this.getGui();e&&pR(i,e),t&&Tn(i,!1)}addIcon(){if(this.params.isCompact)return;let e=Qe({tag:"span",ref:"eIcon",cls:`${this.getClassName("part")} ${this.getClassName("icon")}`,role:"presentation"}),{checked:t,icon:i}=this.params;t?e.appendChild(et("check",this.beans)):i&&(dc(i)?e.appendChild(i):typeof i=="string"?e.innerHTML=i:ue(227)),this.getGui().appendChild(e)}addName(){let e=Qe({tag:"span",ref:"eName",cls:`${this.getClassName("part")} ${this.getClassName("text")}`,children:this.params.name||""});this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;let e=Qe({tag:"span",ref:"eShortcut",cls:`${this.getClassName("part")} ${this.getClassName("shortcut")}`,children:this.params.shortcut||""});this.getGui().appendChild(e)}addSubMenu(){let e=Qe({tag:"span",ref:"ePopupPointer",cls:`${this.getClassName("part")} ${this.getClassName("popup-pointer")}`}),t=this.getGui();if(this.params.subMenu){let i=this.gos.get("enableRtl")?"subMenuOpenRtl":"subMenuOpen";e.appendChild(et(i,this.beans))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}},Zj='.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option{cursor:pointer;font-weight:500}:where(.ag-ltr) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:right}:where(.ag-rtl) :where(.ag-menu-option-popup-pointer) .ag-icon{text-align:left}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}:where(.ag-ltr) .ag-compact-menu-option-icon,:where(.ag-ltr) .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-compact-menu-option-icon,:where(.ag-rtl) .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-compact-menu-option-shortcut,:where(.ag-ltr) .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-shortcut,:where(.ag-rtl) .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}:where(.ag-ltr) .ag-compact-menu-option-popup-pointer,:where(.ag-ltr) .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}:where(.ag-rtl) .ag-compact-menu-option-popup-pointer,:where(.ag-rtl) .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;:where(.ag-column-select){height:100%}}.ag-menu:where(.ag-tabs){min-width:290px}.ag-context-menu-loading-icon{pointer-events:none;position:absolute}',Qj={moduleName:"MenuItem",version:ap,userComponents:{agMenuItem:Xj},icons:{check:"tick",subMenuOpen:"small-right",subMenuOpenRtl:"small-left"},css:[Zj]},Jj=".ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{align-items:center;display:flex;flex:none;gap:var(--ag-widget-horizontal-spacing);height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding);position:relative}.ag-column-select-column,.ag-column-select-column-group{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);height:100%;position:relative;&:where(:not(:last-child)){margin-bottom:var(--ag-widget-vertical-spacing)}}:where(.ag-ltr) .ag-column-select-column,:where(.ag-ltr) .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}:where(.ag-rtl) .ag-column-select-column,:where(.ag-rtl) .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}:where(.ag-ltr) .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}:where(.ag-rtl) .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}",eU=300,tU={tag:"div",cls:"ag-column-select-header",role:"presentation",children:[{tag:"div",ref:"eExpand",cls:"ag-column-select-header-icon"},{tag:"ag-checkbox",ref:"eSelect",cls:"ag-column-select-header-checkbox"},{tag:"ag-input-text-field",ref:"eFilterTextField",cls:"ag-column-select-header-filter-wrapper"}]},iU=class extends Ce{constructor(){super(tU,[io,KT]),this.eExpand=te,this.eSelect=te,this.eFilterTextField=te}postConstruct(){this.createExpandIcons(),this.addManagedListeners(this.eExpand,{click:this.onExpandClicked.bind(this),keydown:t=>{t.key===K.SPACE&&(t.preventDefault(),this.onExpandClicked())}}),this.addManagedElementListeners(this.eSelect.getInputElement(),{click:this.onSelectClicked.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",()=>this.onFunctionsReadOnlyPropChanged()),this.eFilterTextField.setAutoComplete(!1).onValueChange(()=>this.onFilterTextChanged()),this.addManagedEventListeners({newColumnsLoaded:this.showOrHideOptions.bind(this)});let e=this.getLocaleTextFunc();this.eSelect.setInputAriaLabel(e("ariaColumnSelectAll","Toggle All Columns Visibility")),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.activateTabIndex([this.eExpand])}onFunctionsReadOnlyPropChanged(){let e=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(e),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",e)}init(e){this.params=e;let t=this.gos.get("functionsReadOnly");this.eSelect.setReadOnly(t),this.eSelect.addOrRemoveCssClass("ag-column-select-column-readonly",t),this.beans.colModel.ready&&this.showOrHideOptions()}createExpandIcons(){let e=this.beans;this.eExpand.appendChild(this.eExpandChecked=et("columnSelectOpen",e)),this.eExpand.appendChild(this.eExpandUnchecked=et("columnSelectClosed",e)),this.eExpand.appendChild(this.eExpandIndeterminate=et("columnSelectIndeterminate",e)),this.setExpandState(0)}showOrHideOptions(){let e=this.params,t=!e.suppressColumnFilter,i=!e.suppressColumnSelectAll,s=!e.suppressColumnExpandAll,n=!!this.beans.colModel.colDefCols?.treeDepth,r=this.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(r("searchOoo","Search...")),qe(this.eFilterTextField.getGui(),t),qe(this.eSelect.getGui(),i),qe(this.eExpand,s&&n)}onFilterTextChanged(){this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=ir(this,()=>{let e=this.eFilterTextField.getValue();this.dispatchLocalEvent({type:"filterChanged",filterText:e})},eU)),this.onFilterTextChangedDebounced()}onSelectClicked(){this.dispatchLocalEvent({type:this.selectState?"unselectAll":"selectAll"})}onExpandClicked(){this.dispatchLocalEvent({type:this.expandState===0?"collapseAll":"expandAll"})}setExpandState(e){this.expandState=e,qe(this.eExpandChecked,e===0),qe(this.eExpandUnchecked,e===1),qe(this.eExpandIndeterminate,e===2)}setSelectionState(e){this.selectState=e,this.eSelect.setValue(this.selectState)}},sU={selector:"AG-PRIMARY-COLS-HEADER",component:iU};function Ea(e){return!!e&&typeof e.children<"u"}function or(e){return Ea(e)?e.groupId:e.colId}function _I(e,t,i){let s=(a,d)=>{let v=a.children.map(or).includes(or(d)),b=Ue(a.children),D=b&&or(b)!==or(d);return v&&D};if(!Ea(e))return!0;let n=e,r=i;if(s(n,r)||n.groupId===t&&!n.children.map(or).includes(or(r)))return n.children.push(r),!0;for(let a=n.children.length-1;a>=0&&!_I(n.children[a],t,i);a--);return!1}function nU(e){let t=(n,r)=>Ea(n)&&Ea(r)&&or(n)===or(r),i=(n,r)=>{if(!Ea(r))return n;let a=n,d=r;return d.children&&d.groupId&&_I(a,d.groupId,d.children[0])||d.children.forEach(h=>i(a,h)),a},s=[];for(let n=1;n<=e.length;n++){let r=e[n-1],a=e[n];t(r,a)?e[n]=i(r,a):s.push(r)}return s}function rU(e,t){let i=[],s=(r,a)=>{if(Ea(r)){let d=r,h=typeof d.groupId<"u"?d.groupId:d.headerName,v=new ga(d,h,!1,a),b=[];return d.children.forEach(D=>{let R=s(D,a+1);R&&b.push(R)}),v.setChildren(b),v}else{let d=r,h=d.colId?d.colId:d.field,v=e.getColDefCol(h);return v||i.push(d),v}},n=[];return t.forEach(r=>{let a=s(r,0);a&&n.push(a)}),i.length>0&&ue(217,{invalidColIds:i}),n}function oU(e,t){let i=aU(e),s=nU(i);t(s)}function aU(e){let t=(n,r)=>{let a;if(Et(n))if(n.isPadding())a=r;else{let h=Object.assign({},n.getColGroupDef());h.groupId=n.getGroupId(),h.children=[r],a=h}else{let h=Object.assign({},n.getColDef());h.colId=n.getColId(),a=h}let d=n.getOriginalParent();return d?t(d,a):a};return e.getCols().filter(n=>{let r=n.getColDef();return n.isPrimary()&&!r.showRowGroup}).map(n=>t(n,n.getColDef()))}var DI=class{constructor(e,t,i,s=!1,n){this.displayName=e,this.depth=i,this.group=s,this.localEventService=new Dn,s?(this.columnGroup=t,this._expanded=n,this.children=[]):this.column=t}get expanded(){return!!this._expanded}set expanded(e){e!==this._expanded&&(this._expanded=e,this.localEventService.dispatchEvent({type:"expandedChanged"}))}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}};function kI(e,t,i,s){let n=lU(t);LI(e,n,i,s)}function LI(e,t,i,s){e.colModel.isPivotMode()?dU(e,t,i,s):cU(e,t,i,s)}function lU(e){let t=[],i=s=>{s.forEach(n=>{n.passesFilter&&(n.group?i(n.children):t.push(n.column))})};return i(e),t}function cU(e,t,i,s){let n=[];t.forEach(r=>{r.getColDef().lockVisible||r.isVisible()!=i&&n.push({colId:r.getId(),hide:!i})}),n.length>0&&Sa(e,{state:n},s),e.selectionColSvc?.refreshVisibility(s)}function dU(e,t,i,s){uU(e,t,i,s)}function uU(e,t,i,s){let n=[],d=i?h=>{if(!h.isAnyFunctionActive())if(h.isAllowValue()){let v=typeof h.getAggFunc()=="string"?h.getAggFunc():e.aggFuncSvc?.getDefaultAggFunc(h);n.push({colId:h.getId(),aggFunc:v})}else h.isAllowRowGroup()?n.push({colId:h.getId(),rowGroup:!0}):h.isAllowPivot()&&n.push({colId:h.getId(),pivot:!0})}:h=>{(h.isPivotActive()||h.isRowGroupActive()||h.isValueActive())&&n.push({colId:h.getId(),pivot:!1,rowGroup:!1,aggFunc:null})};t.forEach(d),n.length>0&&Sa(e,{state:n},s)}function OI(e,t){let{columns:i,visibleState:s,pivotState:n,eventType:r}=t,a=i.map(d=>{let h=d.getColId();if(e.colModel.isPivotMode()){let v=n?.[h];return{colId:h,pivot:v?.pivot,rowGroup:v?.rowGroup,aggFunc:v?.aggFunc}}else return{colId:h,hide:!s?.[h]}});Sa(e,{state:a},r)}function NI(e){return{pivot:e.isPivotActive(),rowGroup:e.isRowGroupActive(),aggFunc:e.isValueActive()?e.getAggFunc():void 0}}function BI(e,t){let{gos:i,rowGroupColsSvc:s}=t;if(!s||!e)return!1;let n=i.get("groupLockGroupColumns");if(!e.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;let r=s.columns.findIndex(a=>a.getColId()===e.getColId());return n>r}var hU=class extends so{constructor(e){super(),this.setTemplateFromElement(e.getGui(),void 0,void 0,!0)}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===K.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){let e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};function pU(e,t,i){return e.getCompDetails(t,gU,"agMenuItem",i,!0)}var gU={name:"menuItem",optionalMethods:["setActive","select","setExpanded","configureDefaults"]},fU={tag:"div",cls:"ag-menu",role:"presentation"},EI=class extends ee{constructor(){super(...arguments),this.ACTIVATION_DELAY=80,this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory,this.registry=e.registry}init(e){let{menuItemDef:t,isAnotherSubMenuOpen:i,level:s,childComponent:n,contextParams:r}=e;return this.params=e.menuItemDef,this.level=s,this.isAnotherSubMenuOpen=i,this.childComponent=n,this.contextParams=r,this.cssClassPrefix=this.params.menuItemParams?.cssClassPrefix??"ag-menu-option",pU(this.userCompFactory,this.params,je(this.gos,be(U({},t),{level:s,isAnotherSubMenuOpen:i,openSubMenu:d=>this.openSubMenu(d),closeSubMenu:()=>this.closeSubMenu(),closeMenu:d=>this.closeMenu(d),updateTooltip:(d,h)=>this.refreshTooltip(d,h),onItemActivated:()=>this.onItemActivated()})))?.newAgStackInstance().then(d=>{this.menuItemComp=d;let h=d.configureDefaults?.();h&&this.configureDefaults(h===!0?void 0:h)})??An.resolve()}addListeners(e,t){t?.suppressClick||this.addManagedElementListeners(e,{click:i=>this.onItemSelected(i)}),t?.suppressKeyboardSelect||this.addManagedElementListeners(e,{keydown:i=>{(i.key===K.ENTER||i.key===K.SPACE)&&(i.preventDefault(),this.onItemSelected(i))}}),t?.suppressMouseDown||this.addManagedElementListeners(e,{mousedown:i=>{i.stopPropagation(),i.preventDefault()}}),t?.suppressMouseOver||this.addManagedElementListeners(e,{mouseenter:()=>this.onMouseEnter(),mouseleave:()=>this.onMouseLeave()})}isDisabled(){return!!this.params.disabled}openSubMenu(e=!1,t){if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;let i=Qe(fU);this.eSubMenuGui=i;let s,n=()=>{this.subMenuIsOpening=!1};if(this.childComponent){let v=this.createBean(new hU(this.childComponent));v.setParentComponent(this);let b=v.getGui(),D="mouseenter",R=()=>this.cancelDeactivate();b.addEventListener(D,R),s=()=>{b.removeEventListener(D,R),this.destroyBean(v)},i.appendChild(b),this.childComponent.afterGuiAttached&&(n=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){let v=this.createBean(new GI(this.level+1,this.contextParams));v.setParentComponent(this),v.addMenuItems(this.params.subMenu),i.appendChild(v.getGui()),this.addManagedListeners(v,{closeMenu:b=>this.dispatchLocalEvent(b)}),v.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),s=()=>this.destroyBean(v),e&&(n=()=>{v.activateFirstItem(),this.subMenuIsOpening=!1})}let{popupSvc:r}=this,a=()=>{let v=this.eGui,{column:b,node:D}=this.contextParams;r?.positionPopupForMenu({eventSource:v,ePopup:i,event:t instanceof MouseEvent?t:void 0,column:b,node:D})},d=this.getLocaleTextFunc(),h=r?.addPopup({modal:!0,eChild:i,positionCallback:a,anchorToElement:this.eGui,ariaLabel:d("ariaLabelSubMenu","SubMenu"),afterGuiAttached:n});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{h&&h.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),s(),this.menuItemComp.setExpanded?.(!1),this.eSubMenuGui=void 0},this.menuItemComp.setExpanded?.(!0)}setAriaExpanded(e){this.suppressAria||Tn(this.eGui,e)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(e,t){this.cancelActivate(),!(this.params.disabled&&!t)&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),this.menuItemComp.setActive?.(!0),this.suppressFocus||Kh(this.beans,()=>this.eGui.focus({preventScroll:!t})),e&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),this.menuItemComp.setActive?.(!1),this.isActive=!1,this.subMenuIsOpen&&this.closeSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(e){this.parentComponent=e}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(e){this.menuItemComp.select?.(),this.params.action?this.beans.frameworkOverrides.wrapOutgoing(()=>this.params.action(je(this.gos,U({},this.contextParams)))):this.openSubMenu(e&&e.type==="keydown",e),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(e)}closeMenu(e){let t={type:"closeMenu"};e&&(e instanceof MouseEvent?t.mouseEvent=e:t.keyboardEvent=e),this.dispatchLocalEvent(t)}onItemActivated(){let e={type:"menuItemActivated",menuItem:this};this.dispatchLocalEvent(e)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),this.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),this.ACTIVATION_DELAY):this.deactivate()}configureDefaults(e){if(!this.menuItemComp){setTimeout(()=>this.configureDefaults(e));return}let t=this.menuItemComp.getGui(),{suppressRootStyles:i,suppressTooltip:s,suppressAria:n,suppressTabIndex:r,suppressFocus:a}=e||{},d=this.menuItemComp.getRootElement?.();d&&(i||t.classList.add("ag-menu-option-custom"),t=d),this.eGui=t,this.suppressRootStyles=!!i,this.suppressRootStyles||(t.classList.add(this.cssClassPrefix),this.params.cssClasses?.forEach(h=>t.classList.add(h)),this.params.disabled&&t.classList.add(`${this.cssClassPrefix}-disabled`)),s||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!n,this.suppressAria||(Ds(t,"menuitem"),this.params.subMenu&&fR(t,this.params.subMenuRole??"menu"),this.params.disabled&&dR(t,!0)),r||t.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(t,e),this.suppressFocus=!!a}refreshTooltip(e,t){if(this.tooltip=e,this.tooltipFeature=this.destroyBean(this.tooltipFeature),!e||!this.menuItemComp)return;let i=this.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:t});i&&(this.tooltipFeature=this.createBean(i))}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),this.menuItemComp?.destroy?.(),super.destroy()}},GI=class extends so{constructor(e=0,t){super({tag:"div",cls:"ag-menu-list",role:"menu"}),this.level=e,this.menuItems=[],this.params=t??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>Kh(this.beans,()=>this.handleKeyDown(e)),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){this.getParentComponent()?.getGui()?.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case K.UP:case K.RIGHT:case K.DOWN:case K.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case K.ESCAPE:this.closeIfIsChild()&&Zs(e);break}}handleFocusIn(e){let t=e.relatedTarget;!this.tabGuardFeature.getTabGuardCtrl().isTabGuard(t)&&(this.getGui().contains(t)||this.activeMenuItem?.getSubMenuGui()?.contains(t))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){let t=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(t)||this.activeMenuItem.getSubMenuGui()?.contains(t)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&An.all(e.map(t=>t==="separator"?An.resolve({eGui:this.createSeparator()}):typeof t=="string"?(ue(228,{menuItemOrString:t}),An.resolve({eGui:null})):this.addItem(t))).then(t=>{(t??[]).forEach(i=>{i?.eGui&&(this.appendChild(i.eGui),i.comp&&this.menuItems.push(i.comp))})})}addItem(e){let t=this.createManagedBean(new EI);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(i=>i.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListeners(t,{closeMenu:i=>{this.dispatchLocalEvent(i)},menuItemActivated:i=>{this.activeMenuItem&&this.activeMenuItem!==i.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=i.menuItem}}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){let e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}createSeparator(){let e={tag:"div",cls:"ag-menu-separator-part"};return Qe({tag:"div",cls:"ag-menu-separator",attrs:{"aria-hidden":"true"},children:[e,e,e,e]})}handleNavKey(e){switch(e){case K.UP:case K.DOWN:{let i=this.findNextItem(e===K.UP);i&&i!==this.activeMenuItem&&i.activate(!1,!0);return}}let t=this.gos.get("enableRtl")?K.RIGHT:K.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){let t=this.getParentComponent();return t&&t instanceof EI?(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){let t=[...this.menuItems];if(!t.length)return;if(!this.activeMenuItem)return e?Ue(t):t[0];e&&t.reverse();let i,s=!1;for(let n of t){if(!s){n===this.activeMenuItem&&(s=!0);continue}i=n;break}return s&&!i?t[0]:i||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}},VI=class extends Ce{constructor(e,t,i){super({tag:"div",cls:"ag-menu"}),this.column=e,this.mouseEvent=t,this.parentEl=i,this.displayName=null}postConstruct(){let{column:e,beans:{colNames:t}}=this;this.initializeProperties(e);let i;if(En(e)?i=t.getDisplayNameForColumn(e,"columnToolPanel"):i=t.getDisplayNameForProvidedColumnGroup(null,e,"columnToolPanel"),this.displayName=i,this.buildMenuItemMap(),this.isActive()){this.mouseEvent.preventDefault();let s=this.getMappedMenuItems();if(s.length===0)return;this.displayContextMenu(s)}}initializeProperties(e){let t;Et(e)?t=e.getLeafColumns():t=[e],this.columns=t,this.allowGrouping=t.some(i=>i.isPrimary()&&i.isAllowRowGroup()),this.allowValues=t.some(i=>i.isPrimary()&&i.isAllowValue()),this.allowPivoting=this.beans.colModel.isPivotMode()&&t.some(i=>i.isPrimary()&&i.isAllowPivot())}buildMenuItemMap(){let e=this.getLocaleTextFunc(),{beans:t,displayName:i}=this,{rowGroupColsSvc:s,valueColsSvc:n,pivotColsSvc:r,colModel:a}=t,d=new Map;this.menuItemMap=d,d.set("rowGroup",{allowedFunction:h=>h.isPrimary()&&h.isAllowRowGroup()&&!BI(h,t),activeFunction:h=>h.isRowGroupActive(),activateLabel:()=>`${e("groupBy","Group by")} ${i}`,deactivateLabel:()=>`${e("ungroupBy","Un-Group by")} ${i}`,activateFunction:()=>s?.setColumns(this.addColumnsToList(s.columns),"toolPanelUi"),deActivateFunction:()=>s?.setColumns(this.removeColumnsFromList(s.columns),"toolPanelUi"),addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),d.set("value",{allowedFunction:h=>h.isPrimary()&&h.isAllowValue(),activeFunction:h=>h.isValueActive(),activateLabel:()=>e("addToValues",`Add ${i} to values`,[i]),deactivateLabel:()=>e("removeFromValues",`Remove ${i} from values`,[i]),activateFunction:()=>n?.setColumns(this.addColumnsToList(n.columns),"toolPanelUi"),deActivateFunction:()=>n?.setColumns(this.removeColumnsFromList(n.columns),"toolPanelUi"),addIcon:"valuePanel",removeIcon:"valuePanel"}),d.set("pivot",{allowedFunction:h=>a.isPivotMode()&&h.isPrimary()&&h.isAllowPivot(),activeFunction:h=>h.isPivotActive(),activateLabel:()=>e("addToLabels",`Add ${i} to labels`,[i]),deactivateLabel:()=>e("removeFromLabels",`Remove ${i} from labels`,[i]),activateFunction:()=>r?.setColumns(this.addColumnsToList(r.columns),"toolPanelUi"),deActivateFunction:()=>r?.setColumns(this.removeColumnsFromList(r.columns),"toolPanelUi"),addIcon:"pivotPanel",removeIcon:"pivotPanel"})}addColumnsToList(e){return[...e].concat(this.columns.filter(t=>e.indexOf(t)===-1))}removeColumnsFromList(e){return e.filter(t=>this.columns.indexOf(t)===-1)}displayContextMenu(e){let t=this.getGui(),i=this.createBean(new GI),s=this.getLocaleTextFunc(),n=()=>{};t.appendChild(i.getGui()),i.addMenuItems(e),i.addManagedListeners(i,{closeMenu:()=>{this.parentEl.focus(),n()}});let r=this.beans.popupSvc,a=r.addPopup({modal:!0,eChild:t,closeOnEsc:!0,afterGuiAttached:()=>sr(i.getGui()),ariaLabel:s("ariaLabelContextMenu","Context Menu"),closedCallback:d=>{d instanceof KeyboardEvent&&this.parentEl.focus(),this.destroyBean(i)}});a&&(n=a.hideFunc),r.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:t})}isActive(){return this.allowGrouping||this.allowValues||this.allowPivoting}getMappedMenuItems(){let e=[],{menuItemMap:t,columns:i,displayName:s,beans:n}=this;for(let r of t.values()){let a=i.some(h=>r.allowedFunction(h)&&!r.activeFunction(h)),d=i.some(h=>r.allowedFunction(h)&&r.activeFunction(h));a&&e.push({name:r.activateLabel(s),icon:et(r.addIcon,n,null),action:()=>r.activateFunction()}),d&&e.push({name:r.deactivateLabel(s),icon:et(r.removeIcon,n,null),action:()=>r.deActivateFunction()})}return e}},mU={tag:"div",cls:"ag-column-select-column-group",children:[{tag:"span",ref:"eColumnGroupIcons",cls:"ag-column-group-icons",children:[{tag:"span",ref:"eGroupClosedIcon",cls:"ag-column-group-closed-icon"},{tag:"span",ref:"eGroupOpenedIcon",cls:"ag-column-group-opened-icon"}]},{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},HI=class extends Ce{constructor(e,t,i,s){super(),this.modelItem=e,this.allowDragging=t,this.eventType=i,this.focusWrapper=s,this.cbSelect=te,this.eLabel=te,this.eGroupOpenedIcon=te,this.eGroupClosedIcon=te,this.eColumnGroupIcons=te,this.processingColumnStateChange=!1;let{columnGroup:n,depth:r,displayName:a}=e;this.columnGroup=n,this.columnDepth=r,this.displayName=a}postConstruct(){this.setTemplate(mU,[io]);let{beans:e,cbSelect:t,eLabel:i,displayName:s,columnDepth:n,modelItem:r,focusWrapper:a,columnGroup:d}=this,{registry:h,gos:v}=e,b=et("columnDrag",e);this.eDragHandle=b,b.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");let D=t.getGui(),R=t.getInputElement();D.insertAdjacentElement("afterend",b),R.setAttribute("tabindex","-1"),i.innerHTML=s??"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+n),this.getGui().style.setProperty("--ag-indentation-level",String(n)),this.tooltipFeature=this.createOptionalManagedBean(h.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumnGroup",shouldDisplayTooltip:tp(v,()=>i)})),this.addManagedEventListeners({columnPivotModeChanged:this.onColumnStateChanged.bind(this)}),this.addManagedElementListeners(i,{click:this.onLabelClicked.bind(this)}),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedListeners(r,{expandedChanged:this.onExpandChanged.bind(this)}),this.addManagedListeners(a,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),Zh(d.getColGroupDef(),v,null,d).forEach(k=>this.addOrRemoveCssClass(k,!0))}getColumns(){return this.columnGroup.getLeafColumns()}setupTooltip(){let e=this.columnGroup.getColGroupDef();if(!e)return;let t=()=>this.tooltipFeature?.setTooltipAndRefresh(e.headerTooltip);t(),this.addManagedEventListeners({newColumnsLoaded:t})}handleKeyDown(e){switch(e.key){case K.LEFT:e.preventDefault(),this.modelItem.expanded=!1;break;case K.RIGHT:e.preventDefault(),this.modelItem.expanded=!0;break;case K.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected());break}}onContextMenu(e){let{columnGroup:t,gos:i}=this;if(i.get("functionsReadOnly"))return;let s=this.createBean(new VI(t,e,this.focusWrapper));this.addDestroyFunc(()=>{s.isAlive()&&this.destroyBean(s)})}addVisibilityListenersToAllChildren(){let e=this.onColumnStateChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{this.addManagedListeners(t,{visibleChanged:e,columnValueChanged:e,columnPivotChanged:e,columnRowGroupChanged:e})})}setupDragging(){if(!this.allowDragging){qe(this.eDragHandle,!1);return}let e=this.beans,{gos:t,eventSvc:i,dragAndDrop:s}=e,n=!t.get("suppressDragLeaveHidesColumns"),r={type:ns.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDefaultIconName:()=>n?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{n=!t.get("suppressDragLeaveHidesColumns"),i.dispatchEvent({type:"columnPanelItemDragStart",column:this.columnGroup})},onDragStopped:()=>{i.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:a=>{n&&OI(e,{columns:this.columnGroup.getLeafColumns(),visibleState:a?.visibleState,pivotState:a?.pivotState,eventType:this.eventType})},onGridExit:()=>{n&&this.onChangeCommon(!1)}};s.addDragSource(r,!0),this.addDestroyFunc(()=>s.removeDragSource(r))}createDragItem(){let e=this.columnGroup.getLeafColumns(),t={},i={};return e.forEach(s=>{let n=s.getId();t[n]=s.isVisible(),i[n]=NI(s)}),{columns:e,visibleState:t,pivotState:i}}setupExpandContract(){let{beans:e,eGroupClosedIcon:t,eGroupOpenedIcon:i,eColumnGroupIcons:s}=this;t.appendChild(ep("columnSelectClosed",e,null)),i.appendChild(ep("columnSelectOpen",e,null));let n=this.onExpandOrContractClicked.bind(this);this.addManagedElementListeners(t,{click:n}),this.addManagedElementListeners(i,{click:n});let r=new wn(s,!0);this.addManagedListeners(r,{tap:n}),this.addDestroyFunc(r.destroy.bind(r))}onLabelClicked(){let e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}getVisibleLeafColumns(){let e=[],t=i=>{i.forEach(s=>{s.passesFilter&&(s.group?t(s.children):e.push(s.column))})};return t(this.modelItem.children),e}onChangeCommon(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&kI(this.beans,this.modelItem.children,e,this.eventType)}refreshAriaLabel(){let{cbSelect:e,focusWrapper:t,displayName:i}=this,s=this.getLocaleTextFunc(),n=s("ariaColumnGroup","Column Group"),r=e.getValue(),a=r===void 0?s("ariaIndeterminate","indeterminate"):r?s("ariaVisible","visible"):s("ariaHidden","hidden"),d=s("ariaToggleVisibility","Press SPACE to toggle visibility");Ri(t,`${i} ${n}`),e.setInputAriaLabel(`${d} (${a})`),Wh(t,e.getInputElement().id)}onColumnStateChanged(){let e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0;let i=this.cbSelect;i.setValue(e),i.setReadOnly(t),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1}workOutSelectedValue(){let e=this.beans.colModel.isPivotMode(),t=this.getVisibleLeafColumns(),i=0,s=0;if(t.forEach(n=>{!e&&n.getColDef().lockVisible||(this.isColumnChecked(n,e)?i++:s++)}),!(i>0&&s>0))return i>0}workOutReadOnlyValue(){let e=this.beans.colModel.isPivotMode(),t=0;return this.columnGroup.getLeafColumns().forEach(i=>{e?i.isAnyFunctionAllowed()&&t++:i.getColDef().lockVisible||t++}),t===0}isColumnChecked(e,t){if(t){let i=e.isPivotActive(),s=e.isRowGroupActive(),n=e.isValueActive();return i||s||n}return e.isVisible()}onExpandOrContractClicked(){let e=this.modelItem,t=e.expanded;e.expanded=!t}onExpandChanged(){this.setOpenClosedIcons(),this.refreshAriaExpanded()}setOpenClosedIcons(){let e=this.modelItem.expanded;qe(this.eGroupClosedIcon,!e),qe(this.eGroupOpenedIcon,e)}refreshAriaExpanded(){Tn(this.focusWrapper,this.modelItem.expanded)}getDisplayName(){return this.displayName}onSelectAllChanged(e){let t=this.cbSelect,i=t.getValue();!t.isReadOnly()&&(e&&!i||!e&&i)&&t.toggle()}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}setSelected(e){this.cbSelect.setValue(e,!0)}},Sb=e=>Et(e)?e.getLeafColumns():e?[e]:[],vU=(e,t,i,s)=>{if(!i||!t)return null;let n=e.colModel.getCols(),r=n.indexOf(i),a=s?r:r+1,d=CU(n,t,a);return a-d},CU=(e,t,i)=>{if(!t)return 0;let s=t[0],n=t.length;return e.indexOf(s)<i?n:0},MI=(e,t,i)=>e.get("suppressMovableColumns")||t.colModel.isPivotMode()?!0:!!i.find(({colDef:r})=>!!r.suppressMovable||!!r.lockPosition),RI=(e,t,i)=>{if(!i)return;let{component:s}=i,n=null,r=i.position==="top";if(s instanceof HI?(n=s.getColumns()[0],r=!0):s&&(n=s.column),!n)return;let a=vU(e,t,n,r);a!=null&&e.colMoves?.moveColumns(t,a,"toolPanelUi")},bU=e=>e.column,yU={tag:"div",cls:"ag-column-select-column",children:[{tag:"ag-checkbox",ref:"cbSelect",cls:"ag-column-select-checkbox"},{tag:"span",ref:"eLabel",cls:"ag-column-select-column-label"}]},wU=class extends Ce{constructor(e,t,i,s){super(),this.modelItem=e,this.allowDragging=t,this.groupsExist=i,this.focusWrapper=s,this.eLabel=te,this.cbSelect=te,this.processingColumnStateChange=!1;let{column:n,depth:r,displayName:a}=e;this.column=n,this.columnDepth=r,this.displayName=a}postConstruct(){this.setTemplate(yU,[io]);let{beans:e,cbSelect:t,displayName:i,eLabel:s,columnDepth:n,groupsExist:r,column:a,gos:d,focusWrapper:h}=this,v=et("columnDrag",e);this.eDragHandle=v,v.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");let b=t.getGui(),D=t.getInputElement();b.insertAdjacentElement("afterend",v),D.setAttribute("tabindex","-1");let R=xs(i);s.innerHTML=R,r&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass(`ag-column-select-indent-${n}`),this.getGui().style.setProperty("--ag-indentation-level",String(n)),this.tooltipFeature=this.createOptionalManagedBean(e.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui(),getLocation:()=>"columnToolPanelColumn",getColDef:()=>a.getColDef(),shouldDisplayTooltip:tp(d,()=>s)})),this.setupDragging();let A=this.onColumnStateChanged.bind(this);this.addManagedEventListeners({columnPivotModeChanged:A}),this.addManagedListeners(a,{columnValueChanged:A,columnPivotChanged:A,columnRowGroupChanged:A,visibleChanged:A}),this.addManagedListeners(h,{keydown:this.handleKeyDown.bind(this),contextmenu:this.onContextMenu.bind(this)}),this.addManagedPropertyListener("functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListeners(t,{fieldValueChanged:this.onCheckboxChanged.bind(this)}),this.addManagedElementListeners(s,{click:this.onLabelClicked.bind(this)}),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),Zh(a.getColDef(),d,a,null).forEach(L=>this.addOrRemoveCssClass(L,!0))}getColumn(){return this.column}setupTooltip(){let e=()=>this.tooltipFeature?.setTooltipAndRefresh(this.column.getColDef().headerTooltip);e(),this.addManagedEventListeners({newColumnsLoaded:e})}onContextMenu(e){let{column:t,gos:i}=this;if(i.get("functionsReadOnly"))return;let s=this.createBean(new VI(t,e,this.focusWrapper));this.addDestroyFunc(()=>{s.isAlive()&&this.destroyBean(s)})}handleKeyDown(e){e.key===K.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))}onLabelClicked(){if(this.gos.get("functionsReadOnly"))return;let e=!this.cbSelect.getValue();this.onChangeCommon(e)}onCheckboxChanged(e){this.onChangeCommon(e.selected)}onChangeCommon(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&LI(this.beans,[this.column],e,"toolPanelUi"))}refreshAriaLabel(){let{cbSelect:e,focusWrapper:t,displayName:i}=this,s=this.getLocaleTextFunc(),n=s("ariaColumn","Column"),r=e.getValue()?s("ariaVisible","visible"):s("ariaHidden","hidden"),a=s("ariaToggleVisibility","Press SPACE to toggle visibility");Ri(t,`${i} ${n}`),this.cbSelect.setInputAriaLabel(`${a} (${r})`),Wh(t,e.getInputElement().id)}setupDragging(){let e=this.eDragHandle;if(!this.allowDragging){qe(e,!1);return}let t=this.beans,{gos:i,eventSvc:s,dragAndDrop:n}=t,r=!i.get("suppressDragLeaveHidesColumns"),a={type:ns.ToolPanel,eElement:e,dragItemName:this.displayName,getDefaultIconName:()=>r?"hide":"notAllowed",getDragItem:()=>this.createDragItem(),onDragStarted:()=>{r=!i.get("suppressDragLeaveHidesColumns"),s.dispatchEvent({type:"columnPanelItemDragStart",column:this.column})},onDragStopped:()=>{s.dispatchEvent({type:"columnPanelItemDragEnd"})},onGridEnter:d=>{r&&OI(t,{columns:[this.column],visibleState:d?.visibleState,pivotState:d?.pivotState,eventType:"toolPanelUi"})},onGridExit:()=>{r&&this.onChangeCommon(!1)}};n.addDragSource(a,!0),this.addDestroyFunc(()=>n.removeDragSource(a))}createDragItem(){let e=this.column.getColId(),t={[e]:this.column.isVisible()},i={[e]:NI(this.column)};return{columns:[this.column],visibleState:t,pivotState:i}}onColumnStateChanged(){this.processingColumnStateChange=!0;let e=this.beans.colModel.isPivotMode();if(e){let s=this.column.isAnyFunctionActive();this.cbSelect.setValue(s)}else this.cbSelect.setValue(this.column.isVisible());let t=!0,i=!0;if(e){let s=this.gos.get("functionsReadOnly"),n=!this.column.isAnyFunctionAllowed();t=!s&&!n,i=t}else{let{enableRowGroup:s,enableValue:n,lockPosition:r,suppressMovable:a,lockVisible:d}=this.column.getColDef(),h=!!s||!!n,v=!!r||!!a;t=!d,i=h||!v}this.cbSelect.setReadOnly(!t),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!i),this.addOrRemoveCssClass("ag-column-select-column-readonly",!i&&!t),this.cbSelect.setPassive(!1),this.processingColumnStateChange=!1}getDisplayName(){return this.displayName}onSelectAllChanged(e){let t=this.cbSelect;e!==t.getValue()&&(t.isReadOnly()||t.toggle())}isSelected(){return this.cbSelect.getValue()}isSelectable(){return!this.cbSelect.isReadOnly()}isExpandable(){return!1}setExpanded(e){ue(158)}},SU=class{constructor(e){this.items=e}getRowCount(){return this.items.length}getRow(e){return this.items[e]}},xU="ag-column-select-list",DU=class extends Ce{constructor(){super({tag:"div",cls:xU,role:"presentation"}),this.destroyColumnItemFuncs=[],this.hasLoadedInitialState=!1,this.isInitialState=!1,this.skipRefocus=!1}wireBeans(e){this.colModel=e.colModel}destroy(){this.destroyColumnTree(),super.destroy()}destroyColumnTree(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(e=>e()),this.destroyColumnItemFuncs=[]}init(e,t,i){this.params=e;let{suppressSyncLayoutWithGrid:s,contractColumnSelection:n,suppressColumnMove:r}=e;this.allowDragging=t,this.eventType=i,s||this.addManagedEventListeners({columnMoved:this.onColumnsChanged.bind(this)}),this.addManagedEventListeners({newColumnsLoaded:this.onColumnsChanged.bind(this)});let a=this.fireSelectionChangedEvent.bind(this);this.addManagedEventListeners({columnPivotChanged:a,columnPivotModeChanged:a,columnRowGroupChanged:a,columnValueChanged:a,columnVisible:a,newColumnsLoaded:a}),this.expandGroupsByDefault=!n;let d=r||s,h=this.createManagedBean(new AI({cssIdentifier:"column-select",ariaRole:"tree",moveItemCallback:(v,b)=>{d||this.moveItems(v,b)}}));this.virtualList=h,this.appendChild(h.getGui()),h.setComponentCreator((v,b)=>(cR(b,v.depth+1),this.createComponentFromItem(v,b))),this.colModel.ready&&this.onColumnsChanged(),!d&&this.createItemDragFeature()}createItemDragFeature(){let{gos:e,beans:t,eventSvc:i,virtualList:s}=this;this.createManagedBean(new bj(this,s,{dragSourceType:ns.ToolPanel,listItemDragStartEvent:"columnPanelItemDragStart",listItemDragEndEvent:"columnPanelItemDragEnd",eventSource:i,getCurrentDragValue:n=>bU(n),isMoveBlocked:n=>MI(e,t,Sb(n)),getNumRows:n=>n.getDisplayedColsList().length,moveItem:(n,r)=>RI(t,Sb(n),r)}))}moveItems(e,t){let{gos:i,beans:s}=this,{modelItem:n}=e,{group:r,columnGroup:a,column:d,expanded:h}=n,v=Sb(r?a:d);if(MI(i,s,v))return;let b=this.displayedColsList.indexOf(n),D=t?-1:1,R=0;if(t){let k=e.columnDepth>0&&d.getParent()?.getChildren();k&&k.length&&d===k[0]&&(R=-1)}else r&&(R=h?n.children.length:0);let A=Math.min(Math.max(b+R+D,0),this.displayedColsList.length-1);this.skipRefocus=!0,RI(s,v,{rowIndex:A,position:t?"top":"bottom",component:this.virtualList.getComponentAt(A)}),this.focusRowIfAlive(A-R).then(()=>{this.skipRefocus=!1})}createComponentFromItem(e,t){let i=this.allowDragging;if(e.group){let n=new HI(e,i,this.eventType,t);return this.createBean(n),n}let s=new wU(e,i,this.groupsExist,t);return this.createBean(s),s}onColumnsChanged(){let e=this.params;this.hasLoadedInitialState||(this.hasLoadedInitialState=!0,this.isInitialState=!!e.initialState);let t=this.getExpandedStates(),i=this.colModel.isPivotMode();!e.suppressSyncLayoutWithGrid&&!i?this.buildTreeFromWhatGridIsDisplaying():this.buildTreeFromProvidedColumnDefs(),this.setExpandedStates(t),this.markFilteredColumns(),this.flattenAndFilterModel(),this.isInitialState=!1}getDisplayedColsList(){return this.displayedColsList}getExpandedStates(){let e={};if(this.isInitialState){let{expandedGroupIds:t}=this.params.initialState;return t.forEach(i=>{e[i]=!0}),e}return this.allColsTree?(this.forEachItem(t=>{if(!t.group)return;let i=t.columnGroup;i&&(e[i.getId()]=t.expanded)}),e):{}}setExpandedStates(e){if(!this.allColsTree)return;let{isInitialState:t}=this;this.forEachItem(i=>{if(!i.group)return;let s=i.columnGroup;if(s){let n=e[s.getId()];(n!=null||t)&&(i.expanded=!!n)}})}buildTreeFromWhatGridIsDisplaying(){oU(this.colModel,this.setColumnLayout.bind(this))}setColumnLayout(e){let t=rU(this.colModel,e);this.buildListModel(t),this.groupsExist=e.some(i=>i&&typeof i.children<"u"),this.markFilteredColumns(),this.flattenAndFilterModel()}buildTreeFromProvidedColumnDefs(){let e=this.colModel;this.buildListModel(e.getColDefColTree()),this.groupsExist=!!e.colDefCols?.treeDepth}buildListModel(e){let t=this.onColumnExpanded.bind(this),i=d=>{d.addEventListener("expandedChanged",t);let h=d.removeEventListener.bind(d,"expandedChanged",t);this.destroyColumnItemFuncs.push(h)},s=this.beans.colNames,n=(d,h,v)=>{d.forEach(b=>{Et(b)?r(b,h,v):a(b,h,v)})},r=(d,h,v)=>{let b=d.getColGroupDef();if(b&&b.suppressColumnsToolPanel)return;if(d.isPadding()){n(d.getChildren(),h,v);return}let R=s.getDisplayNameForProvidedColumnGroup(null,d,"columnToolPanel"),A=new DI(R,d,h,!0,this.expandGroupsByDefault);v.push(A),i(A),n(d.getChildren(),h+1,A.children)},a=(d,h,v)=>{if(d.getColDef()&&d.getColDef().suppressColumnsToolPanel)return;let D=s.getDisplayNameForColumn(d,"columnToolPanel");v.push(new DI(D,d,h))};this.destroyColumnTree(),n(e,0,this.allColsTree)}onColumnExpanded(){this.flattenAndFilterModel()}flattenAndFilterModel(){this.displayedColsList=[];let e=s=>{s.passesFilter&&(this.displayedColsList.push(s),s.group&&s.expanded&&s.children.forEach(e))},t=this.virtualList;this.allColsTree.forEach(e),t.setModel(new SU(this.displayedColsList));let i=null;this.skipRefocus||(i=t.getLastFocusedRow()),t.refresh(),i!=null&&this.focusRowIfAlive(i),this.notifyListeners(),this.refreshAriaLabel()}refreshAriaLabel(){let e=this.getLocaleTextFunc(),t=e("ariaColumnPanelList","Column List"),i=e("columns","Columns"),s=this.displayedColsList.length;Ri(this.virtualList.getAriaElement(),`${t} ${s} ${i}`)}focusRowIfAlive(e){return e===-1?Promise.resolve():new Promise(t=>{window.setTimeout(()=>{this.isAlive()&&this.virtualList.focusRow(e),t()},0)})}forEachItem(e){let t=s=>{s.forEach(n=>{e(n),n.group&&t(n.children)})},i=this.allColsTree;i&&t(i)}doSetExpandedAll(e){this.forEachItem(t=>{t.group&&(t.expanded=e)})}setGroupsExpanded(e,t){if(!t){this.doSetExpandedAll(e);return}let i=[];this.forEachItem(n=>{if(!n.group)return;let r=n.columnGroup.getId();t.indexOf(r)>=0&&(n.expanded=e,i.push(r))});let s=t.filter(n=>!i.includes(n));s.length>0&&ue(157,{unrecognisedGroupIds:s})}getExpandState(){let e=0,t=0;return this.forEachItem(i=>{i.group&&(i.expanded?e++:t++)}),e>0&&t>0?2:t>0?1:0}doSetSelectedAll(e){kI(this.beans,this.allColsTree,e,this.eventType)}getSelectionState(){let e=0,t=0,i=this.colModel.isPivotMode();if(this.forEachItem(s=>{if(s.group||!s.passesFilter)return;let n=s.column,r=n.getColDef(),a;if(i){if(!n.isAllowPivot()&&!n.isAllowRowGroup()&&!n.isAllowValue())return;a=n.isValueActive()||n.isPivotActive()||n.isRowGroupActive()}else{if(r.lockVisible)return;a=n.isVisible()}a?e++:t++}),!(e>0&&t>0))return!(e===0||t>0)}setFilterText(e){this.filterText=Ee(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()}markFilteredColumns(){let e=i=>{if(!Ee(this.filterText))return!0;let s=i.displayName;return s==null||s.toLowerCase().indexOf(this.filterText)!==-1},t=(i,s)=>{let n=!1;if(i.group){let a=e(i);i.children.forEach(d=>{let h=t(d,a||s);h&&(n=h)})}let r=s||n?!0:e(i);return i.passesFilter=r,r};this.allColsTree.forEach(i=>t(i,!1))}notifyListeners(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()}fireGroupExpandedEvent(){let e=this.getExpandState();this.dispatchLocalEvent({type:"groupExpanded",state:e})}fireSelectionChangedEvent(){if(!this.allColsTree)return;let e=this.getSelectionState();this.dispatchLocalEvent({type:"selectionChanged",state:e})}getExpandedGroups(){let e=[];return this.allColsTree&&this.forEachItem(t=>{t.group&&t.expanded&&e.push(t.columnGroup.getId())}),e}},EU={selector:"AG-PRIMARY-COLS-LIST",component:DU},MU={tag:"div",cls:"ag-column-select",children:[{tag:"ag-primary-cols-header",ref:"primaryColsHeaderPanel"},{tag:"ag-primary-cols-list",ref:"primaryColsListPanel"}]},RU=class extends Ce{constructor(){super(MU,[sU,EU]),this.primaryColsHeaderPanel=te,this.primaryColsListPanel=te,this.registerCSS(Jj)}init(e,t,i){let{primaryColsHeaderPanel:s,primaryColsListPanel:n}=this;s.init(t);let r=t.suppressColumnFilter,a=t.suppressColumnSelectAll;t.suppressColumnExpandAll&&r&&a&&s.setDisplayed(!1),this.addManagedListeners(n,{groupExpanded:h=>{s.setExpandState(h.state),t.onStateUpdated()},selectionChanged:h=>s.setSelectionState(h.state)}),n.init(t,e,i),this.addManagedListeners(s,{expandAll:n.doSetExpandedAll.bind(n,!0),collapseAll:n.doSetExpandedAll.bind(n,!1),selectAll:n.doSetSelectedAll.bind(n,!0),unselectAll:n.doSetSelectedAll.bind(n,!1),filterChanged:h=>n.setFilterText(h.filterText)}),this.positionableFeature=this.createManagedBean(new Qh(this.getGui(),{minHeight:100}))}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1)}expandGroups(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)}collapseGroups(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)}setColumnLayout(e){this.primaryColsListPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsListPanel.onColumnsChanged()}getExpandedGroups(){return this.primaryColsListPanel.getExpandedGroups()}},TU=".ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}:where(.ag-ltr) .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border)}.ag-column-panel-column-select:where(:nth-child(n+2 of :not(.ag-hidden))){border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}",IU=class extends Ce{constructor(){super({tag:"div",cls:"ag-column-panel"}),this.initialised=!1,this.childDestroyFuncs=[],this.registerCSS(TU)}wireBeans(e){this.colToolPanelFactory=e.colToolPanelFactory}setVisible(e){super.setDisplayed(e),e&&!this.initialised&&this.init(this.params)}init(e){let t=je(this.gos,{suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1}),i=U(U({},t),e);this.params=i;let{childDestroyFuncs:s,colToolPanelFactory:n,gos:r}=this,a=r.isModuleRegistered("SharedPivot"),d=a||r.isModuleRegistered("SharedRowGrouping");!i.suppressPivotMode&&n&&a&&(this.pivotModePanel=n.createPivotModePanel(this,s));let h=this.createBean(new RU);if(this.primaryColsPanel=h,s.push(()=>this.destroyBean(this.primaryColsPanel)),h.init(!0,i,"toolPanelUi"),h.addCssClass("ag-column-panel-column-select"),this.appendChild(h),n){!i.suppressRowGroups&&d&&(this.rowGroupDropZonePanel=n.createRowGroupPanel(this,s)),!i.suppressValues&&d&&(this.valuesDropZonePanel=n.createValuesPanel(this,s)),!i.suppressPivots&&a&&(this.pivotDropZonePanel=n.createPivotPanel(this,s)),this.setLastVisible();let[v]=this.addManagedEventListeners({columnPivotModeChanged:()=>{this.resetChildrenHeight(),this.setLastVisible()}});s.push(()=>v())}this.initialised=!0}setPivotModeSectionVisible(e){let t=this.colToolPanelFactory;t&&(this.pivotModePanel=t.setPanelVisible(this.pivotModePanel,e,t.createPivotModePanel.bind(t,this,this.childDestroyFuncs,!0)),this.setLastVisible())}setRowGroupsSectionVisible(e){let t=this.colToolPanelFactory;t&&(this.rowGroupDropZonePanel=t.setPanelVisible(this.rowGroupDropZonePanel,e,t.createRowGroupPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setValuesSectionVisible(e){let t=this.colToolPanelFactory;t&&(this.valuesDropZonePanel=t.setPanelVisible(this.valuesDropZonePanel,e,t.createValuesPanel.bind(t,this,this.childDestroyFuncs)),this.setLastVisible())}setPivotSectionVisible(e){let t=this.colToolPanelFactory;t&&(this.pivotDropZonePanel=t.setPanelVisible(this.pivotDropZonePanel,e,t.createPivotPanel.bind(t,this,this.childDestroyFuncs)),this.pivotDropZonePanel?.setDisplayed(e),this.setLastVisible())}setResizers(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(e=>{if(!e)return;let t=e.getGui();e.toggleResizable(!t.classList.contains("ag-last-column-drop")&&!t.classList.contains("ag-hidden"))})}setLastVisible(){let e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(n=>n.classList.remove("ag-last-column-drop"));let i=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),s=Ue(i);s&&s.classList.add("ag-last-column-drop"),this.setResizers()}resetChildrenHeight(){let t=this.getGui().children;for(let i=0;i<t.length;i++){let{style:s}=t[i];s.removeProperty("height"),s.removeProperty("flex")}}expandColumnGroups(e){this.primaryColsPanel.expandGroups(e)}collapseColumnGroups(e){this.primaryColsPanel.collapseGroups(e)}setColumnLayout(e){this.primaryColsPanel.setColumnLayout(e)}syncLayoutWithGrid(){this.primaryColsPanel.syncLayoutWithGrid()}destroyChildren(){let e=this.childDestroyFuncs;e.forEach(t=>t()),e.length=0,mi(this.getGui())}refresh(e){return this.destroyChildren(),this.init(e),!0}getState(){return{expandedGroupIds:this.primaryColsPanel.getExpandedGroups()}}destroy(){this.destroyChildren(),super.destroy()}},AU=".ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{align-items:center;background-color:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;color:var(--ag-column-drop-cell-text-color);display:flex;padding:calc(var(--ag-spacing)*.25);position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}:where(.ag-drag-handle){color:var(--ag-column-drop-cell-drag-handle-color)}}:where(.ag-ltr) .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}:where(.ag-rtl) .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-text{flex:1 1 auto;margin:0 var(--ag-spacing);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;min-height:75px;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none;padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing);position:relative;>*{flex:none}}:where(.ag-column-drop-empty) .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-cell-button{cursor:pointer;min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;white-space:nowrap}:where(.ag-ltr) .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}:where(.ag-ltr) .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}:where(.ag-rtl) .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}}:where(.ag-ltr) .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}:where(.ag-ltr) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-column-drop-horizontal-half-width:where(:not(:last-child)){border-left:1px solid var(--ag-border-color)}";function TI(e,t,i){e==null||t==null||e.splice(i,0,...t)}var FU={tag:"div",cls:"ag-unselectable",role:"presentation"},PU=class extends Ce{constructor(e){super(FU),this.horizontal=e,this.state="notDragging",this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=Qe({tag:"div"}),this.addElementClasses(this.ePillDropList,"list"),this.registerCSS(AU)}toggleResizable(e){this.positionableFeature.setResizable(e?{bottom:!0}:!1),this.resizeEnabled=e}isSourceEventFromTarget(e){let{dropZoneTarget:t,dragSource:i}=e;return t.contains(i.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(e=>e()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,mi(this.getGui()),mi(this.ePillDropList)}init(e){this.params=e??{},this.createManagedBean(new rr(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.onKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new Qh(this.getGui()),this.createManagedBean(this.positionableFeature),this.refreshGui(),Ri(this.ePillDropList,this.getAriaLabel())}onTabKeyDown(e){let t=Xs(this.getFocusableElement(),null,!0),i=t.length;if(i===0)return;let{shiftKey:s}=e,n=St(this.beans),r=n===t[0],a=n===Ue(t);i===1||r&&s||a&&!s||t[s?0:i-1].focus()}onKeyDown(e){let{key:t}=e,i=!this.horizontal,s=t===K.DOWN,n=t===K.UP;if(!i){let r=this.gos.get("enableRtl");s=!r&&t===K.RIGHT||r&&t===K.LEFT,n=!r&&t===K.LEFT||r&&t===K.RIGHT}if(!(!s&&!n))if(e.preventDefault(),e.shiftKey)this.moveFocusedItem(n);else{let r=Ts(this.beans,this.getFocusableElement(),!1,n);r&&r.focus()}}moveFocusedItem(e){let t=this.getFocusedItem();if(t===-1)return;let i=e?-1:1;if(!this.normalizeAndUpdateInsertIndex(t,t+i))return;let n=this.childPillComponents[t];if(!n.isMovable())return;let r=n.getItem();this.focusItemAtIndex(this.insertIndex),this.rearrangeItems([r],!0)}addElementClasses(e,t){t=t?`-${t}`:"";let i=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop${t}`,`ag-column-drop-${i}${t}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),onDragCancel:this.onDragCancel.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDrop?.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(e){let t=this.getNewInsertIndex(e);return t<0?!1:this.normalizeAndUpdateInsertIndex(this.insertIndex,t)}normalizeAndUpdateInsertIndex(e,t){let i=this.minimumAllowedNewInsertIndex(),s=Math.max(i,t),n=s!==e;return n&&(this.insertIndex=s),n}getNewInsertIndex(e){let t=e.event,i=this.horizontal?t.clientX:t.clientY,s=this.childPillComponents.map(r=>r.getGui().getBoundingClientRect()),n=s.findIndex(r=>this.horizontal?r.right>i&&r.left<i:r.top<i&&r.bottom>i);if(n===-1){let r=this.gos.get("enableRtl");return s.every(h=>i>(this.horizontal?h.right:h.bottom))?r&&this.horizontal?0:this.childPillComponents.length:s.every(h=>i<(this.horizontal?h.left:h.top))?r&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=n?n+1:n}checkDragStartedBySelf(e){this.state==="notDragging"&&(this.state="rearrangeItems",this.potentialDndItems=this.getItems(e.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())}onDragging(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()}handleDragEnterEnd(e){}onDragEnter(e){let t=this.getItems(e.dragSource.getDragItem());this.state="newItemsIn";let i=t.filter(n=>this.isItemDroppable(n,e)),s=i.every(n=>this.childPillComponents.map(r=>r.getItem()).indexOf(n)!==-1);if(i.length!==0){if(this.potentialDndItems=i,s){this.state="notDragging";return}this.handleDragEnterEnd(e),this.checkInsertIndex(e),this.refreshGui()}}isPotentialDndItems(){return!!this.potentialDndItems?.length}handleDragLeaveEnd(e){}onDragLeave(e){if(this.state==="rearrangeItems"){let t=this.getItems(e.dragSource.getDragItem());this.removeItems(t)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragCancel(e){this.isPotentialDndItems()&&(this.state==="newItemsIn"&&this.handleDragLeaveEnd(e),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}onDragStop(){this.isPotentialDndItems()&&(this.state==="newItemsIn"?this.addItems(this.potentialDndItems):this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],this.refreshGui()),this.state="notDragging"}removeItems(e){let t=this.getExistingItems().filter(i=>!e.includes(i));this.updateItems(t)}addItems(e){if(!e)return;let t=this.getExistingItems().slice(),i=e.filter(s=>t.indexOf(s)<0);TI(t,i,this.insertIndex),this.updateItems(t)}addItem(e){this.insertIndex=this.getExistingItems().length,this.addItems([e]),this.refreshGui()}rearrangeItems(e,t){let i;return t?i=this.getExistingItems().filter(s=>e.indexOf(s)===-1):i=this.getNonGhostItems().slice(),TI(i,e,this.insertIndex),wa(i,this.getExistingItems())?!1:(this.updateItems(i),!0)}refreshGui(){let e=0;this.horizontal||(e=this.ePillDropList.scrollTop);let t=this.resizeEnabled,i=this.getFocusedItem(),{eGridDiv:s}=this.beans,n=sb(),r=null;n&&(r=Ts(this.beans,s)??Ts(this.beans,s,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),e!==0&&(this.ePillDropList.scrollTop=e),t&&this.toggleResizable(t),n&&this.restoreFocus(i,r)}getFocusedItem(){let e=this.getGui(),t=St(this.beans);return e.contains(t)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(t):-1}focusItemAtIndex(e){let t=this.getGui(),s=Array.from(t.querySelectorAll(".ag-column-drop-cell"))[e];s&&s.focus({preventScroll:!0})}restoreFocus(e,t){let i=this.getGui(),s=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(e===-1)return;s.length===0&&t.focus();let n=Math.min(s.length-1,e),r=s[n];r&&r.focus()}focusList(e){let t=e?this.childPillComponents.length-1:0;this.restoreFocus(t,this.getFocusableElement())}getNonGhostItems(){let e=this.getExistingItems();return this.isPotentialDndItems()?e.filter(t=>!this.potentialDndItems.includes(t)):e}addItemsToGui(){let t=this.getNonGhostItems().map(i=>this.createItemComponent(i,!1));if(this.isPotentialDndItems()){let i=this.potentialDndItems.map(s=>this.createItemComponent(s,!0));this.insertIndex>=t.length?t.push(...i):t.splice(this.insertIndex,0,...i)}this.appendChild(this.ePillDropList),t.forEach((i,s)=>{s>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(i.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){let{childPillComponents:e,ePillDropList:t}=this,i=e.length;Ds(t,i===0?"presentation":"listbox");for(let s=0;s<i;s++){let r=e[s].getGui();$h(r,s+1),Uh(r,i)}}createItemComponent(e,t){let i=this.createPillComponent(e,this.dropTarget,t,this.horizontal);return i.addEventListener("columnRemove",this.removeItems.bind(this,[e])),this.createBean(i),this.guiDestroyFunctions.push(()=>this.destroyBean(i)),t||this.childPillComponents.push(i),i}addIconAndTitleToGui(){let{title:e,icon:t}=this.params;if(!e||!t)return;let i=Qe({tag:"div"});if(jh(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(t,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),i.appendChild(t),!this.horizontal){let s=Qe({tag:"span"});this.addElementClasses(s,"title"),s.textContent=e,i.appendChild(s)}this.appendChild(i)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){let{emptyMessage:e}=this.params;if(!e||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;let t=Qe({tag:"span"});t.textContent=e,this.addElementClasses(t,"empty-message"),this.ePillDropList.appendChild(t)}addArrow(e){if(this.horizontal){let t=this.gos.get("enableRtl"),i=et(t?"panelDelimiterRtl":"panelDelimiter",this.beans);this.addElementClasses(i,"cell-separator"),e.appendChild(i)}}},_U={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},kU=class extends Ce{constructor(e,t,i,s,n){super(),this.dragSourceDropTarget=e,this.ghost=t,this.horizontal=i,this.template=s,this.agComponents=n,this.eText=te,this.eDragHandle=te,this.eButton=te}postConstruct(){this.setTemplate(this.template??_U,this.agComponents);let e=this.getGui(),{beans:t,eDragHandle:i,eText:s,eButton:n}=this;this.addElementClasses(e),this.addElementClasses(i,"drag-handle"),this.addElementClasses(s,"text"),this.addElementClasses(n,"button"),i.appendChild(et("columnDrag",t)),n.appendChild(et("cancel",t)),this.tooltipFeature=this.createOptionalManagedBean(t.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.getGui()})),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){let e=this.getLocaleTextFunc(),t=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(t,e),Ri(this.getGui(),t.join(". "))}addAdditionalAriaInstructions(e,t){if(this.isRemovable()){let i=t("ariaDropZoneColumnComponentDescription","Press DELETE to remove");e.push(i)}}setupTooltip(){let e=()=>this.tooltipFeature?.setTooltipAndRefresh(this.getTooltip());e(),this.addManagedEventListeners({newColumnsLoaded:e})}getDragSourceId(){}getDefaultIconName(){return"notAllowed"}addDragSource(){let{beans:{dragAndDrop:e},eDragHandle:t}=this,i=this.createGetDragItem(),s=this.getDefaultIconName(),n={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:t,getDefaultIconName:()=>s,getDragItem:i,dragItemName:this.getDisplayName()};e?.addDragSource(n,!0),this.addDestroyFunc(()=>e?.removeDragSource(n))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){qe(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();let e={type:"columnRemove"};this.addGuiEventListener("keydown",i=>this.onKeyDown(i)),this.addManagedElementListeners(this.eButton,{click:i=>{this.dispatchLocalEvent(e),i.stopPropagation()}});let t=new wn(this.eButton);this.addManagedListeners(t,{tap:()=>this.dispatchLocalEvent(e)}),this.addDestroyFunc(t.destroy.bind(t))}onKeyDown(e){e.key===K.DELETE&&this.isRemovable()&&(e.preventDefault(),this.dispatchLocalEvent({type:"columnRemove"}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){let e=this.getDisplayValue(),t=xs(e);this.eText.innerHTML=t}addElementClasses(e,t){t=t?`-${t}`:"";let i=this.horizontal?"horizontal":"vertical";e.classList.add(`ag-column-drop-cell${t}`,`ag-column-drop-${i}-cell${t}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}},LU=class extends kU{constructor(e,t,i,s,n){super(t,i,n),this.column=e,this.dropZonePurpose=s,this.eSortIndicator=te,this.popupShowing=!1}postConstruct(){let{sortSvc:e,colNames:t}=this.beans;this.template={tag:"span",role:"option",children:[{tag:"span",ref:"eDragHandle",cls:"ag-drag-handle ag-column-drop-cell-drag-handle",role:"presentation"},{tag:"span",ref:"eText",cls:"ag-column-drop-cell-text",attrs:{"aria-hidden":"true"}},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:void 0,{tag:"span",ref:"eButton",cls:"ag-column-drop-cell-button",role:"presentation"}]},e&&(this.agComponents=[e.getSortIndicatorSelector()]),this.displayName=t.getDisplayNameForColumn(this.column,"columnDrop"),super.postConstruct(),e&&(this.setupSort(),this.addManagedEventListeners({sortChanged:()=>{this.setupAria()}})),this.isGroupingZone()&&this.addManagedPropertyListener("groupLockGroupColumns",()=>{this.refreshRemove(),this.refreshDraggable(),this.setupAria()})}getItem(){return this.column}getDisplayName(){return this.displayName}getTooltip(){return this.column.getColDef().headerTooltip}addAdditionalAriaInstructions(e,t){let i=this.gos.get("rowGroupPanelSuppressSort"),s=this.gos.get("functionsReadOnly");if(this.isAggregationZone()&&!s){let n=t("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type");e.push(n)}if(this.isGroupingZone()&&this.column.isSortable()&&!i){let n=t("ariaDropZoneColumnGroupItemDescription","Press ENTER to sort");e.push(n)}super.addAdditionalAriaInstructions(e,t)}isMovable(){return this.isDraggable()}isDraggable(){return this.isReadOnly()}isRemovable(){return this.isReadOnly()}isReadOnly(){return!this.isGroupingAndLocked()&&!this.gos.get("functionsReadOnly")}getAriaDisplayName(){let e=this.getLocaleTextFunc(),{name:t,aggFuncName:i}=this.getColumnAndAggFuncName(),s=e("ariaDropZoneColumnComponentAggFuncSeparator"," of "),n={asc:e("ariaDropZoneColumnComponentSortAscending","ascending"),desc:e("ariaDropZoneColumnComponentSortDescending","descending")},r=this.column.getSort(),a=this.gos.get("rowGroupPanelSuppressSort");return[i&&`${i}${s}`,t,this.isGroupingZone()&&!a&&r&&`, ${n[r]}`].filter(d=>!!d).join("")}getColumnAndAggFuncName(){let e=this.displayName,t="";if(this.isAggregationZone()){let i=this.column.getAggFunc(),s=typeof i=="string"?i:"agg";t=this.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:t}}setupSort(){if(!(!this.column.isSortable()||!this.isGroupingZone())&&!this.gos.get("rowGroupPanelSuppressSort")){this.eSortIndicator.setupSort(this.column,!0);let e=t=>{t.preventDefault(),this.beans.sortSvc.progressSortFromEvent(this.column,t)};this.addGuiEventListener("click",e),this.addGuiEventListener("keydown",t=>{t.key===K.ENTER&&this.isGroupingZone()&&e(t)})}}getDefaultIconName(){return"hide"}createGetDragItem(){let{column:e}=this;return()=>{let t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}}setupComponents(){super.setupComponents(),this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))}onKeyDown(e){super.onKeyDown(e),e.key===K.ENTER&&this.isAggregationZone()&&!this.gos.get("functionsReadOnly")&&(e.preventDefault(),this.onShowAggFuncSelection())}getDisplayValue(){let{name:e,aggFuncName:t}=this.getColumnAndAggFuncName();return this.isAggregationZone()?`${t}(${e})`:e}onShowAggFuncSelection(){if(this.popupShowing)return;this.popupShowing=!0;let{aggFuncSvc:e,popupSvc:t}=this.beans,i=new AI({cssIdentifier:"select-agg-func"}),s=e.getFuncNames(this.column),n=this.getGui(),r=i.getGui();i.setModel({getRow:function(R){return s[R]},getRowCount:function(){return s.length}}),this.createBean(i);let a=Qe({tag:"div",cls:"ag-select-agg-func-popup"});a.style.top="0px",a.style.left="0px",a.appendChild(r),a.style.width=`${n.clientWidth}px`;let[d]=this.addManagedElementListeners(a,{focusout:R=>{!a.contains(R.relatedTarget)&&b&&b.hideFunc()}}),h=R=>{this.destroyBean(i),this.popupShowing=!1,R?.key==="Escape"&&n.focus(),d&&d()},v=this.getLocaleTextFunc(),b=t.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:h,ariaLabel:v("ariaLabelAggregationFunction","Aggregation Function")});b&&i.setComponentCreator(this.createAggSelect.bind(this,b.hideFunc)),i.addGuiEventListener("keydown",R=>{if(R.key===K.ENTER||R.key===K.SPACE){let A=i.getLastFocusedRow();if(A==null)return;let k=i.getComponentAt(A);k&&k.selectItem()}}),t.positionPopupByComponent({type:"aggFuncSelect",eventSource:n,ePopup:a,keepWithinBounds:!0,column:this.column,position:"under"}),i.refresh();let D=s.findIndex(R=>R===this.column.getAggFunc());D===-1&&(D=0),i.focusRow(D)}createAggSelect(e,t){let i=()=>{e(),this.getGui().focus(),this.beans.valueColsSvc?.setColumnAggFunc?.(this.column,t,"toolPanelDragAndDrop")},s=this.getLocaleTextFunc(),n=t.toString(),r=s(n,n);return new OU(i,r)}isGroupingAndLocked(){return this.isGroupingZone()&&BI(this.column,this.beans)}isAggregationZone(){return this.dropZonePurpose==="aggregation"}isGroupingZone(){return this.dropZonePurpose==="rowGroup"}getDragSourceType(){return ns.ToolPanel}destroy(){super.destroy(),this.column=null}},OU=class extends Ce{constructor(e,t){super({tag:"div",cls:"ag-select-agg-func-item"}),this.selectItem=e,this.getGui().innerText=t,this.addGuiEventListener("click",this.selectItem)}},Db=class extends PU{constructor(e,t){super(e),this.dropZonePurpose=t,this.addElementClasses(this.getGui(),this.dropZonePurpose.toLowerCase())}init(e){super.init(e),this.addManagedEventListeners({newColumnsLoaded:this.refreshGui.bind(this)}),this.addManagedPropertyListeners(["functionsReadOnly","rowGroupPanelSuppressSort","groupLockGroupColumns"],this.refreshGui.bind(this))}getItems(e){return e.columns??[]}isInterestedIn(e){return e===ns.HeaderCell||e===ns.ToolPanel}minimumAllowedNewInsertIndex(){let{gos:e,rowGroupColsSvc:t}=this.beans,i=e.get("groupLockGroupColumns"),s=t?.columns.length??0;return i===-1?s:Math.min(i,s)}showOrHideColumnOnExit(e){return this.isRowGroupPanel()&&$R(this.gos,!0)&&!e.fromNudge}handleDragEnterEnd(e){if(this.showOrHideColumnOnExit(e)){let s=e.dragSource.getDragItem().columns;this.setColumnsVisible(s,!1,"uiColumnDragged")}}handleDragLeaveEnd(e){if(this.showOrHideColumnOnExit(e)){let i=e.dragSource.getDragItem();this.setColumnsVisible(i.columns,!0,"uiColumnDragged")}}setColumnsVisible(e,t,i){if(e){let s=e.filter(n=>!n.getColDef().lockVisible);this.beans.colModel.setColsVisible(s,t,i)}}isRowGroupPanel(){return this.dropZonePurpose==="rowGroup"}createPillComponent(e,t,i,s){return new LU(e,t,i,this.dropZonePurpose,s)}},NU=class extends Db{constructor(e){super(e,"pivot")}postConstruct(){let e=this.getLocaleTextFunc(),t=e("pivotColumnsEmptyMessage","Drag here to set column labels"),i=e("pivots","Column Labels");super.init({icon:et("pivotPanel",this.beans,null),emptyMessage:t,title:i}),this.addManagedEventListeners({newColumnsLoaded:this.refresh.bind(this),columnPivotChanged:this.refresh.bind(this),columnPivotModeChanged:this.checkVisibility.bind(this)}),this.refresh()}getAriaLabel(){return this.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")}refresh(){this.checkVisibility(),this.refreshGui()}checkVisibility(){let e=this.beans.colModel,t=e.isPivotMode();if(this.horizontal)switch(this.gos.get("pivotPanelShow")){case"always":this.setDisplayed(t);break;case"onlyWhenPivoting":{let i=e.isPivotActive();this.setDisplayed(t&&i);break}default:this.setDisplayed(!1);break}else this.setDisplayed(t)}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowPivot()&&(!e.isPivotActive()||this.isSourceEventFromTarget(t))}updateItems(e){this.beans.pivotColsSvc?.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"pivot":"notAllowed"}getExistingItems(){return this.beans.pivotColsSvc?.columns??[]}},BU=class extends Db{constructor(e){super(e,"rowGroup")}postConstruct(){let e=this.getLocaleTextFunc(),t=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),i=e("groups","Row Groups");super.init({icon:et("rowGroupPanel",this.beans,null),emptyMessage:t,title:i}),this.addManagedEventListeners({columnRowGroupChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()||e.colDef.showRowGroup?!1:e.isAllowRowGroup()&&(!e.isRowGroupActive()||this.isSourceEventFromTarget(t))}updateItems(e){this.beans.rowGroupColsSvc?.setColumns(e,"toolPanelUi")}getIconName(){return this.isPotentialDndItems()?"group":"notAllowed"}getExistingItems(){return this.beans.rowGroupColsSvc?.columns??[]}},GU=class extends Db{constructor(e){super(e,"aggregation")}postConstruct(){let e=this.getLocaleTextFunc(),t=e("valueColumnsEmptyMessage","Drag here to aggregate"),i=e("values","Values");super.init({icon:et("valuePanel",this.beans,null),emptyMessage:t,title:i}),this.addManagedEventListeners({columnValueChanged:this.refreshGui.bind(this)})}getAriaLabel(){return this.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")}getIconName(){return this.isPotentialDndItems()?"aggregate":"notAllowed"}isItemDroppable(e,t){return this.gos.get("functionsReadOnly")||!e.isPrimary()?!1:e.isAllowValue()&&(!e.isValueActive()||this.isSourceEventFromTarget(t))}updateItems(e){this.beans.valueColsSvc?.setColumns(e,"toolPanelUi")}getExistingItems(){return this.beans.valueColsSvc?.columns??[]}},VU={tag:"div",cls:"ag-pivot-mode-panel",children:[{tag:"ag-toggle-button",ref:"cbPivotMode",cls:"ag-pivot-mode-select"}]},HU=class extends Ce{constructor(){super(...arguments),this.cbPivotMode=te}postConstruct(){this.setTemplate(VU,[$T]);let e=this.cbPivotMode,{colModel:t,ctrlsSvc:i,gos:s}=this.beans;e.setValue(t.isPivotMode());let n=this.getLocaleTextFunc();e.setLabel(n("pivotMode","Pivot Mode"));let r=()=>{let d=!!e.getValue();d!==t.isPivotMode()&&(s.updateGridOptions({options:{pivotMode:d},source:"toolPanelUi"}),i.getHeaderRowContainerCtrls().forEach(h=>h.refresh()))},a=()=>{let d=t.isPivotMode();e.setValue(d)};this.addManagedListeners(e,{fieldValueChanged:r}),this.addManagedEventListeners({newColumnsLoaded:a,columnPivotModeChanged:a})}},zU=class extends ee{constructor(){super(...arguments),this.beanName="colToolPanelFactory"}setPanelVisible(e,t,i){return e?e.setDisplayed(t):t&&(e=i()),e}createRowGroupPanel(e,t){return this.createPanel(e,t,new BU(!1))}createValuesPanel(e,t){return this.createPanel(e,t,new GU(!1))}createPivotPanel(e,t){return this.createPanel(e,t,new NU(!1))}createPivotModePanel(e,t,i){return this.createPanel(e,t,new HU,i)}createPanel(e,t,i,s){return i=e.createBean(i),t.push(()=>e.destroyBean(i)),s?e.prependChild(i):e.appendChild(i),i}},Ma={moduleName:"ColumnsToolPanel",version:ap,beans:[zU],userComponents:{agColumnsToolPanel:IU},icons:{columnsToolPanel:"columns",menuAddRowGroup:"group",menuRemoveRowGroup:"group",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate"},dependsOn:[II,qj,gb,hb,CI,Qj]};var Foe=Ph.values();var Poe=Symbol("WrappedFunctionMarker");var WU={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",stackedLine:"line",normalizedLine:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall",funnel:"funnel",coneFunnel:"cone-funnel",pyramid:"pyramid"},jU=new Set(["columnLineCombo","areaColumnCombo","customCombo"]);function UU(e){return jU.has(e)}function $U(e){return e==="doughnut"?"donut":e}function KU(e){return WU[e]}var qU=["number","category","grouped-category","log","time"];var _oe=qU.reduce((e,t)=>be(U({},e),{[t]:{title:{_enabledFromTheme:!0}}}),{});var lp=e=>t=>t==null?!0:e(t);var YU=["doughnut"];function XU(e){return!!KU(e)||UU(e)}function ZU(e){return YU.includes(e)}var Loe=lp(e=>{if(XU(e))return!0;if(ZU(e)){let t=$U(e);return qh(`The chart type '${e}' has been deprecated. Please use '${t}' instead.`),t}return!1}),Ooe=lp(e=>typeof e=="object"),Noe=lp(e=>typeof e=="object"),Boe=lp(e=>typeof e=="string"||typeof e=="function");function zI(e){return e.map((t,i,s)=>t.map((n,r)=>s.slice(0,i+1).reduce((a,d)=>a+d[r],0)))}function WI(e){let t=e.map((i,s)=>e.reduce((n,r)=>Math.max(n,r[s]),0));return e.map(i=>i.map((s,n)=>s/t[n]*19))}var jI=[[1,3,5],[2,6,4],[5,3,1]];var QU=zI(jI);var Goe=WI(QU);var JU=jI;var e9=zI(JU);var Voe=WI(e9);var t9=["number","category","time","grouped-category"],i9=["angle-category","angle-number","radius-category","radius-number"],Hoe=[...t9,...i9];var Ra=class e{constructor(t){this.http=t}apiUrl="http://127.0.0.1:5000";getRawAlerts(){return this.http.get(`${this.apiUrl}/raw/alerts`)}getAnalyzedAlerts(t){return this.http.post(`${this.apiUrl}/analyze?alerts`,t)}static \u0275fac=function(i){return new(i||e)(xe(Ur))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})};var UI=ah(),cp=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,i){this._viewportRuler=t,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Pt(-this._previousScrollPosition.left),t.style.top=Pt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,s=t.style,n=i.style,r=s.scrollBehavior||"",a=n.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),UI&&(s.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UI&&(s.scrollBehavior=r,n.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,s=this._viewportRuler.getViewportSize();return i.scrollHeight>s.height||i.scrollWidth>s.width}};var dp=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,i,s,n){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=s,this._config=n}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Rt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},hc=class{enable(){}disable(){}attach(){}};function Eb(e,t){return t.some(i=>{let s=e.bottom<i.top,n=e.top>i.bottom,r=e.right<i.left,a=e.left>i.right;return s||n||r||a})}function $I(e,t){return t.some(i=>{let s=e.top<i.top,n=e.bottom>i.bottom,r=e.left<i.left,a=e.right>i.right;return s||n||r||a})}var up=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,i,s,n){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this._config=n}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:n}=this._viewportRuler.getViewportSize();Eb(i,[{width:s,height:n,bottom:n,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},QI=(()=>{class e{_scrollDispatcher=O(lh);_viewportRuler=O(aa);_ngZone=O(ge);_document=O(Ze);constructor(){}noop=()=>new hc;close=i=>new dp(this._scrollDispatcher,this._ngZone,this._viewportRuler,i);block=()=>new cp(this._viewportRuler,this._document);reposition=i=>new up(this._scrollDispatcher,this._viewportRuler,this._ngZone,i);static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ta=class{positionStrategy;scrollStrategy=new hc;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let i=Object.keys(t);for(let s of i)t[s]!==void 0&&(this[s]=t[s])}}};var hp=class{connectionPair;scrollableViewProperties;constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var JI=(()=>{class e{_attachedOverlays=[];_document=O(Ze);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let s=this._attachedOverlays.indexOf(i);s>-1&&this._attachedOverlays.splice(s,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),e1=(()=>{class e extends JI{_ngZone=O(ge);_renderer=O(ai).createRenderer(null,null);_cleanupKeydown;add(i){super.add(i),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=i=>{let s=this._attachedOverlays;for(let n=s.length-1;n>-1;n--)if(s[n]._keydownEvents.observers.length>0){this._ngZone.run(()=>s[n]._keydownEvents.next(i));break}};static \u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})();static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),t1=(()=>{class e extends JI{_platform=O(vt);_ngZone=O(ge);_renderer=O(ai).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(i){if(super.add(i),!this._isAttached){let s=this._document.body,n={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Ei(this._renderer,s,"pointerdown",this._pointerDownListener,n),Ei(this._renderer,s,"click",this._clickListener,n),Ei(this._renderer,s,"auxclick",this._clickListener,n),Ei(this._renderer,s,"contextmenu",this._clickListener,n)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(i=>i()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=i=>{this._pointerDownEventTarget=_i(i)};_clickListener=i=>{let s=_i(i),n=i.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let a=r.length-1;a>-1;a--){let d=r[a];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(KI(d.overlayElement,s)||KI(d.overlayElement,n))break;let h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i)}};static \u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})();static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KI(e,t){let i=typeof ShadowRoot<"u"&&ShadowRoot,s=t;for(;s;){if(s===e)return!0;s=i&&s instanceof ShadowRoot?s.host:s.parentNode}return!1}var i1=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(s,n){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return e})(),pc=(()=>{class e{_platform=O(vt);_containerElement;_document=O(Ze);_styleLoader=O(es);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||Uv()){let n=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let r=0;r<n.length;r++)n[r].remove()}let s=this._document.createElement("div");s.classList.add(i),Uv()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}_loadStyles(){this._styleLoader.load(i1)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mb=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,i,s,n){this._renderer=i,this._ngZone=s,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=i.listen(this.element,"click",n)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},ro=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new pe;_attachments=new pe;_detachments=new pe;_positionStrategy;_scrollStrategy;_locationChanges=it.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new pe;_outsidePointerEvents=new pe;_renders=new pe;_afterRenderRef;_afterNextRenderRef;constructor(t,i,s,n,r,a,d,h,v,b=!1,D,R){this._portalOutlet=t,this._host=i,this._pane=s,this._config=n,this._ngZone=r,this._keyboardDispatcher=a,this._document=d,this._location=h,this._outsideClickDispatcher=v,this._animationsDisabled=b,this._injector=D,this._renderer=R,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=cv(()=>Nm(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Qi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=U(U({},this._config),t),this._updateElementSize()}setDirection(t){this._config=be(U({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Pt(this._config.width),t.height=Pt(this._config.height),t.minWidth=Pt(this._config.minWidth),t.minHeight=Pt(this._config.minHeight),t.maxWidth=Pt(this._config.maxWidth),t.maxHeight=Pt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Mb(this._document,this._renderer,this._ngZone,i=>{this._backdropClick.next(i)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,i,s){let n=ra(i||[]).filter(r=>!!r);n.length&&(s?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(yi(an(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},qI="cdk-overlay-connected-position-bounding-box",s9=/([A-Za-z%]+)$/,pp=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new pe;_resizeSubscription=it.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,i,s,n,r){this._viewportRuler=i,this._document=s,this._platform=n,this._overlayContainer=r,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(qI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,s=this._viewportRect,n=this._containerRect,r=[],a;for(let d of this._preferredPositions){let h=this._getOriginPoint(t,n,d),v=this._getOverlayPoint(h,i,d),b=this._getOverlayFit(v,i,s,d);if(b.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(d,h);return}if(this._canFitWithFlexibleDimensions(b,v,s)){r.push({position:d,origin:h,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(h,d)});continue}(!a||a.overlayFit.visibleArea<b.visibleArea)&&(a={overlayFit:b,overlayPoint:v,originPoint:h,position:d,overlayRect:i})}if(r.length){let d=null,h=-1;for(let v of r){let b=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);b>h&&(h=b,d=v)}this._isPushed=!1,this._applyPosition(d.position,d.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&no(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,s){let n;if(s.originX=="center")n=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;n=s.originX=="start"?a:d}i.left<0&&(n-=i.left);let r;return s.originY=="center"?r=t.top+t.height/2:r=s.originY=="top"?t.top:t.bottom,i.top<0&&(r-=i.top),{x:n,y:r}}_getOverlayPoint(t,i,s){let n;s.overlayX=="center"?n=-i.width/2:s.overlayX==="start"?n=this._isRtl()?-i.width:0:n=this._isRtl()?0:-i.width;let r;return s.overlayY=="center"?r=-i.height/2:r=s.overlayY=="top"?0:-i.height,{x:t.x+n,y:t.y+r}}_getOverlayFit(t,i,s,n){let r=XI(i),{x:a,y:d}=t,h=this._getOffset(n,"x"),v=this._getOffset(n,"y");h&&(a+=h),v&&(d+=v);let b=0-a,D=a+r.width-s.width,R=0-d,A=d+r.height-s.height,k=this._subtractOverflows(r.width,b,D),L=this._subtractOverflows(r.height,R,A),H=k*L;return{visibleArea:H,isCompletelyWithinViewport:r.width*r.height===H,fitsInViewportVertically:L===r.height,fitsInViewportHorizontally:k==r.width}}_canFitWithFlexibleDimensions(t,i,s){if(this._hasFlexibleDimensions){let n=s.bottom-i.y,r=s.right-i.x,a=YI(this._overlayRef.getConfig().minHeight),d=YI(this._overlayRef.getConfig().minWidth),h=t.fitsInViewportVertically||a!=null&&a<=n,v=t.fitsInViewportHorizontally||d!=null&&d<=r;return h&&v}return!1}_pushOverlayOnScreen(t,i,s){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=XI(i),r=this._viewportRect,a=Math.max(t.x+n.width-r.width,0),d=Math.max(t.y+n.height-r.height,0),h=Math.max(r.top-s.top-t.y,0),v=Math.max(r.left-s.left-t.x,0),b=0,D=0;return n.width<=r.width?b=v||-a:b=t.x<this._viewportMargin?r.left-s.left-t.x:0,n.height<=r.height?D=h||-d:D=t.y<this._viewportMargin?r.top-s.top-t.y:0,this._previousPushAmount={x:b,y:D},{x:t.x+b,y:t.y+D}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let s=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!n9(this._lastScrollVisibility,s)){let n=new hp(t,s);this._positionChanges.next(n)}this._lastScrollVisibility=s}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),s,n=t.overlayY;t.overlayX==="center"?s="center":this._isRtl()?s=t.overlayX==="start"?"right":"left":s=t.overlayX==="start"?"left":"right";for(let r=0;r<i.length;r++)i[r].style.transformOrigin=`${s} ${n}`}_calculateBoundingBoxRect(t,i){let s=this._viewportRect,n=this._isRtl(),r,a,d;if(i.overlayY==="top")a=t.y,r=s.height-a+this._viewportMargin;else if(i.overlayY==="bottom")d=s.height-t.y+this._viewportMargin*2,r=s.height-d+this._viewportMargin;else{let A=Math.min(s.bottom-t.y+s.top,t.y),k=this._lastBoundingBoxSize.height;r=A*2,a=t.y-A,r>k&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-k/2)}let h=i.overlayX==="start"&&!n||i.overlayX==="end"&&n,v=i.overlayX==="end"&&!n||i.overlayX==="start"&&n,b,D,R;if(v)R=s.width-t.x+this._viewportMargin*2,b=t.x-this._viewportMargin;else if(h)D=t.x,b=s.right-t.x;else{let A=Math.min(s.right-t.x+s.left,t.x),k=this._lastBoundingBoxSize.width;b=A*2,D=t.x-A,b>k&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-k/2)}return{top:a,left:D,bottom:d,right:R,width:b,height:r}}_setBoundingBoxStyles(t,i){let s=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;n.height=Pt(s.height),n.top=Pt(s.top),n.bottom=Pt(s.bottom),n.width=Pt(s.width),n.left=Pt(s.left),n.right=Pt(s.right),i.overlayX==="center"?n.alignItems="center":n.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?n.justifyContent="center":n.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",r&&(n.maxHeight=Pt(r)),a&&(n.maxWidth=Pt(a))}this._lastBoundingBoxSize=s,no(this._boundingBox.style,n)}_resetBoundingBoxStyles(){no(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){no(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let s={},n=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(n){let b=this._viewportRuler.getViewportScrollPosition();no(s,this._getExactOverlayY(i,t,b)),no(s,this._getExactOverlayX(i,t,b))}else s.position="static";let d="",h=this._getOffset(i,"x"),v=this._getOffset(i,"y");h&&(d+=`translateX(${h}px) `),v&&(d+=`translateY(${v}px)`),s.transform=d.trim(),a.maxHeight&&(n?s.maxHeight=Pt(a.maxHeight):r&&(s.maxHeight="")),a.maxWidth&&(n?s.maxWidth=Pt(a.maxWidth):r&&(s.maxWidth="")),no(this._pane.style,s)}_getExactOverlayY(t,i,s){let n={top:"",bottom:""},r=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,s)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;n.bottom=`${a-(r.y+this._overlayRect.height)}px`}else n.top=Pt(r.y);return n}_getExactOverlayX(t,i,s){let n={left:"",right:""},r=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,s));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let d=this._document.documentElement.clientWidth;n.right=`${d-(r.x+this._overlayRect.width)}px`}else n.left=Pt(r.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),s=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$I(t,s),isOriginOutsideView:Eb(t,s),isOverlayClipped:$I(i,s),isOverlayOutsideView:Eb(i,s)}}_subtractOverflows(t,...i){return i.reduce((s,n)=>s-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+t-this._viewportMargin,bottom:s.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ra(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof He)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,s=t.height||0;return{top:t.y,bottom:t.y+s,left:t.x,right:t.x+i,height:s,width:i}}};function no(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function YI(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(s9);return!i||i==="px"?parseFloat(t):null}return e||null}function XI(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function n9(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var ZI="cdk-global-overlay-wrapper",gp=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ZI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:n,height:r,maxWidth:a,maxHeight:d}=s,h=(n==="100%"||n==="100vw")&&(!a||a==="100%"||a==="100vw"),v=(r==="100%"||r==="100vh")&&(!d||d==="100%"||d==="100vh"),b=this._xPosition,D=this._xOffset,R=this._overlayRef.getConfig().direction==="rtl",A="",k="",L="";h?L="flex-start":b==="center"?(L="center",R?k=D:A=D):R?b==="left"||b==="end"?(L="flex-end",A=D):(b==="right"||b==="start")&&(L="flex-start",k=D):b==="left"||b==="start"?(L="flex-start",A=D):(b==="right"||b==="end")&&(L="flex-end",k=D),t.position=this._cssPosition,t.marginLeft=h?"0":A,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":k,i.justifyContent=L,i.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,s=i.style;i.classList.remove(ZI),s.justifyContent=s.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},s1=(()=>{class e{_viewportRuler=O(aa);_document=O(Ze);_platform=O(vt);_overlayContainer=O(pc);constructor(){}global(){return new gp}flexibleConnectedTo(i){return new pp(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Js=(()=>{class e{scrollStrategies=O(QI);_overlayContainer=O(pc);_positionBuilder=O(s1);_keyboardDispatcher=O(e1);_injector=O(Je);_ngZone=O(ge);_document=O(Ze);_directionality=O(bs);_location=O(fv);_outsideClickDispatcher=O(t1);_animationsModuleType=O(Fi,{optional:!0});_idGenerator=O(vn);_renderer=O(ai).createRenderer(null,null);_appRef;_styleLoader=O(es);constructor(){}create(i){this._styleLoader.load(i1);let s=this._createHostElement(),n=this._createPaneElement(s),r=this._createPortalOutlet(n),a=new Ta(i);return a.direction=a.direction||this._directionality.value,new ro(r,s,n,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(hi),this._renderer)}position(){return this._positionBuilder}_createPaneElement(i){let s=this._document.createElement("div");return s.id=this._idGenerator.getId("cdk-overlay-"),s.classList.add("cdk-overlay-pane"),i.appendChild(s),s}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(fs)),new Yl(i,null,this._appRef,this._injector,this._document)}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var r9=new ce("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=O(Js);return()=>e.scrollStrategies.reposition()}});function o9(e){return()=>e.scrollStrategies.reposition()}var a9={provide:r9,deps:[Js],useFactory:o9},gc=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({providers:[Js,a9],imports:[bn,Zn,ch,ch]})}return e})();function l9(e,t){}var ar=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var Tb=(()=>{class e extends Zr{_elementRef=O(He);_focusTrapFactory=O(Hv);_config;_interactivityChecker=O(ih);_ngZone=O(ge);_overlayRef=O(ro);_focusMonitor=O(Kr);_renderer=O(vs);_platform=O(vt);_document=O(Ze,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=O(mn);_injector=O(Je);_isDestroyed=!1;constructor(){super(),this._config=O(ar,{optional:!0})||new ar,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let s=this._ariaLabelledByQueue.indexOf(i);s>-1&&(this._ariaLabelledByQueue.splice(s,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let s=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),s}attachTemplatePortal(i){this._portalOutlet.hasAttached();let s=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),s}attachDomPortal=i=>{this._portalOutlet.hasAttached();let s=this._portalOutlet.attachDomPortal(i);return this._contentAttached(),s};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{r(),a(),i.removeAttribute("tabindex")},r=this._renderer.listen(i,"blur",n),a=this._renderer.listen(i,"mousedown",n)})),i.focus(s)}_focusByCssSelector(i,s){let n=this._elementRef.nativeElement.querySelector(i);n&&this._forceFocus(n,s)}_trapFocus(){this._isDestroyed||Qi(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let i=this._config.restoreFocus,s=null;if(typeof i=="string"?s=this._document.querySelector(i):typeof i=="boolean"?s=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(s=i),this._config.restoreFocus&&s&&typeof s.focus=="function"){let n=Ul(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(s,this._closeInteractionType),this._closeInteractionType=null):s.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,s=Ul();return i===s||i.contains(s)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ul()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(s){return new(s||e)};static \u0275cmp=ze({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(s,n){if(s&1&&Di(yn,7),s&2){let r;jt(r=Ut())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(s,n){s&2&&gi("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[ci],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(s,n){s&1&&di(0,l9,0,0,"ng-template",0)},dependencies:[yn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})(),fc=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new pe;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,i){this.overlayRef=t,this.config=i,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(s=>{s.keyCode===27&&!this.disableClose&&!Cn(s)&&(s.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let s=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),s.next(t),s.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},c9=new ce("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=O(Js);return()=>e.scrollStrategies.block()}}),d9=new ce("DialogData"),u9=new ce("DefaultDialogConfig");var Ib=(()=>{class e{_overlay=O(Js);_injector=O(Je);_defaultOptions=O(u9,{optional:!0});_parentDialog=O(e,{optional:!0,skipSelf:!0});_overlayContainer=O(pc);_idGenerator=O(vn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new pe;_afterOpenedAtThisLevel=new pe;_ariaHiddenElements=new Map;_scrollStrategy=O(c9);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=al(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qi(void 0)));constructor(){}open(i,s){let n=this._defaultOptions||new ar;s=U(U({},n),s),s.id=s.id||this._idGenerator.getId("cdk-dialog-"),s.id&&this.getDialogById(s.id);let r=this._getOverlayConfig(s),a=this._overlay.create(r),d=new fc(a,s),h=this._attachContainer(a,d,s);return d.containerInstance=h,this._attachDialogContent(i,d,h,s),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){Rb(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(s=>s.id===i)}ngOnDestroy(){Rb(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),Rb(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let s=new Ta({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(s.backdropClass=i.backdropClass),s}_attachContainer(i,s,n){let r=n.injector||n.viewContainerRef?.injector,a=[{provide:ar,useValue:n},{provide:fc,useValue:s},{provide:ro,useValue:i}],d;n.container?typeof n.container=="function"?d=n.container:(d=n.container.type,a.push(...n.container.providers(n))):d=Tb;let h=new Xr(d,n.viewContainerRef,Je.create({parent:r||this._injector,providers:a}));return i.attach(h).instance}_attachDialogContent(i,s,n,r){if(i instanceof oi){let a=this._createInjector(r,s,n,void 0),d={$implicit:r.data,dialogRef:s};r.templateContext&&(d=U(U({},d),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),n.attachTemplatePortal(new Us(i,null,d,a))}else{let a=this._createInjector(r,s,n,this._injector),d=n.attachComponentPortal(new Xr(i,r.viewContainerRef,a));s.componentRef=d,s.componentInstance=d.instance}}_createInjector(i,s,n,r){let a=i.injector||i.viewContainerRef?.injector,d=[{provide:d9,useValue:i.data},{provide:fc,useValue:s}];return i.providers&&(typeof i.providers=="function"?d.push(...i.providers(s,i,n)):d.push(...i.providers)),i.direction&&(!a||!a.get(bs,null,{optional:!0}))&&d.push({provide:bs,useValue:{value:i.direction,change:Ki()}}),Je.create({parent:a||r,providers:d})}_removeOpenDialog(i,s){let n=this.openDialogs.indexOf(i);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,a)=>{r?a.setAttribute("aria-hidden",r):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),s&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let s=i.parentElement.children;for(let n=s.length-1;n>-1;n--){let r=s[n];r!==i&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Rb(e,t){let i=e.length;for(;i--;)t(e[i])}var r1=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({providers:[Ib],imports:[gc,Zn,zv,Zn]})}return e})();function h9(e,t){}var vc=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Ab="mdc-dialog--open",o1="mdc-dialog--opening",a1="mdc-dialog--closing",p9=150,g9=75,d1=(()=>{class e extends Tb{_animationMode=O(Fi,{optional:!0});_animationStateChanged=new X;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?c1(this._config.enterAnimationDuration)??p9:0;_exitAnimationDuration=this._animationsEnabled?c1(this._config.exitAnimationDuration)??g9:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(l1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(o1,Ab)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ab),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ab),this._animationsEnabled?(this._hostElement.style.setProperty(l1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(a1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(o1,a1)}_waitForAnimationToComplete(i,s){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(s,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let s=super.attachComponentPortal(i);return s.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),s}static \u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})();static \u0275cmp=ze({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(s,n){s&2&&(rv("id",n._config.id),gi("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),Ft("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},features:[ci],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(s,n){s&1&&(Ae(0,"div",0)(1,"div",1),di(2,h9,0,0,"ng-template",2),_e()())},dependencies:[yn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return e})(),l1="--mat-dialog-transition-duration";function c1(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?$r(e.substring(0,e.length-2)):e.endsWith("s")?$r(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var mc=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(mc||{}),Ia=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new pe;_beforeClosed=new pe;_result;_closeFallbackTimeout;_state=mc.OPEN;_closeInteractionType;constructor(t,i,s){this._ref=t,this._containerInstance=s,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),s._animationStateChanged.pipe(Rt(n=>n.state==="opened"),Mr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),s._animationStateChanged.pipe(Rt(n=>n.state==="closed"),Mr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),an(this.backdropClick(),this.keydownEvents().pipe(Rt(n=>n.keyCode===27&&!this.disableClose&&!Cn(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),u1(this,n.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Rt(i=>i.state==="closing"),Mr(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=mc.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=mc.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function u1(e,t,i){return e._closeInteractionType=t,e.close(i)}var fp=new ce("MatMdcDialogData"),h1=new ce("mat-mdc-dialog-default-options"),p1=new ce("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=O(Js);return()=>e.scrollStrategies.block()}});var lr=(()=>{class e{_overlay=O(Js);_defaultOptions=O(h1,{optional:!0});_scrollStrategy=O(p1);_parentDialog=O(e,{optional:!0,skipSelf:!0});_idGenerator=O(vn);_dialog=O(Ib);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new pe;_afterOpenedAtThisLevel=new pe;dialogConfigClass=vc;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=al(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(qi(void 0)));constructor(){this._dialogRefConstructor=Ia,this._dialogContainerType=d1,this._dialogDataToken=fp}open(i,s){let n;s=U(U({},this._defaultOptions||new vc),s),s.id=s.id||this._idGenerator.getId("mat-mdc-dialog-"),s.scrollStrategy=s.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(i,be(U({},s),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:s},{provide:ar,useValue:s}]},templateContext:()=>({dialogRef:n}),providers:(a,d,h)=>(n=new this._dialogRefConstructor(a,s,h),n.updatePosition(s?.position),[{provide:this._dialogContainerType,useValue:h},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=r.componentRef,n.componentInstance=r.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(n);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(s=>s.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let s=i.length;for(;s--;)i[s].close()}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Fn=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({providers:[lr],imports:[r1,gc,Zn,Mi,Mi]})}return e})();var f9={capture:!0},m9=["focus","mousedown","mouseenter","touchstart"],Fb="mat-ripple-loader-uninitialized",Pb="mat-ripple-loader-class-name",g1="mat-ripple-loader-centered",mp="mat-ripple-loader-disabled",f1=(()=>{class e{_document=O(Ze);_animationMode=O(Fi,{optional:!0});_globalRippleOptions=O(hh,{optional:!0});_platform=O(vt);_ngZone=O(ge);_injector=O(Je);_eventCleanups;_hosts=new Map;constructor(){let i=O(ai).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>m9.map(s=>Ei(i,this._document,s,this._onInteraction,f9)))}ngOnDestroy(){let i=this._hosts.keys();for(let s of i)this.destroyRipple(s);this._eventCleanups.forEach(s=>s())}configureRipple(i,s){i.setAttribute(Fb,this._globalRippleOptions?.namespace??""),(s.className||!i.hasAttribute(Pb))&&i.setAttribute(Pb,s.className||""),s.centered&&i.setAttribute(g1,""),s.disabled&&i.setAttribute(mp,"")}setDisabled(i,s){let n=this._hosts.get(i);n?(n.target.rippleDisabled=s,!s&&!n.hasSetUpEvents&&(n.hasSetUpEvents=!0,n.renderer.setupTriggerEvents(i))):s?i.setAttribute(mp,""):i.removeAttribute(mp)}_onInteraction=i=>{let s=_i(i);if(s instanceof HTMLElement){let n=s.closest(`[${Fb}="${this._globalRippleOptions?.namespace??""}"]`);n&&this._createRipple(n)}};_createRipple(i){if(!this._document||this._hosts.has(i))return;i.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(Pb)),i.append(s);let n=this._animationMode==="NoopAnimations",r=this._globalRippleOptions,a=n?0:r?.animation?.enterDuration??Xl.enterDuration,d=n?0:r?.animation?.exitDuration??Xl.exitDuration,h={rippleDisabled:n||r?.disabled||i.hasAttribute(mp),rippleConfig:{centered:i.hasAttribute(g1),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:d}}},v=new Zl(h,this._ngZone,s,this._platform,this._injector),b=!h.rippleDisabled;b&&v.setupTriggerEvents(i),this._hosts.set(i,{target:h,renderer:v,hasSetUpEvents:b}),i.removeAttribute(Fb)}destroyRipple(i){let s=this._hosts.get(i);s&&(s.renderer._removeTriggerEvents(),this._hosts.delete(i))}static \u0275fac=function(s){return new(s||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var v9=new ce("MAT_BUTTON_CONFIG");var C9=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],m1=(()=>{class e{_elementRef=O(He);_ngZone=O(ge);_animationMode=O(Fi,{optional:!0});_focusMonitor=O(Kr);_rippleLoader=O(f1);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){O(es).load(uh);let i=O(v9,{optional:!0}),s=this._elementRef.nativeElement,n=s.classList;this.disabledInteractive=i?.disabledInteractive??!1,this.color=i?.color??null,this._rippleLoader?.configureRipple(s,{className:"mat-mdc-button-ripple"});for(let{attribute:r,mdcClasses:a}of C9)s.hasAttribute(r)&&n.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",s){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,s):this._elementRef.nativeElement.focus(s)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(s){return new(s||e)};static \u0275dir=nt({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",j],disabled:[2,"disabled","disabled",j],ariaDisabled:[2,"aria-disabled","ariaDisabled",j],disabledInteractive:[2,"disabledInteractive","disabledInteractive",j]}})}return e})();var v1=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({imports:[Mi,Mi]})}return e})();var b9=["mat-button",""],y9=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],w9=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var oo=(()=>{class e extends m1{static \u0275fac=(()=>{let i;return function(n){return(i||(i=xi(e)))(n||e)}})();static \u0275cmp=ze({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(s,n){s&2&&(gi("disabled",n._getDisabledAttribute())("aria-disabled",n._getAriaDisabled()),Hr(n.color?"mat-"+n.color:""),Ft("mat-mdc-button-disabled",n.disabled)("mat-mdc-button-disabled-interactive",n.disabledInteractive)("_mat-animation-noopable",n._animationMode==="NoopAnimations")("mat-unthemed",!n.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[ci],attrs:b9,ngContentSelectors:w9,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(s,n){s&1&&(fn(y9),Qt(0,"span",0),Cs(1),Ae(2,"span",1),Cs(3,1),_e(),Cs(4,2),Qt(5,"span",2)(6,"span",3)),s&2&&Ft("mdc-button__ripple",!n._isFab)("mdc-fab__ripple",n._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return e})();var ao=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({imports:[Mi,v1,Mi]})}return e})();var C1=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=Xe({type:e});static \u0275inj=Ye({imports:[Mi,Mi]})}return e})();var b1=(()=>{class e{constructor(i,s){this.el=i,this._zone=s,this.updateChange=new X(!0),this.chartInstance=new X}ngOnChanges(i){let s=i.update?.currentValue;(i.options||s)&&(this.wrappedUpdateOrCreateChart(),s&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){this.chart?.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}static{this.\u0275fac=function(s){return new(s||e)(At(He),At(ge))}}static{this.\u0275cmp=ze({type:e,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},standalone:!1,features:[ms],decls:0,vars:0,template:function(s,n){},encapsulation:2})}}return e})(),y1=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=Xe({type:e})}static{this.\u0275inj=Ye({})}}return e})();var x9=Hk(w1());var Aa=class e{constructor(t){this.http=t}apiUrl="http://127.0.0.1:5000";getRawClients(){return this.http.get(`${this.apiUrl}/raw/clients`)}getAnalyzedClients(t){return this.http.post(`${this.apiUrl}/analyze?clients`,t)}static \u0275fac=function(i){return new(i||e)(xe(Ur))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})};var Fa=class e{constructor(t){this.http=t}apiUrl="http://127.0.0.1:5000";getRawDevices(){return this.http.get(`${this.apiUrl}/raw/devices`)}getAnalyzedDevices(t){return this.http.post(`${this.apiUrl}/analyze?devices`,t)}static \u0275fac=function(i){return new(i||e)(xe(Ur))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})};var D9=(e,t)=>({"fa-chevron-down":e,"fa-chevron-up":t});function E9(e,t){e&1&&(Ae(0,"div",5),Qt(1,"div",6),Ae(2,"p"),Pi(3,"Analysing data..."),_e()())}function M9(e,t){if(e&1&&(Ae(0,"div",9)(1,"h3"),Pi(2),_e(),Qt(3,"highcharts-chart",10),_e()),e&2){let i=t.$implicit,s=t.index,n=fi(2);lt(2),Vu("Chart ",s+1,""),lt(),wt("Highcharts",n.Highcharts)("options",n.analyzedData[i])}}function R9(e,t){if(e&1&&(Ae(0,"div",7),di(1,M9,4,3,"div",8),_e()),e&2){let i=fi();lt(),wt("ngForOf",i.objectKeys(i.analyzedData))}}function T9(e,t){if(e&1&&(Ae(0,"li"),Pi(1),_e()),e&2){let i=t.$implicit;lt(),Ol(i)}}function I9(e,t){if(e&1&&(Ae(0,"div",15)(1,"ul"),di(2,T9,2,1,"li",16),_e()()),e&2){let i=fi(2);lt(2),wt("ngForOf",i.insightsList)}}function A9(e,t){if(e&1){let i=zr();Ae(0,"div",11)(1,"button",12),Tt("click",function(){Xt(i);let n=fi();return Zt(n.toggleInsights())}),Pi(2," View Insights "),Qt(3,"i",13),_e(),di(4,I9,3,1,"div",14),_e()}if(e&2){let i=fi();lt(3),wt("ngClass",tE(2,D9,!i.showInsights,i.showInsights)),lt(),wt("ngIf",i.showInsights)}}var cr=class e{constructor(t){this.data=t;t.param==="clients"?this.fetchAnalyzedClients(t.columns):t.param==="alerts"?this.fetchAnalyzedAlerts(t.columns):this.fetchAnalyzedDevices(t.columns)}Highcharts=x9;analyzedData=null;analyzedInsights=null;loading=!0;insightsList=[];showInsights=!1;dialogRef=O(Ia);clientsService=O(Aa);alertsService=O(Ra);devicesService=O(Fa);fetchAnalyzedClients(t){this.clientsService.getAnalyzedClients(t).subscribe(i=>{this.analyzedData=i.highcharts_config,this.analyzedInsights=i.insights,this.loading=!1},()=>this.loading=!1)}fetchAnalyzedAlerts(t){this.alertsService.getAnalyzedAlerts(t).subscribe(i=>{this.analyzedData=i.highcharts_config,this.analyzedInsights=i.insights,this.loading=!1},()=>this.loading=!1)}fetchAnalyzedDevices(t){this.devicesService.getAnalyzedDevices(t).subscribe(i=>{this.analyzedData=i.highcharts_config,this.analyzedInsights=i.insights,this.loading=!1},()=>this.loading=!1)}objectKeys(t){return Object.keys(t)}toggleInsights(){this.showInsights=!this.showInsights,this.insightsList=Object.values(this.analyzedInsights)}closeDialog(){this.dialogRef.close()}static \u0275fac=function(i){return new(i||e)(At(fp))};static \u0275cmp=ze({type:e,selectors:[["app-autoviz-dialog"]],decls:6,vars:3,consts:[[1,"chart-container"],["class","loading-container",4,"ngIf"],["class","chart-grid",4,"ngIf"],["class","insights-container",4,"ngIf"],[1,"close-btn",3,"click"],[1,"loading-container"],[1,"spinner"],[1,"chart-grid"],["class","chart-item",4,"ngFor","ngForOf"],[1,"chart-item"],[2,"width","100%","height","400px","display","block",3,"Highcharts","options"],[1,"insights-container"],[1,"dropdown-btn",3,"click"],[1,"fas","arrow-icon",3,"ngClass"],["class","insights-dropdown",4,"ngIf"],[1,"insights-dropdown"],[4,"ngFor","ngForOf"]],template:function(i,s){i&1&&(Ae(0,"div",0),di(1,E9,4,0,"div",1)(2,R9,2,1,"div",2),_e(),di(3,A9,5,5,"div",3),Ae(4,"button",4),Tt("click",function(){return s.closeDialog()}),Pi(5,"Close"),_e()),i&2&&(lt(),wt("ngIf",s.loading),lt(),wt("ngIf",!s.loading&&s.analyzedData),lt(),wt("ngIf",!s.loading))},dependencies:[mv,pE,gE,fE,Fn,C1,y1,b1],styles:[".dialog-container[_ngcontent-%COMP%]{padding:20px;max-width:90vw}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;text-align:center}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(0,0,0,.2);border-top:5px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.chart-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.chart-item[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:8px;box-shadow:0 4px 6px #0000001a;width:30%}.close-btn[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}.close-btn[_ngcontent-%COMP%]:hover{background-color:#c9302c}.insights-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:20px}.dropdown-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;border:none;cursor:pointer;font-size:16px;text-align:center;display:inline-block}.dropdown-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.insights-dropdown[_ngcontent-%COMP%]{margin-top:10px;background-color:#f1f1f1;padding:15px;border-radius:5px;width:80%;text-align:left;box-shadow:0 4px 6px #0000001a}.insights-dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}.arrow-icon[_ngcontent-%COMP%]{margin-left:15px;transition:transform .8s ease}"]})};var Cp=class e{alertsService=O(Ra);alerts=[];rowData=[];dialog=O(lr);gridApi;constructor(){this.fetchRawAlerts()}columnDefs=[{field:"timestamp",headerName:"Timestamp"},{field:"app",headerName:"Application"},{field:"message_metadata_name",headerName:"Alert Name"},{field:"severity_name",headerName:"Severity"},{field:"category_name",headerName:"Category"},{field:"acknowledged",headerName:"Status",valueGetter:t=>t.data.acknowledged?"Acknowledged":"Unacknowledged"},{field:"site_name",headerName:"Site"},{field:"source.source_name",headerName:"Source Name"}];fetchRawAlerts(){this.alertsService.getRawAlerts().subscribe(t=>{this.alerts=t.data,this.rowData=this.alerts})}onGridReady(t){this.gridApi=t.api}getCurrentColumns(){let t=this.gridApi.getAllDisplayedColumnGroups();return t?t.map(s=>s.getColId()):[]}openAutoVizDialog(){this.dialog.open(cr,{width:"90vw",height:"80vh",maxWidth:"none",panelClass:"full-width-dialog",data:{param:"alerts",columns:this.getCurrentColumns()}})}modules=[xa,Ma];sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"}],defaultToolPanel:""};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ze({type:e,selectors:[["app-alerts"]],decls:4,vars:4,consts:[[1,"header"],["mat-raised-button","","color","primary",3,"click"],[2,"width","100%","height","400px",3,"gridReady","rowData","columnDefs","modules","sideBar"]],template:function(i,s){i&1&&(Ae(0,"div",0)(1,"button",1),Tt("click",function(){return s.openAutoVizDialog()}),Pi(2,"Visualize"),_e()(),Ae(3,"ag-grid-angular",2),Tt("gridReady",function(r){return s.onGridReady(r)}),_e()),i&2&&(lt(3),wt("rowData",s.rowData)("columnDefs",s.columnDefs)("modules",s.modules)("sideBar",s.sideBar))},dependencies:[Da,Fn,ao,oo],styles:[".header[_ngcontent-%COMP%]{text-align:right;margin-bottom:10px}"]})};var bp=class e{clientService=O(Aa);clients=[];rowData=[];dialog=O(lr);gridApi;constructor(){this.fetchRawClients()}columnDefs=[{field:"connection_status",headerName:"Connection Status"},{field:"client_hostname",headerName:"Client Hostname"},{field:"site",headerName:"Site"},{field:"ipv4",headerName:"IPv4"},{field:"operating_system",headerName:"Operating System"},{field:"mac",headerName:"MAC address"},{field:"username",headerName:"Username"},{field:"vlan",headerName:"VLAN"},{field:"switch_name",headerName:"Switch Name"}];fetchRawClients(){this.clientService.getRawClients().subscribe(t=>{this.clients=t.data,this.rowData=this.clients})}onGridReady(t){this.gridApi=t.api}getCurrentColumns(){let t=this.gridApi.getAllDisplayedColumnGroups();return t?t.map(s=>s.getColId()):[]}openAutoVizDialog(){this.dialog.open(cr,{width:"90vw",height:"80vh",maxWidth:"none",panelClass:"full-width-dialog",data:{param:"clients",columns:this.getCurrentColumns()}})}modules=[xa,Ma];sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"}],defaultToolPanel:""};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ze({type:e,selectors:[["app-clients"]],decls:4,vars:4,consts:[[1,"header"],["mat-raised-button","","color","primary",3,"click"],[2,"width","100%","height","400px",3,"gridReady","rowData","columnDefs","modules","sideBar"]],template:function(i,s){i&1&&(Ae(0,"div",0)(1,"button",1),Tt("click",function(){return s.openAutoVizDialog()}),Pi(2,"Visualize"),_e()(),Ae(3,"ag-grid-angular",2),Tt("gridReady",function(r){return s.onGridReady(r)}),_e()),i&2&&(lt(3),wt("rowData",s.rowData)("columnDefs",s.columnDefs)("modules",s.modules)("sideBar",s.sideBar))},dependencies:[Da,Fn,ao,oo],styles:[".header[_ngcontent-%COMP%]{text-align:right;margin-bottom:10px}"]})};var yp=class e{devicesService=O(Fa);devices=[];rowData=[];dialog=O(lr);gridApi;constructor(){this.fetchRawDevices()}columnDefs=[{field:"connected",headerName:"Connection Status",valueGetter:t=>t.data.connected?"Connected":"Disconnected"},{field:"hostname",headerName:"Device Hostname"},{field:"locations.site",headerName:"Site"},{field:"healthy_clients",headerName:"Healthy Clients"},{field:"unhealthy_clients",headerName:"Unhealthy Clients"},{field:"software_version",headerName:"Software version"},{field:"mac_address",headerName:"MAC address"},{field:"serial_number",headerName:"Serial Number"},{field:"device_ip",headerName:"IP address"},{field:"product_type",headerName:"Product Type"},{field:"managed_by",headerName:"Managed By"},{field:"device_category",headerName:"Device Category"}];fetchRawDevices(){this.devicesService.getRawDevices().subscribe(t=>{this.devices=t.data,this.rowData=this.devices})}onGridReady(t){this.gridApi=t.api,this.gridApi.closeToolPanel()}getCurrentColumns(){let t=this.gridApi.getAllDisplayedColumnGroups();return t?t.map(s=>s.getColId()):[]}openAutoVizDialog(){this.dialog.open(cr,{width:"90vw",height:"80vh",maxWidth:"none",panelClass:"full-width-dialog",data:{param:"devices",columns:this.getCurrentColumns()}})}modules=[xa,Ma];sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"}],defaultToolPanel:""};static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ze({type:e,selectors:[["app-devices"]],decls:4,vars:4,consts:[[1,"header"],["mat-raised-button","","color","primary",3,"click"],[2,"width","100%","height","400px",3,"gridReady","rowData","columnDefs","modules","sideBar"]],template:function(i,s){i&1&&(Ae(0,"div",0)(1,"button",1),Tt("click",function(){return s.openAutoVizDialog()}),Pi(2,"Visualize"),_e()(),Ae(3,"ag-grid-angular",2),Tt("gridReady",function(r){return s.onGridReady(r)}),_e()),i&2&&(lt(3),wt("rowData",s.rowData)("columnDefs",s.columnDefs)("modules",s.modules)("sideBar",s.sideBar))},dependencies:[Da,Fn,ao,oo],styles:[".header[_ngcontent-%COMP%]{text-align:right;margin-bottom:10px}"]})};var wp=class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=ze({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[["label","Alerts"],["label","Devices"],["label","Clients"]],template:function(i,s){i&1&&(Ae(0,"mat-tab-group")(1,"mat-tab",0),Qt(2,"app-alerts"),_e(),Ae(3,"mat-tab",1),Qt(4,"app-devices"),_e(),Ae(5,"mat-tab",2),Qt(6,"app-clients"),_e()())},dependencies:[yM,sC,bM,Cp,bp,yp],styles:["mat-tab-group[_ngcontent-%COMP%]{margin:20px}"]})};zE(wp,{providers:[PE()]}).catch(e=>console.error(e));
